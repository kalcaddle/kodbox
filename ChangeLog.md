## 1.58 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2025.4.18**   

- 文件管理
	- io文件读取上限配置处理;
	- s3存储自定义节点地址直链协议兼容调整
- 插件更新:
	- 项目管理:操作支持撤销反撤销(批量操作撤销支持);细节样式优化;服务器兼容更新;
	- excalidraw白板: 素材库保持处理优化(本地缓存存储,支持自己导入的素材,个人添加的素材);
	- 电子书阅读器: 优化重构;支持打开:epub/mobi/cbz/fb2/fbz;ui及细节优化;自动保存最后阅读进度;自动获取封面图;阅读界面设置;移动端自适应;
	- html在线预览优化: 支持手机端;安全沙盒隔离;html文件预览移动端兼容(采用doc.write方式;);
	- 文档审批优化: 权限申请,路径显示为最初路径信息;文档发布来源,自己必须有写权限;文件夹分栏模式时打开文档审批显示异常情况处理;
	- 第三方同步插件: 启用提示优化调整；罗列子部门默认参数调整;第三方统一身份认证插件
- 其他优化
	- 夸克浏览器部分兼容: sdk文件保存进度卡住问题(drawio等文件保存,新窗口打开正常,文件管理中打开编辑保存异常,多层iframe时出现);
	- 键盘事件,正在输入中文时Enter/Escape不触发回调(esc不退出编辑; 修改type值屏蔽后续判断);
	- 安全优化: svg输出安全过滤优化;个人中心操作日志/登录日志请求优化;压缩包内容查看权限默认检验预览权限;
	- 部分安卓浏览器兼容处理; 内置trim统一处理(移动端文件管理,地址栏点击提示错误问题)
	- 文件列表折叠后切列表显示模式,再展开折叠的分组内容显示异常问题优化; zip压缩包预览优化;
	- markdown内代码显示优化: 新增工具栏(复制/自动换行/html时支持预览);高亮优化;
	
##### bug fixed
- 外链分享文件夹:关闭预览权限保留下载时,下载文件提示无权限问题


## 1.57 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2025.3.6**   

- 文件管理
	- 图片exif属性显示优化;
	- 虚拟列表更新优化(动态diff处理,减少dom操作); 分组标题固定顶部处理优化;
	- ui细节优化: markdown文件外链分享,移动端预览样式优化; 图片属性标题栏按钮浅色优化; 深色模式部分按钮文字颜色优化;
	- 部门标签更新优化(增量更新处理);
	- 部门或用户支持指定存储空间;
	- 搜索加入历史记录(搜索关键词后本地记录;支持单个删除/全部清除);
	- 文件文件夹名包含emoji时,分享时报错优化(新建/重命名/分享/收藏/...; 需在后台-服务器管理,点击"Update mysql charset",将数据库编码转为utf8mb4)
	- 拖拽上传通用sdk支持,支持拖拽响应到dom;
	- 拖拽文件到评论编辑区域自动上传(仅文件,支持多个;默认上传到个人空间/hook; 上传到当前文件夹或文件的所在文件夹)
	- 外链分享: 文件属性--加入复制下载url(无下载权限屏蔽);
- 其他优化
	- 配置数据提交,增量更新处理优化(前端diff,后端只增量更新diff部分;避免完整覆盖;)
	- 文件管理: 上传按钮点击,默认触发本地文件选择;
	- 键盘事件,正在输入中文时Enter/Escape不触发回调(正在输入中文-esc,不退出编辑; 修改type值屏蔽后续判断);
	- 思维导图更新优化;excalidraw插件更新(导入外部资源库,持续有效)
	- 操作日志,修改密码内容显示优化;
	- 拖拽排序组件, 支持设置保持滚动位置的子元素;
	- firefox兼容: 文件拖拽判断兼容; 滚动条样式处理兼容;
	- sdk新增accessToken支持;
	
##### bug fixed
- pdf文件预览安全优化(构造js代码执行屏蔽处理)
- 外链分享: 文件属性--复制文件url打开后报错优化;


## 1.56 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2025.1.10**   

- 文件管理
	- 文件历史版本增加操作日志;
	- linux下davfs方式挂载webdav, 写入兼容处理(lock/unlock支持);访问挂载的路径列表性能优化(缩略图生成优化,hashPath);
	- 从剪贴板粘贴图片到kod时,粘贴完成后自动选中处理优化(支持截图内容,本地复制的文件/文件夹);
	- 剪贴板复制粘贴增强(粘贴时需要ctrl+v来触发;)
		- 复制选中文件/文件夹时,将数据标记写入到剪贴板(https/localhost站点支持),方便直接粘贴到其他kod文件管理页面;
		- 同站点不同浏览或标签粘贴(站内复制): 如果剪贴板中的内容来自同一站点,则执行本地文件复制操作.
		- 跨站点粘贴(文件下载):如果剪贴板中的内容来自不同的站点(通过kodID判断),并且包含文件下载链接,则触发远程下载.
		- 远程下载条件: 外网--外网--内网--内网; 其中内网复制-外网粘贴,由于网络原因不通可能会失败;
		- 优先级: 优先当前文件管理有复制内容时,响应当前内容; 其次检测剪贴板内容; 
	- 搜索优化:默认搜索当前目录,可切换到根目录(当前目录的根目录); 目录不支持后端搜索时,仅屏蔽搜索按钮;
	- 文本编辑器加入编辑菜单:撤销,反撤销|复制,粘贴,剪切|查找,替换,全选等(方便手机浏览器操作;复制粘贴不同情况兼容处理)
	- 其他优化:七牛io搜索异常调整;外链分享文件夹下载次数限制调整;远程下载文件名显示优化,点击进入所在位置并选中文件;
	
- 其他优化
	- 后台优化: 存储管理列表获取优化;samba权限优化;存储导入插件提示优化;
	- adminer插件异常调整
	- 第三方同步插件增加自动启用部门;
	- tips组件优化:loading/close单例复用动画显示优化;手动关闭处理优化;
	- form通用表单,批量设置值时,延迟加载的组件数据处理优化;
	
##### bug fixed
- OSS对象存储直传文件时,部分情况后端数据异常时前端报错处理优化;


## 1.55 版本更新 
> **主要新增**: 文件夹支持设置密码,细节优化...  
> **发布于: 2024.12.5**   

- 文件管理
	- 搜索优化: 搜索描述/标签,提取到高级搜索可选项, 默认勾选,取消勾选时不搜索对应内容;
	- 文件夹加密
		- 设置密码:右键菜单/元数据面板;设置密码/重置密码/移除密码(提示信息,密码有效期)
		- 文件夹图标区分(有密码,文件夹图标区分)
		- 访问本身及子目录时需要输入密码(编辑者以上权限忽略密码;跟随会话;校验密码--更新后需要重新输入)
		- 父目录剪切移动时处理(复制保持密码);父目录复制时处理(子文件夹包含设置密码的文件夹时,提示需要输入密码)
		- 收藏内容,外链分享,协作分享等保持密码需要输入(数据过滤)
	- 图片查看器,增加设置,支持设置打开图片默认查看原图(查看大图/查看原图);
	- 默认存储为对象存储时,上传文件失败情况处理优化;
- 其他优化
	- 输入框组件,input自动焦点,enter回车自动提交;
	- ui组件新增通用分步组件,kui-step-bar;
	- 外链分享绝对路径文件夹,特定情况下载文件夹后发现文件大小为0处理(文件不存在情况处理)
	- docker环境根路径下,创建zip压缩包失败情况兼容处理;
	
##### bug fixed
- 外链分享文件夹, 文件新页面打开,url出现两个##的问题;
- 外链分享的文件没有扩展名,禁用预览,会以文本文件的形式打开问题;


## 1.54 版本更新 
> **主要新增**: 安全及细节优化...  
> **发布于: 2024.11.14**   

- 安全优化: xxs防护处理(前端,后端同步处理)
- 文件管理
	- 文件夹所在目录菜单优化: 更多中加入 '加入收藏/取消收藏'(仅移动端支持该特性)
	- 外链分享图片文件,点击查看大图时异常(优化:继续使用插件打开); 单文件分享,地址栏图标显示优化;
	- 文件外链分享,禁止预览时显示调整; 单文件外链分享,标题栏下载按钮显示优化;
	- api调用文件选择,支持追加树目录根目录内容
- 其他优化
	- tab视图组件优化:切换tab视图时,选中tab自动滚动到可是区域(移动端,手势左右滑动同理)
	- 右键菜单有滚动条时,hover子菜单经过滚动条时,子菜单消失情况优化;
	- 外链分享协作分享,数据获取按用户缓存: 分享更新后再拉取,自动更新缓存;
	- 后台php信息显示优化；后台无效用户分享列表过滤
	- 文档评论优化:多选优化; 评论插入表情显示优化; 评论插入markdown相关优化;
	- 移动端输入框聚焦,弹出键盘后自动聚焦输入框位置优化;
	- 拖拽排序组件,移动端垂直拖拽排序时,禁用滚动条滚动;
	- 项目管理插件: 更新到1.09版本(支持多选操作,xxs防护处理)
	
##### bug fixed
- 用户删除后, 协作分享包含删除用户时,其他用户显示异常情况处理(前端缓存用户id时处理优化)
- 第三方挂载对象存储,后台生成缩略图异常调整


## 1.53 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2024.10.25**   

- 文件管理
	- 系统应用数据文件夹支持,第三方应用数据单独隔离区域,根目录只读处理(可从私密保险箱进入);
	- epub阅读器插件,html中包含恶意代码安全处理;
	- onlyoffice插件处理:外链分享office文件,设置仅登录用户可见时,onlyoffice预览时异常情况处理
	- 多个文件管理对象,右键菜单隔离;
	- 虚拟列表优化: 大量内容时绘制限流处理;头部固定处理优化;
	- webdav插件,同步第三方super-productivity兼容;
	- webdav兼容处理: aliist挂载阿里云盘,再挂载到kod中,文件无法打开问题兼容(阿里云盘文件访问url做了referer校验)
	- 外链分享,缓存数据按用户区分处理;
	- 移动端显示优化: 文件管理--多选文件底部工具栏图标显示优化;对话框高度优化; 后台管理-个人中心及系统回收站,手势滑动菜单显示优化;
	- 文件分栏模式优化: 分栏刷新/全部刷新,刷新后保持分栏滚动条位置; 文件夹重命名后,保持选中;
- 其他优化
	- 登录管控,增加webdav管控;
	- 滚动条组件优化: 按住shift滚动时,只处理x方向滚动,忽略y方向;
	- ace编辑器组件,部分特殊符号光标错位问题优化;
	- 通用拖拽排序组件移动端适配;
	- 挂载的webdav存储,批量重命名--查找替换--忽略时数据异常情况处理; 文件夹名称为0时显示异常问题处理;
	- 批量重命名优化: 查找替换处理为全量替换; 加入正则替换,替换来源和目的支持正则; 
	- form表单下拉菜单事件优化: 键盘上下左右切换选项时,阻止事件冒泡;
	- UI优化: 移动端对话框弹出层位移统一优化; app下载二维码弹出层对话框位移异常情况处理;
	- 安全优化: 新建轻应用,url为js代码时屏蔽处理;
	- 文件夹剪切,已存在覆盖情况结束删除优化(确保并发相同操作,结果异常时原文件被删除问题;)
	- html保存清理优化: 保持富文本编辑器公式;保持table编辑合并单元格等属性;
	- 其他优化: 手机端浏览器,文件列表模式文件名过长时换行显示优化; 部分手机端浏览器-文件管理-搜索点击异常情况优化;
	- 后端细节优化: html清理报错优化; 物理文件清理,默认清理1天前的内容(清空缓存,立即清理);
	- 细节优化: 拖拽排序组件,快速拖拽情况优化;iframe时cookie获取优化;html文件打开处理;页面加载后不自动focus;壁纸设置ui优化;
- 项目管理模块(详情见插件readme)
	- 以看板为主要管理方式,方便各类项目管理;
	- 多种管理方式: 项目看板, 列表模式, 日历模式,甘特图模式; 
	- 多人协作数据实时处理: diff方式动态高效更新全局数据; 项目配置变更自动更新;
	- 支持自定义字段: 自定义字段,丰富任务管理; 自定义任务完成状态;
	- 更多应用: 项目文件, 统计概览,...
	
##### bug fixed
- 文件读写sdk,drawio保存文件时界面错位问题处理(深色模式,保存时页面错位)
- 图片文件名包含'时,系统自带缩略图生成展示异常情况处理;
- 文件分栏模式重复问题: 选中文件夹-点击重命名按钮-点击其他分栏空白区域,子分栏重复问题; 选中文件夹-重命名-再次重命名时异常情况;
- 其他ui异常: 外链分享文件文件夹,子文件夹名包含空格等特殊字符时文件列表显示异常情况处理;外链分析文件夹,右键菜单优化;外链分析下载按钮显示异常情况;

## 1.52 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2024.08.01**   

- 文件管理
	- teamos系统增加samba功能: 管理员设置目录对应成员及权限;自动挂载处理;视频播放处理等;
	- 文件选择/预览sdk优化;
	- 外链分享到期时间,加入快捷筛选(默认7天);
	- ui样式调整: wap端头部菜单样式简化; 右键菜单样式优化;对话框图标优化;其他细节样式优化;
	- 思维导图优化,组件库升级,页面点击时自动保持焦点(对话框打开smm文件后点击页面区域自动焦点);
- 其他优化
	- sso单点登录(adminer插件或自定义插件),采用文件缓存时,维持同步登录,同步退出状态优化;
	- 壁纸修改后,更新可选择选项; 
	- 未登录访问应用时优化(drawio,思维导图等): 登录后保持之前页面;配置修改不提交到服务端(前端记录);
	- form表单下拉菜单,高度不足时自适应滚动条处理;
	- 安装界面显示优化；消息发送频率检测优化;
	- 系统一键安装更新调整；无用户修改权限的用户禁止重置密码调整(teamos)
	- 其他:树目录用户标签拖拽排序更新优化;鼠标中间点击文件打开对应文件夹优化(不在该文件上鼠标抬起则忽略);

##### bug fixed
- 管理员后台,用户角色列表拖拽排序失效问题修复;
- wap移动端,编辑器打开文件,菜单打开后再次打开被遮挡情况处理(包含文件管理对话框)
- 对话框打开站内iframe时,对话框焦点的处理(ifrme内部input焦点时无法聚焦问题处理)


## 1.51 版本更新 
> **主要新增**: 外链分享增强,细节优化...  
> **发布于: 2024.07.04**   

- 文件管理
	- 内部协作分享,指定某用户为拥有者时, 该用户可以编辑该协作分享成员及权限;
	- 打开多个文件管理窗口时(鼠标中键点击文件文件夹/文件夹右键-管理目录),文件跨窗口拖拽性能优化;
	- 多窗口文件列表请求缓存优化(新建重命名等情况通知到其他窗口, 目录变化响应变更时,相同请求进行自动缓存合并);
	- 文件管理列表区域,加入鼠标中键拖拽, 对应xy滚动条滚动(列表模式/分栏模式); 鼠标中间点击文件打开对应文件夹优化(不在该文件上鼠标松开则忽略); 
	- 拖拽文件文件夹,hover停留在文件夹或地址栏自动进入对应文件夹,chrome最新版事件响应兼容处理(跟随鼠标移动)
	- 外链分享,页面浅色/深色模式切换(文件分享/文件夹分享/文件夹文档模式); 按分享id记录配置到本地;
- 外链分享文件夹,加入文档预览模式
	- 新增文档预览模式,方便将markdown,代码等文件夹作为知识库,帮助文档形式提供给外部用户查看;[效果查看](https://demo.kodcloud.com/#s/-i5Mmnnw)
	- 左侧树目录区域: 默认展开根两层;文件夹点击展开收起(文件夹文件内容搜索;切换到文件夹模式)
	- 文档区域: 文件夹展示,markdown文件预览;html文件安全预览;其他文本文件显示;其他各类支持预览的文件显示
	- url跳转支持: 相对路径文件调整支持(允许忽略.md扩展名); 
	- markdown自定义菜单: 当分享文件夹根目录包含 _sidebar.md 时,此文件会作为菜单自动显示在左侧;相对路径打开自动跳转;打开md文件时,自动生成目录追加到对应菜单下;
	- markdown自定义菜单支持重定向到外部url(返回文本内容按markdown处理; eg: ```- [更新内容](/help/changeLog@http://xxx)``` );
	- 默认打开文件: 默认展示第一个文件;url打开文件记录;
	- 树目录/自定义菜单切换; 树目录模式时,自动生成的markdown目录展示在右侧; 点击跳转,滚动时自动定位目录高亮;浏览器前进后退支持;
	- 上页,下页(自定义目录模式;树目录模式); 修改时间,大小;文件夹显示优化;自定义目录;文件文件夹右键菜单增加进入入口;
	- 搜索内容支持;移动端适配; 深色模式(移动端/pc端); 深色模式切换;
	- markdown 内url引用跳转其他md文件,自动识别处理; 不支持预览的文件,显示下载界面,点击下载对应文件(zip文件自动预览,去除apk,ipa等文件);
- 外链分享支持可编辑权限(用户角色/分享内容有编辑权限时)
	- 外链分享文件,文件夹支持设置权限为 预览/可编辑;(分享设置前端/后端处理;分享页面前端/后端权限处理)
	- 设置可编辑后文件支持编辑保存,上传覆盖,新建文件,新建文件夹,上传文件(不支持删除);前端菜单及工具栏自适应,后端权限判断;
	- 文件保存处理, 文本文件; 插件sdk文件保存,文件选择情况支持(可读写时,默认可读方式打开);
	- 插件适配处理优化: onlyoffice保存处理优化; 其他插件处理: drawio,minder,svgEdit,tuiImage,photopea,...;
	- 拖拽移动复制等处理支持;
	- 后台全局开关: 默认开启支持设置为可编辑; 当后台关闭时,分享文件文件夹不支持设置为可编辑,已分享内容全局不支持编辑;
- 外链分享文件预览加密处理(水印及安全插件)
	- 加密范围: 外链分享,设置为不可下载时,文件输出时加密处理(后端加密,前端解密)
	- 文件预览插件适配: 凡涉及文件预览的插件,判定url中path为外链分享的内容,加入解密逻辑的网络拦截处理,dom构造的img,video,audio标签处理;
	- 排除部分: onlyoffice预览,从解析服务器获取文件时不做处理;
	- 其他:压缩包内文件预览加密处理;fetch拦截,xhr拦截处理; text获取json内容buffer转字符串乱码问题处理(ofd,vsdu);图片预览插件兼容处理;
	- 视频大文件,前端js流解码处理(MSE 加入);
- 新增excalidraw白板插件(插件中心安装; excalidraw文件新建,打开方式关联,文件缩略图处理)
- 后台管理增强
	- 用户角色: 外链分享不依赖新建/上传;(没有新建上传时/外链分享设置中不显示可上传选项; 后端接口数据去除可上传勾选)
	- 后台设置用户密码强度为高强度时,用户密码限制调整(长度大于8; 必须包含数字; 大写英文; 小写英文)
	- 备份优化: 备份存储不能为当前默认存储, 只有一个存储时自动创建备份存储(在当前默认存储下创建backup文件夹)
	- 其他: 分享管理增加操作日志; 删除用户时提示优化; 用户修改昵称邮箱等信息,后台操作日志优化(显示修改前后的信息)
- 其他优化
	- 浏览器扫码登录,成功后支持跳转到相同页面(手机浏览器/微信等扫描web端个人中心二维码,登录手机端,登录成功后自动调整到生成二维码的相同页面)
	- 拖拽排序库优化(支持移动端拖拽排序);
		- 拖拽时move性能优化处理(checkParentChange,父列表变更时处理, 子列表dom缓存;添加className)
		- 拖拽元素位置偏移问题(父元素transform),wap-用户管理部门拖拽/收藏夹树目录排序;
		- table样式拖拽排序:容器高度保持,列宽保持不变,拖拽元素列宽保持不变处理; (display:table-row-group/table)
		- 多行列表逻辑处理块,通用拖拽处理(eg:部门标签水平方向拖拽排序处理; style/getindex 覆盖)
	- html文件预览优化(相对路径资源引用路径优化,处理为更通用的可复用url; location.href;a.href等情况兼容优化)
	- 部门文件夹设置设置用户权限,上层能下载下层没有下载权限时,下载文件夹情况处理(前端打包:调用fileDownload;忽略没有下载权限的文件;没有权限内容文件内容置空处理)
	- 请求缓存合并;有选中文件夹,列表模式切换到-分栏模式,自动选中文件夹异常处理;个人标签,分栏模式,拖拽后选中问题
	- 外链分享文件夹,自己已登录时查看自己分享的文件夹,文件夹列表模式切换前端自动保持(忽略自己针对该文件夹的查看模式设置)
	- 手机浏览器优化: 文件预览打开对话框,标题icon点击菜单显示优化; 保留刷新按钮(刷新页面); 后台系统回收站搜索界面优化;
	- 跳转页面需要登录时,跳转到登录页面; 允许后退到前一个页面;收藏夹允许继续收藏收藏夹
	- 浏览器地址栏显示文件夹路径配置(全局配置,默认关闭; `$config['settings']['pathShowUrlParam'] = 1` )
	- pdf预览兼容分片下载预览处理(超大文件,不用等待全部加载完后才能预览; apache默认启用传输压缩时情况兼容)
	- 新打开文件夹首次打开时(开启了属性面板情况),图标模式文件列表自适应大小优化;
	- photoSwipe图片预览插件,预览时增加下载当前图片功能(外链分享禁用下载时屏蔽)
	- 二维码登录密码校验优化; ad域模式下登录验证码兼容
	- nginx等反向代理,APP_HOST自动识别兼容优化(未识别,通过前端cookie获取处理)
	- 缩略图临时文件清除、部分视频格式无法生成封面等优化
	- 缩略图生成优化, 系统默认存储直接访问时,不再继续生成缩略图; 默认内置图片缩略图生成队列优化处理.
	- 其他: 登录锁定提示优化; 邮件发送功能更新;预览外链分享禁止从属性中下载; 兼容部分虚拟主机禁用disk_total_space,获取磁盘信息报错的情况
	- 其他: markdown文件内流程图等svg文件,点击查看大图优化;drawio文件只读模式显示优化;ui细节优化;
	
##### bug fixed
- 图片播放插件,打开大图偶尔会闪烁一次情况优化; 图片查看原图后,缩放自适应处理;
- 其他: 树目录文件右键打开异常情况(编辑器打开);修改用户账号名随昵称更新异常调整;文件最大历史版本限制异常调整;cad外链分享预览异常调整


## 1.50 版本更新 
> **主要新增**: 细节优化...  
> **发布于: 2024.05.09**   

- 文件管理
	- 文档评论支持插入文件附件(附件预览,下载处理);支持插入markdown内容(支持完整功能markdown解析,公式/代码/表格...)
	- 文件文件夹创建的快捷方式, 打开时原文件文件夹不存在时处理(提示不存在:删除快捷方式/修复快捷方式)
	- 文档权限设置: 设置编辑权限,没有删除权限时, 拖拽剪切情况权限处理优化;
	- 文件下载或预览,更新最后访问时间处理优化(source[user/group];isDelete;http-range;);文本/音乐/视频/pdf/...;
	- 上传到kod,同名文件扩展名大小写不同,上传后文件名不一致问题处理(按同名文件处理,默认自动重命名(异常状况:pc端下载文件夹时,同名文件丢失))
	- 缩略图生成,gif生的的缩略图依旧保持gif格式(动态)
	- 拥有io存储管理权限的用户外链分享io路径,访问者权限检测处理优化(允许访问,检测分享者权限);
	- 协作/外链分享io内容,禁用了全量source开关时, 权限检测判断优化
	- markdown 解析缓存处理(全局缓存,最多缓存500条; 最近命中的内容放置在最后,超出最大值移除最前面内容;)
	- 文件文件夹从系统回收站删除,或彻底删除,记录删除目标操作记录(文档动态,系统日志)
	- 收藏了io路径,对应io移除后,收藏夹列表报错情况优化;
	- 对象存储,大文件分片上传时默认采用流方式上传(腾讯cos+android手机上传,form表单上传异常情况兼容);
- 后台管理
	- 备份及恢复优化;
	- 用户组件搜索优化: 搜索用户或部门时,支持批量搜索(多个搜索词空格隔开时,合并多个搜索结果; 中文优化拼音搜索/拼音首字母搜索);
	- 后台增加开关:账号被禁用时,屏蔽该用户的外链分享;
	- 概览-空间使用数据支持导出;用户列表支持导出;
	- 批量删除用户并发优化、大文件批量导入用户优化;
	- 存储保存提示优化;删除、迁移优化;增加操作日志
- 文件审批插件优化:
	- 文档发布,审批成功后,操作日志加入审批信息,给文件描述属性加上申请人等审批信息
	- 权限申请,审批成功后,操作日志加入审批信息
	- 审批指定了审批人时,发起文档审批时能看到审批人信息;
	- 多人审批,该步骤设置为所有人通过才通过时,一人未通过则审批状态应结束; 
	- 审批申请权限时如果角色本身没有此权限,审批通过后依然没有此权限(合理设置)
- 其他优化
	- pdf封面图生成,包含中文路径时命令行异常情况兼容处理;
	- 虚拟列表vlist拖拽性能优化(缓存处理);
	- 生成日志文件权限跟随配置参数(默认0755)
	- 部分rar文件解压部分时,临时目录位置异常情况处理; 
	- 左侧菜单hover动画hover-animate样式低版本浏览器兼容
	- 登录错误信息提示模糊化处理
	- 手机浏览器扫码web端,登录手机浏览器; 配置优化处理(插件升级后未保存过的情况默认值处理)
	- 罗列子部门,设置为仅树目录罗列时,app请求忽略该配置; 编辑器文件树目录忽略该配置;
	- gbk编码的文件,编码识别增强优化(编码区域重合情况采用内容检测)
	- A用户协作分享文件夹(source路径)给B用户;B用户进入协作文件夹后删除文件,回收站显示文件为文件夹问题处理;	
	- 内网穿透插件优化: 二级域名包含大写时访问异常情况处理; 内网采用了虚拟主机绑定域名时支持处理;
	- 其他优化: 文件历史版本,当前版本修改者使用文件最后修改者信息;编辑器打开文件,tab右键进入到所在目录优化为进入文件管理器所在目录
	- 其他细节处理: 文件文件夹属性面板元数据初始值优化;文件文件夹属性面板界面样式异常处理;右键菜单优化;
	- 其他: php8.2 部分函数报错兼容处理; 阿里云部分代码特征误判情况兼容(连续_get的情况);
	- 插件数据库sql文件支持sqlite

##### bug fixed
- 文本编辑器-tab-进入所在目录没反应问题处理;
- 进入存储目录时,图片会持续生成缩略图问题处理(缩略图存放的物理路径--保留了扩展名)
- 外链分享文件下载次数异常调整;

## 1.49 版本更新
> **主要新增**: 安全优化,其他细节优化...  
> **发布于: 2024.01.09**   

- 文件管理
	- 移动端浏览器列表模式优化: 自适应高度,状态meta图标,标签等显示排版优化;
	- 移动端浏览器后退路径打开自适应优化: 打开对话框后退处理(关闭/后退); 打开属性对话框(点击进入目录,关闭/后台);
	- 文件管理:罗列子部门,支持设置为"仅左侧树目录罗列子部门"(仅左侧树目录罗列子部门,不罗列文件文件夹;文件区域不罗列子部门,仅罗列文件文件夹)
	- 文件文件夹新建/重命名优化(移动端浏览器自适应为弹出对话框方式,避免误操作; 重命名收藏夹内容,标签内容完成后自动选中; 树目录与文件区复用优化);
	- 文件树目录文件夹刷新,文件夹刷新完成后自动展开之前已展开的内容(新建,重命名等通知消息同理触发)
	- 在线解压缩zip,包含大于4G的文件时,按zip64处理(压缩大文件时,进度信息展示,可中断任务)
	- 前端打包下载,包含大于4G的文件时,按zip64处理;
	- 图片预览支持查看大图(当前图片有大图时展示,iOS手机浏览器支持查看heic原图)
	- 文件文件夹新建或重命名,不允许全部为emoji符号(文件名会显示为空的问题处理)
	- 复制一个文件夹,然后删除; 再粘贴到另一个已存在该文件夹的地方,文件名没有自动重命名情况处理(文件夹自动合并);
	- 存储挂载支持华为云OBS对象存储;
- 新增html在线预览支持
	- 加入sandbox安全沙箱处理(允许js执行,但禁用cookie同源;确保安全,避免被csrf攻击);
	- 资源引用相对路径支持(全路径适配:本地路径,kod路径,外链分享,挂载的各种存储等);
	- 资源引用支持: img,css,js(初始htm中内容,js添加的内容,js修改src自适应,节点style样式背景图片等;css文件中引用图片及相关资源支持)
	- 链接跳转支持: html文件相对路径文件点击链接自动引入(支持:a跳转,href修改,window.open,无法支持location.href的内容);
	- 其他支持: iframe支持(仅支持一层);js import方式引用支持; worker及内部跨域允许处理;wasm等载入处理支持;
	- 手机浏览器处理(ios:safari支持;webview等微信中,夸克中不显示问题,该情况移除打开方式);
	- html预览兼容增强: css,js,img资源加载url支持锚点,和url参数; xhr沙盒中跨域处理(xhr预检options请求响应处理);js中import链接拼接情况兼容;
	- 外链分享文件夹,html预览,相对路径资源引用兼容处理;兼容js内部获取当前节点url情况;
	- html预览-viewToken获取文件内容扩展名限制处理(排除php文件); 资源引用情况部分场景兼容处理(获取自身的情况);
- html富文本编辑插件:tinyMce富文本编辑,支持编辑纯显示类html文件;(打开html文件和解析后对比,如果不一致保存时要做确认)
- 编辑器优化
	- 文本编辑器16进制hex模式优化,支持显示int64类型;输入索引可以快速跳转到任意位置(自动分页映射跳转,超大文件支持)
	- 编辑器打开html类型文件,自适应预览处理(复用html安全预览模块,支持相对路径引用);支持在线开发
	- 编辑器自动代码格式化优化,js格式化兼容es6语法;(html,css,js,php,jsx,json,xml)
	- 打开文件: 自动展示当前文件夹树目录(当前文件路径展示处理); 
	- 树目录展开显示记住状态;默认隐藏-加载后再显示(显示状态,首次打开有文件信息的文件时自动展开,移动端默认加载树目录)
	- 信息栏显示文件历史版本数,可跳转到历史版本管理(打开后,支持回退到该版本)
	- html编辑预览插件优化,将预览模块也内置到该插件(支持单独开关; 支持自定义打开默认优先级)
- 后台管理
	- 给部门设置部门管理员时-所在部门权限没有自适应为拥有者情况处理;
	- 后台分享管理,列表中内部协作分享增加查看分享对象
	- 部门管理员对用户批量操作设置空间大小时,只传了userID等情况,权限判断优化;
	- 后台开启了分享设置密码时,外链分享自动生成密码;
	- 第三方应用使用kod单点登录认证时,登录状态跟随当前账号登录状态(退出后自动清空登录状态缓存)
	- 文件管理树目录,后台可以开启关闭"我所在的部门"
	- 子部门管理员,搜索用户或部门时,支持多个上级部门处理(为多个隔离部门的部门管理员的情况)
	- 插件列表获取时,自动更新注册hook点(兼容更新包更新插件,手动解压覆盖更新插件后,插件绑定事件点未自动更新的情况)
	- 子部门管理员优化: 设置部门可选范围为仅有权限的部门(选择用户,部门等情况同理); 设置用户所在部门权限,不在自己所管辖的范围内的内容设置为禁用状态;
	- 后台服务器管理:新增将mysql表升级为mb4编码功能(调用后会修改所有表默认编码;需要mysql>=5.53;  升级后文件名等支持emoji表情字符)
	- 数据库切换utf8mb4后,自动切换DB_CHARSET; 文件文件夹新建/重命名/上传自适应处理(未开启时emoji字符自动替换为中划线)
	- 部门禁用启用逻辑调整: 禁用部门会自动禁用所有子部门==>调整为只禁用所选部门(避免误操作时还原比较复杂的问题)
- 其他优化
	- 安全性优化:部分漏洞修复;部分插件调用脚本执行,参数安全过滤优化; 前后端accessToken优化,使用更安全的safeToken代替(仅限当前ip使用,避免泄露的风险);
	- markdown文件内图片播放优化,调用图片插件打开(编辑器;文件夹说明;外链分享中的markdown)
	- 树目录文件夹,删除子内容,该文件夹为空后可展开状态未及时更新问题
	- 拖拽状态意外触发或丢失结束状态处理(极少数触屏电脑,部分浏览器偶发情况)
	- 文件拖拽到文件夹偶尔无法响应情况(文件包含大图片时,chrome部分版本坐标获取当前元素获取到了拖拽元素引起,elementFromPoint/evenpointer-events)
	- 外链分享单文件及文件嵌入,打开方式为对话框的首次处理优化(分享页面,对话框处理为页面内容; 后续正常处理)
	- 本地文件夹挂载后外链分享,搜索结果路径异常情况兼容处理;
	- 移动端浏览器显示优化: 部门或协作目录地址栏,权限信息跟随在路径后面,避免权限信息过长时挡住路径的问题;
	- sdk 调用文件夹嵌入或打开文件夹时,传入路径自动处理(已存在则直接打开,不存在则新建后打开,允许为空情况处理);
	- iframe对话框包含页面,自适应点击事件传递(非跨域kod页面,点击事件自动传递; 跨域页面加入非焦点蒙层;点击页面自动最上层,自动清除右键菜单等菜单);
	- 其他细节优化:自定义文件文件夹图标显示优化;移动端样式优化;内网穿透插件兼容龙芯版本;网络请求加入调试模式(G.debug=1;)
	- 部分ios第三方浏览器打开编辑器主题设置为ambiance会卡住的问题兼容;富文本编辑器工具栏移动端显示优化;
	- 文件属性-扩展信息,包含缩略图时清除缩略图优化(移除生成的缩略图,重新生成,浏览器缓存情况适配); 
	- 内网穿透自适应内网检测(https时站点http时忽略检测)
	- 图片预览插件,缩略图加载失败时自动加载原图处理(再次失败则忽略)
	- 我所在的部门树目录,不展示通路内容,仅在文件区域内展示(我所在的部门默认排除启用网盘公共部门, 当关闭了企业网盘时,则在我所在的部门中显示)
	- 树目录部门根路径,后台设置为仅树目录显示部门时, 是否可以展开取决于是否包含子部门处理优化;
	- 细节优化: onlyoffice兼容ipad端,手势操作处理;webdav部分服务器兼容;授权用户,授权码快捷重置支持(当前授权码);
	- 细节优化: 错误情况提示信息显示时间延长(6s); 找回密码/注册账号,输入邮箱手机号自适应处理;外链分享/协作分享-到期时间已过期时自动实时高亮标记;
	- 其他优化: 我在的部门包含根部门;后台php详情优化调整;外链分享文本展示,支持自动换行切换;外链访问优化,兼容物理路径过长的情况
	- 编辑器优化: 加入文件树目录后,文件关闭未保存提示处理功能保持;markdown编辑,直接粘贴复制的文件,物理路径时兼容处理;
	
##### bug fixed
- 其他:物理路径文件夹外链分享,视频等文件缩略图不显示问题处理;移动端浏览器首次打开纯图片文件夹不是相册模式展示问题;
- 物理路径内部协作分享,评论权限判断异常情况处理(是否有评论权限,跟随权限设置类型而定; 分享者默认有评论读写权限)


## 1.48 版本更新
> **主要新增**: 图片视频等文件缩略图生成优化,细节优化...  
> **发布于: 2023.12.1**   

- 文件管理
	- 图片,视频等文件封面图生成插件优化:列表拉取处统一处理,未生成的内容加入到后台转换队列,图片文件强制使用该插件进行转换;文件嵌入处理;
	- 后台任务队处理优化, 最多允许三个单独进程处理后台任务队列(任务管理器中可查看队列数,进程数;打开新页面触发新增处理任务队列进程)
	- 更换域名情况,文件属性信息缓存中用户信息头像链接自适应优化;
	- 文件属性--清空缩略图,自动清理插件中对应生产的缓存;
	- 文件夹显示设置: 关闭缩略图时不显示图片缩略图,文件夹封面不受此影响;
	- 用户角色分享权限-内部协作/外链分享优化:有内部协作无外链分享权限时,不支持对已分享的进行修改删除,不支持新增外链分享;已分享的不受影响;只有写作分享权限同理;
	- 私密保险箱中,插件调用缩略图生成处理(actionToken方式连接,cookie自适应自己的则自动使用当前会话)
	- 前进后退,当前文件夹列表自动选中上次打开的文件夹,并定位在可视区(支持: 移动端浏览器前进后退, 外链分享浏览器前进后退)
	- 标签目录下(部门公共标签,个人标签),右键菜单加入按标签筛选功能
- 其他优化
	- 手机浏览器优化: 树目录图标优化,地址栏图标优化,其他细节样式优化; 文件属性对话框点击路径后关闭对话框路径跳转情况优化
	- 部分手机移动端兼容处理:ios下UC/夸克浏览器,打开压缩包内视频(浏览器接管播放器),关闭后拉取文件列表CSRF_TOKEN验证异常情况;文件保存上传blob兼容处理
	- accessToken自动登录情况处理: 无痕模式带入token自动登录处理,该token过期自动退出登录; 退出后切换token可重复自动登录;
	- 挂载webdav等网络存储,视频文件在线播放优化(进度拖动,下载断点续传处理优化)
	- 图片视频等文件封面生成插件优化,新增各种raw图片缩略图及在线预览;文件列表待生成缩略图数小于3时载入时立即生成; 加入队列时自动访问新建后台处理进程
	
##### bug fixed
- onlyoffice插件excel设置单元格密码时请求异常情况处理
- 其他:文件属性,创建时间,最后修改时间不显示问题处理;


## 1.47 版本更新
> **主要新增**: 细节优化...  
> **发布于: 2023.11.22**   

- 文件管理
	- pdf,视频等文件缩略图生成性能优化,改为异步后台任务队列生成(避免过多同时生成,导致服务器卡顿,每次刷新会加载已生成缩略图的内容)
	- 相对路径文件获取增强,支持../跨级目录引用(markdown引入图片;支持:local,io,(source),shareLink,shareItem[local,io,(source)])
	- 外链分享文件夹,markdown文件嵌入时包含相对路径图片时支持;支持../跨级目录引用(必须在外链分享内)
	- minio对象存储接口调整适配,兼容到最新版server端
	- oss对象存储接口调整适配.
	- 文件文件夹连接url简化
	- 私密空间视频等文件缩略图生成处理;
- 其他优化
	- 后台外链分享,关闭文件夹打包下载,影响压缩包预览情况优化; 开关仅针对外链分享处理;
	- 系统管理员查看任务管理器, 罗列当前后台计划任务执行状态, 后台任务队列进行状态;
	- onlyoffice优化; 水印处理; window部分系统下打开是按住alt会异常情况处理;
	- tinymce富文本编辑器升级,细节优化
	- oem包优化: 硬件授权校验更新; pc客户端同步设置中版本信息隐藏;首次安装需同意用户协议;下载连接处理
	- 外链分享文件夹开启上传,大文件分片上传优化;
	- iOS手机端夸克浏览器,文件上传兼容处理,文件编辑保存上传兼容处理(该浏览器form表单字符串构造的文件上传,文件内容丢失的问题)
	- 细节优化:移动端富文本编辑器工具栏优化;onlyoffice加入xlsb文件格式打开支持;对话框打开文件夹属性,讨论多选时右键优化;

##### bug fixed
- 对象存储路径下,上传同名文件设置为重命名时,配置未生效问题处理(按默认覆盖处理)


## 1.46 版本更新
> **主要新增**: 细节优化...  
> **发布于: 2023.11.08**   

- 文件管理
	- 文件文件夹支持自定义图标(优先级最高,自适应当前网络url处理);
	- 文件夹访问,后退时支持自动选中之前进入的文件夹(当前列表中存在时,自动定位并选中)
	- 存储挂载配置(minio,oss,ftp,webdav等),新增配置项,是否开启文件缩略图(图片,视频,pdf,流程图等)
	- 细节优化: 我的外链分享入口,外链分享内容文件属性优化;文件嵌入异常情况处理(不使用用户自定义的打开方式);
	- 外链分享文件夹优化: 开启上传时上传文件自动选中; 拖拽文件夹上传支持(支持空文件夹);
	- 全文索引插件优化(开启关闭,对应开启关闭后台服务)
	- 拉取文件夹全部子内容优化完善(前端压缩打包下载/搜索(loc,io,kod,外链分享kod及io及local),后续PC端双向同步支持)
	- webdav挂载kod,listAll拉取全部列表优化(递归处理为全量拉取);
	- webdav挂载kod, 文件列表文件缩略图处理优化(挂载自身kod,挂载远程kod; 图片缩略图,fileThumb,minder,drawio)
- 其他优化
	- Android手机端浏览器上传优化,不自动进入文件选择(避免使用离线下载时过多操作步骤问题);
	- 开启了IDM下载拦截时,下载文件夹前端压缩异常情况兼容;
	- 绑定邮箱提示优化(修改为默认5天后再提示)
	- 七牛存储,存储设置启用文件缩略图兼容处理;
	- 优化: 静态变量USER_ID未定义情况php8报错处理(兼容情况处理,手动设置登录); 
	- 其他: 报错时显示信息优化,方便定位;与我协作按组织架构显示时分享者显示头像;外链分享搜索后支持浏览器前进后退切换搜索条件;

##### bug fixed
- 修复: 外链分享个人空间文件夹,内容搜索后打开异常情况处理(开启了全文搜索不影响);关闭前端压缩后,下载文件夹打包异常情况兼容;
- 部门根目录设置给普通用户可读写权限时,多选下面内容进行压缩,权限判断不可写情况处理;

## 1.45 版本更新
> **主要新增**: 在线解压缩优化,细节优化...  
> **发布于: 2023.10.23**   

- 文件管理
	- 列表模式拖拽优化: 拖拽到展开的文件夹时鼠标在文件上时高亮当前文件夹;
	- 外部拖拽上传到kod,自适应响应滚动条(可滚动区域停留,头部-向上滚动,底部-向下滚动);
	- 压缩流程优化处理; 新增文件夹压缩不保留最上层处理; 新增支持压缩到指定目的地处理(支持物理路径,io路径)
	- 解压及压缩包预览优化
		- 解压处理优化:接口重构,支持各类存储,支持压缩包内压缩包预览等操作(多层级);缓存处理,性能优化;kod加密存储情况tar.gz文件预览及解压兼容;
		- 解压zip大文件优化:解压内部文件时以流方式处理,不再全部读取到内存中,减少内存占用;
		- 多层压缩包预览优化:去除限制文件大小限制;多层url优化为参数(替换url请求,性能更好); 右键子内容解压部分处理; 
		- 压缩包内文本文件打开优化:请求处理优化,支持大文件打开; 支持刷新重新请求; 文件名及路径优化;
		- 对话框界面优化:绑定到根对象上(避免被释放,对话框打开文件夹,打开zip后关闭导致释放问题);右键异常处理(打开关闭再打开,右键操作文件报错处理); 
		- 压缩包预览属性优化: 右键文件夹或根文件属性,支持显示包含子内容数量信息; 文件夹属性优化(不支持的操作去除);
		- 压缩文件嵌入支持(默认嵌入;外链分享中的zip文件嵌入;页面预览;子文件预览;文本文件预览;子压缩包预览);标题支持自定义宽度;
	- 新增主题设置:内置windows/mac 两种主题风格;
	- 桌面内置应用支持隐藏
	- 其他: 最近文档,忽略大于当前时间的内容(用户自行产生的内容); 文件缩略图访问不更新最后打开时间;
- 其他优化
	- 日志输出,占位日志输出优化,支持实时进度显示(支持网页输出,及终端输出;终端支持curl请求输出);任务执行通用日志输出处理;数据修复任务日志输出处理;
	- 外链分享:下载计数记录优化(多线程range下载时仅记录第一个请求, 多个算一次); 视频文件,压缩包等文件预览显示优化;
	- 审批移动端样式优化;
	- 版本发布,打包控制台加入执行进度日志;
	- 以webdav挂载kod,上传直传时开启了csrf情况处理兼容;
	- 细节优化:外链分享文件夹文本文件保存提示优化;文件获取时range根据文件大小自动修正(避免错误range不匹配导致请求异常的问题);
	- 其他优化:压缩包预览,对话框关闭后切换页面再切换回来右键操作异常问题处理;移动端手势后操作菜单无响应问题处理;
	- 兼容部分服务器不支持fileter_var的情况;
	- Windows服务器兼容优化:压缩包预览(7z/rar)中文文件名编码兼容;使用文件缓存时并发锁优化;部分系统frp启动报错问题处理;
	- 登录二次验证优化处理(仅web端支持处理,web端登录加入认证参数)
	- 内网穿透,自适应内网处理兼容(不支持iframe传cookie的情况处理(sameSite), 该情况关闭自适应内网)
	- 外链分享文件夹,主题样式及深色浅色模式,跟随分享者的用户配置;
	- webdav挂载,个人根目录屏蔽私密保险箱;
	- 插件优化: 插件更新后自动更新hook注册点(插件启用也更新); 未启用插件更新后不自动启用(保持之前状态,未启用支持更新的插件也添加更新标记)
	- 部门文档权限设置选择用户优化:获取部门列表中不包含自己可见根目录时,显示对外授权(对其他部门成员授权);

##### bug fixed
- 自动登录情况入口页面输出cookie处理兼容;accessToken; apiToken;
- 登录二次验证,该用户未绑定邮箱或手机时提示绑定(输入检测,不允许重复处理);


## 1.44 版本更新
> **主要新增**: 私密保险箱,管理员三权分立,细节优化...  
> **发布于: 2023.9.27**   

- 文件管理
	- 通过备注搜索, 支持子文件夹下文档备注搜索
	- 物理路径文档支持设置标签(标签label显示/右键标签设置/属性面板标签显示及设置/权限处理;物理路径/io路径/kod路径/内部协作分享;物理路径内容不存在时自动清理)
	- 文件延迟计算md5,队列运行身份处理(避免无权限退出); 图片文件还未计算md5时,图片缩略图处理
	- 文件夹列表: 子文件夹/文件夹数量排除在回收站内容;
	- 搜索优化: 记录最后勾选是否搜索内容(不做清除); 勾选内容搜索后文件类型选择优化; 自定义文件类型,切换页面后保持记录;批量搜索支持同时全文搜索;
	- 全文搜索优化:全文搜索时搜不到内容再用like搜索一次;全文搜索搜索词替换([.-] 替换为" +" eg:10.13-01=>10 +13 +01)
	- 我所在的部门,加入"我有权限的部门"(入口通路)
	- 文件列表获取oexe文件内容,file存储不存在情况兼容处理(避免oss等存储下报错)
	- 框选文件,触屏点击屏幕后,框选需要停留一下问题优化;
	- 前端打包压缩下载兼容最新版Chrome,Firefox默认采用blob方式下载
	- 大量文件从物理存储到kod,复制粘贴/剪切粘贴, 数据完整性处理, 性能优化; 从local剪切到kod进度处理(秒传情况更新)
	- 右键点击文件选中处理优化:右键点击在勾选/下拉菜单/操作按钮上时,和点击在文件上逻辑保持一致(未选中则单选当前,已选中则保持多个选中内容不变)
	- 内置office预览插件优化:文件解析失败时自动切换;当有编辑权限且有对应编辑插件时,页面显示编辑按钮;点击一键进行编辑(pc客户端,默认调用本地编辑)
	- 复制pc下文件文件夹/屏幕截图; 支持ctrl+v粘贴到文件夹支持用户部门更目录下(之前仅支持子目录)
	- 我的协作&外链分享分组显示: 区分物理路径/个人文档/部门文档,数量为零则对应不显示;
- 对象存储操作优化(尽量减少网络请求,批量进行)
	- 获取子文件夹包含及大小信息优化(oss批量获取所有子内容,进行统计)
	- 对象存储内部复制移动优化;
	- 对象存储文件夹重命名优化(复制+删除)
- 私密保险箱
	- 列表显示: 始终在文件夹列表最前面(和个人空间同级的系统根目录);未启用/授权/未授权;处理图标(可访问,需密码),
	- 根目录权限:只读,不支持:复制/剪切/重命名/拖拽; 
	- 数据安全隔离: 搜索个人空间根目录不搜索私密保险箱中内容(需要登录进入内部搜索);最近文档,文件分类排除私密保险箱中内容;
	- 私密空间操作: 创建私密空间(前提绑定了手机号或邮箱,用于找回密码);密码进入并保持; 修改密码; 重置密码; 找回密码(发送到邮箱/手机);
	- 子内容权限:不能外链分享/协作分享/收藏/添加标签/发送到桌面快捷方式; 不能通过用户根目录搜索;右键及工具栏:根目录,子目录内容
	- 管理员后台全局启用开关(关闭后未启用的将不再可见);个人设置隐藏: 文件夹显示选项--文件夹--隐藏显示--私密保险箱;
	- 数据处理: 个人空间使用计算包含; 删除用户时删除到系统回收站处理(系统管理员管理处理)
- 限制系统管理员权限(开启三权分立处理)
	- 角色-用户权限编辑权限点, 拆分为用户编辑,与用户权限设置(角色身份,所在部门权限)
	- 开启三权分立后: 系统管理员无法设置用户角色和用户所在部门权限(后端权限判断及默认数据覆盖处理)
	- 开启三权分立后: 系统管理员部门特权去除,和普通用户一致, 前后端权限与普通用户一致(无特权)
	- 仅编辑权限-无设置角色权限: 不可修改用户角色; 不可修改用户所在部门权限(可修改用户所在部门)
	- 仅设置角色权限,无编辑权限: 用户信息修改自动去除(信息,状态,所在部门修改或删除);  仅保留角色设置,用户所在部门权限;
	- 部分插件限制屏蔽处理(adminer,webConsole)
- 后台管理
	- 历史版本数量设置支持;
	- 后台用户部门管理: 禁用/启用等操作,自动展开并选中节点;
	- 后台操作日志,用户信息修改加入详细数据信息;
	- 用户部门信息获取,简化返回信息,避免信息泄露(搜索用户等情况),后端请求且有用户权限才展示完整用户信息;
	- 用户及部门信息获取,权限处理(只能获取自己所在部门子部门,子用户; 部门配置了可见范围为仅本部门); 设置用户用户所在部门不同状态处理(无权限,成员,部门管理员)
	- 角色分享权限点: 拆分为内部协作和外链分享权限,独自处理(老数据升级处理)
	- 部门支持设置"设置部门负责人": 部门右键入口(设置后对应用户在该部门为拥有者,其他所在部门不变; 勾选编辑用户时-设置用户角色为部门管理员)
- 其他优化
	- 增加通用客户端及app下载入口(登录页面)
	- 邮箱验证,验证码优化使用6位数字(绑定邮箱修改邮箱,找回密码,修改密码)
	- 保存api加入保存标记参数,文件动态区分上传新版本和在线编辑;
	- 细节优化: 获取文件夹包含子内容,再次请求缓存优化处理;
	- 全文搜索插件兼容windows环境;
	- redis 支持配置数据库(默认:select(0))
	- 任务时间预估提示处理: 大于5小时显示"大于5小时";
	- 安全优化: 文件下载等去除accessToken链接; 文件输出带token的不输出cookie; 兼容设置错误logo的情况;
	- 细节优化: 文件属性-下载链接下载文件时文件名兼容优化;文件列表分组-折叠状态自动记录;图标模式显示文件夹简介文件大小为0时不显示相关信息;
	- password组件,点击后持续显示,再次点击隐藏 (input:input-password 模拟密码框输入框; 避免用password会触发选择,操作后提示密码保存的情况)
	- 初始安装默认语言处理(默认新建文件夹,安装轻应用...)
	- 对象存储强制修改,修改时,隐藏了密码情况兼容处理
	- 安全问题优化,开启csrf防护情况下系统配置保存也做校验(防止管理员被诱导请求设置系统配置)

##### bug fixed
- 右键菜单显示被挡住问题处理:对话框打开文件夹-文件属性,历史版本,item右键菜单层级在下层问题处理(右键菜单容器处理到body;)
- 后台分享管理:多选取消分享异常情况处理;


## 1.43 版本更新
> **主要新增**: 思维导图插件,细节优化...  
> **发布于: 2023.8.10**    

- 文件管理
	- 窗口关闭或切换,有未保存内容时提醒处理支持(上传未完成,kod子窗口iframe内,流程图等菜单入口编辑文件,流程图等对话框编辑文件)
	- 文件历史版本,diff对比支持对应插件优先级打开(只支持文本的文件采用文本对比)
	- 下载文件夹,子文件更新编辑后缓存处理优化(文件预览,文件下载全局处理加入最后修改时间; 自适应请求缓存及文件变更)
	- alt+c 复制文件名+链接(同时支持粘贴到地址栏自动解析)
	- 地址栏支持粘贴文件路径,自动跳转到文件夹并选中对应文件
- 其他优化
	- formMaker 字段值控制子字段依赖控制时显示处理优化(隐藏字段所有子字段都处理为隐藏,向下传递)
	- 部门管理增加批量删除；第三方同步插件允许删除已禁用部门/用户；增加指定登录账号字段；增加白名单过滤。
	- 插件升级/安装/卸载,增加事件通知,方便插件自身针对性处理
	- 其他细节: 用户头像字段长度兼容调整;解压缩转码调整;安装时fulltext索引兼容调整;cockpit存储提示优化;外链分享下载按钮加入到头部
	- 其他细节等: 分页组件优化;外链分享编辑器打开超大文件,分页处理优化; 文件右键浏览器打开自适应文件名处理
	- 内网穿透,内网自适应跨域请求时上传兼容处理(浏览器发送options接口会影响正常流程)
- 思维导图插件
	- 插件集成:文件打开处理; 文件保存(ctrl+s保存); 新建思维导图文件;
	- 权限控制: 根据文件读写权限,外链分享等自适应只读模式;
	- 文件缩略图: 编辑时生成, 文件列表展示,xmind缩略图解析展示(保存时追加svg图到zip结尾,解析标记);(smm,xmind,mind,km)
	- 文件打开解析转换: xmind,km/smm/mind
	- 插入图标贴纸支持网络搜索svg
	- minder库优化:界面样式优化;保存加入封面图处理;xmind保存追加封面处理;
	- 细节优化:关闭前提示-是否修改内容检测优化;移动端手势缩放优化;窗口大小变更时画布自适应处理;全屏退出全屏自适应画布;移动端界面优化...
##### bug fixed
- 部分服务器上传无反应情况兼容(老版本升级,上传等配置没有时并发数为0引起上传不了的情况处理)
- ace编辑大文件时,分页切换过快时偶尔会跳到第一页问题处理(多个文件,多页切换)


## 1.42 版本更新
> **主要新增**: 细节优化...  
> **发布于: 2023.7.6**    

- 文件管理
	- 上传并发流写入时不锁定目标文件(允许同时写,提高上传效率, 内网上传速度能达到网络上限)
	- 分栏模式,展开的子文件夹刷新显示模式保持处理;
	- 网络挂载前端优化, 工具栏新增快捷入口
	- pdf安全问题处理(js执行屏蔽); pdf文件右键--浏览器打开(mime处理)
	- office文件预览插件优化: 当有支持编辑的插件时自动展示编辑按钮,点击可以快速进入编辑模式(PC客户端本地编辑;onlyoffice编辑等)
- 其他优化
	- 上传分片大小按设置处理; 自适应服务器不支持流上传的情况
	- 上传文件分片大小自适应获取配置(仅限nginx,且未开启防跨站,能获取到nginx配置文件才能自适应);
	- 硬件定制: 去除服务器管理中的缓存切换,数据库切换;
	- 组件升级: ace组件更新到1.23.4;markdown-it升级到13.0.1 katex升级到0.15.5;(pdfjs/drawio/photopea)
	- 系统回收站搜索处理;
	- 细节优化: 外链分享文件夹多选菜单遮挡;移动端用户管理列表滚动;pc客户端下载icon转动;文件管理添加存储保存报错;文档动态事件兼容下载及老数据;
	- 其他: 用户头像字段长度兼容调整;解压缩转码调整;安装时fulltext索引兼容调整;cockpit存储提示优化
- 穿透插件优化
	- 支持https,onlyoffice支持https处理,wss支持;
	- 内网地址后端检测; 外网停止穿透时提示(避免无法再继续操作;重启穿透服务); 流量赠送处理;
	- 内网穿透自启动处理(开机脚本设置; call自动检测是否启动,如果未启动则自动启动; 重启机器情况自动启动穿透服务)
	- 保留frpc.ini文件;未启用时不处理后续逻辑;内网穿透插件外网地址url部分异常; 插件启用关闭处理; 插件更新则重启对应服务处理;

##### bug fixed
- 拖拽上传,拖拽到上传对话框界面出现重复文件问题处理
- 外链分享:文件夹下载前端打包异常情况修复(兼容对象存储外链分享,前端打包下载处理; 下载时请求跨域情况兼容)
- 复制文件路径,打开进入后如果是分栏模式没有自动定位问题处理;
- 协作文件夹:编辑者无法编辑文件问题(部门文件协作给非本部门用户)
- 其他: 在线用户不准确;注册手机号邮箱自动去除空格;全文索引插件检测环境处理(转换测试,put上传兼容处理);系统回收站点击单个文件还原提示错误;


## 1.41 版本更新
> **主要新增**: 安全优化,细节优化...  
> **发布于: 2023.6.8**    

- 文件管理
	- 文件夹属性更多信息手动获取: 手动获取占用总大小,及子文件文件夹数(加快文件属性查看,需要的时候手动获取)
	- 性能优化:子部门过多获取子部门慢情况优化;文件夹列表内容过多获取速度优化; 
	- 网络挂载支持前端挂载: 文件管理中-网络挂载支持直接挂载(树目录右键--存储挂载;网络挂载根目录右键 -- 存储挂载 )
	- 系统物理路径处理: 允许管理员分享/协作物理路径只读文件夹; 复制物理文件夹到kod,子内容包含无读取权限文件时忽略该文件处理
	- 系统管理员分享(外链/协作)本地文件, 本地文件只读权限也允许处理, 不可读时协作成员权限同时处理; 外链分享权限展示处理;
	- 部门网盘开启时层级限制: 开启后指定部门层级超过N层后的子部门关闭部门网盘(通过上级管理);我所在的部门:大于N层限时第N层;部门子部门处理
	- webdav挂载存储:复制或上传更新为流方式请求(body方式上传; 取消form方式; 兼容form上传服务端处理异常的情况)
	- webdav兼容处理:上传文件时追加不存在文件夹前缀支持(自动创建文件夹); 
	- 其他: 快捷键增强alt+1/2/3 切换文件列表图标模式; 编辑器tab右键加入文件属性;工具栏粘贴按钮加入清除;
- 内网穿透插件
	- 穿透插件: 自定义配置域名;开启关闭; 配置自适应内网; 流量使用情况查看;
	- 域名访问自适应内网; 外链分享连接自适应外网连接; 
    - 穿透插件(左侧菜单,启用,当前信息展示; [运行中/...]; 重新启动; 配置修改--自动重启; 适配docker内部情况)
	- 各个客户端自适应内网: iOS,Android,Windows PC端,Mac PC端;web浏览器端(Safari,Firefox,Chrome < 98)
- 其他优化
	- 部分服务器配置了安全等情况下(apache 二进制上传403),无法以二进制上传情况兼容处理(自动检测并缓存结果)
	- 文件访问外链,apache等服务器自动加gzip情况下文件内容异常问题兼容(content-length匹配错误; 加入:Content-Encoding: none);
	- 安全处理: 登录等接口长度限制校验(用户名密码等); 服务器信息不再直接给到客户端,根据身份处理(管理员才可见);xxs修复;
	- PC客户端, 本地打开快捷方式的文件保存处理(传入pathTo); pc端设置同步设置可以不填写;客户端同步-保持本地文件最后修改时间
	- 在预览PDF、office文档时,IDM嗅探工具会弹出下载框屏蔽
	- 远程下载关闭自动校验秒传(耗时);流上传断点续传兼容处理;
	- 体验优化: 手机端选中状态时界面优化; 手机端tab组件优化(不自动换行,自动滚动条); 有快捷键操作的按钮hover提示时显示快捷键;

##### bug fixed
- 收藏与我协作文件夹中的单独文件, 点击打开异常处理(提示无权限问题)
- onlyoffice只读模式,禁用编辑评论等;
- 其他: 用户同时登录设备数限制,排除webdav的auth请求方式;
- 移动端浏览器,关闭动画后,文件菜单二级菜单点击异常;


## 1.40 版本更新
> **主要新增**: 文件操作撤销支持,其他细节优化...  
> **发布于: 2023.5.15**    

- 文件管理
	- 文件操作撤销:
		- 支持动作动作: 重命名;新建文件/文件夹;标签添加/移除(批量);收藏/取消收藏;置顶/取消置顶;锁定/取消锁定
		- 批量操作动作: 创建副本/复制;移动;删除到回收站(复制移动:有重名覆盖时不可撤销;移动文件来源为虚拟文件夹则不可撤销,如最近/相册等)
		- 反撤销: 还原前一个撤销操作(ctrl+z,ctrl+shif+z); 打断后,操作栈处理(同前进后退历史记录)
		- 不支持撤销内容: 上传,下载,解压缩,彻底删除,清空回收站等...;操作执行时间超过30s的不支持撤销
		- 其他: 操作完成则进行记录; 没有撤销记录界面提示; 最多记录最近20个操作记录;树目录支持
		- 多窗口共用数据处理(打开对话框,共享数据,切换页面则重建;添加记录,撤销时以添加所在记录的窗口执行,确保刷新等保持一致)
	- 新建文件: 新增文件文件夹快捷方式创建;
	- webdav: alit等程序上传异常情况兼容(多调用了已存在文件夹创建);webdav挂载内容搜索子文件夹支持;外链分享webdav文件夹搜索支持
	- webdav等挂载目录,创建文件文件夹副本支持处理(同名自增)
	- epub移动端阅读器优化: 保留最后一次打开所在进度; 书签处理; 移动端侧边栏树目录处理;
	- 复制文件文件夹路径增强(快捷键复制ctrl+shift+c, 指定路径>选中路径>当前路径; url编码展示优化; 地址栏粘贴直达支持优化)
- 其他优化
	- ui优化: 高清屏幕列表文件模式图标优化;文件树目录展开层级线条展示(便于分辨层级);包含本地上传时间显示兼容;部分图标边距统一居中
	- 安装路径合法性检测(包含特殊字符时错误提示);
	- 交互优化: 显示后再快速移动减少延迟显示时间; iOS浏览器点击状态栏滚动到顶部优化(外链分享滚动优化)
	- 系统缓存设置, redis配置支持填写密码(安装/后台缓存切换)
	- 登录防破解处理: 密码连续错误锁定按ip进行隔离,登录成功后清理错误锁定数据;
	- 其他: php8.1部分兼容问题;报错提示时xxs防护;外链分享按下载数浏览数排序异常问题;编辑器树目录(物理文件夹)新建文件夹异常问题
	- 其他: 移动端收藏夹屏蔽拖拽调整顺序;多语言越南国旗样式处理;视频播放封面图处理;pc端文件对话框移动端样式树目录拖拽跟随优化
	- 其他: 创建快捷方式列表模式图标显示处理; 删除过程中提示文字处理; 移动端树目录hover线条样式处理; 移动端HTML5后台操作日志垂直滚动条优化;

##### bug fixed
- UI细节调整:图标模式文件列表-载入大小闪烁异常问题处理(第二次正常);登录设备查看允许只读用户获取
- 外链分享按下载数浏览数排序异常问题

## 1.39 版本更新
> **主要新增**: 上传性能优化...  
> **发布于: 2023.04.26**    

- 文件管理
	- 上传速度优化(网速大于磁盘读写速度时比较明显; 网络+写入temp+合并+移到io+md5 => 网络+流写入占位文件)
		- 默认采用二进制流式上传(从内存读取,减少一次磁盘写入和读取; sendAsBlob);
		- 上传临时目录最优化自动获取(避免上传成功最后跨盘复制,确保为同盘,move=rename);
		- 文件hash延迟计算(上传到kod存储,完成后延迟计算md5,放在后台任务队列中);
	- webdav兼容处理:webdav获取我的协作内容不全问题处理; 部分第三方应用同步异常情况处理;
- 其他优化
	- 同一个用户限制同时登录设备处理(默认5个设备; 超级管理员和游客用户不受该限制)
	- 个人中心:新增当前在线的设备列表,可以强制退出某个设备;
	- 左侧菜单自动显示隐藏,个人中心可以设置开启关闭该特性;
	- 数据修复加入: 重复文件清理处理(md5相同);
	- 我的协作:不在协作成员中查看权限判断处理(非管理员);
	- sdk调用在uc,夸克浏览器下异常情况兼容;
	- 其他: 与我协作文档属性面板更新处理(锁定/指定/描述/关联数据);移动端插件从kod选择文件对话框意外关闭问题; 

##### bug fixed
- 内部协作挂载的webdav或网络存储, 协作中内容复制剪切到其他位置报错处理; 压缩包预览处理;
- 其他: 单个文件从物理路径复制到kod路径未区分剪切问题;

## 1.38 版本更新
> **主要新增**: 移动端手势操作增强,细节优化...  
> **发布于: 2023.04.11**    

- 文件管理
	- 文件列表自然排序优化:前后端相同逻辑处理(后端接口分页时处理);
	- 照片文件:如果有拍摄时间信息,则用拍摄时间代替创建时间(kod中创建时间可在属性中查看)
	- 文件属性加入最后访问时间(文件属性展示,文件hover提示信息中展示)
	- 搜索优化: ctrl+f快捷键全局绑定处理; 批量搜索结果高亮;搜索结果重名文件标记;
	- 部门根目录,支持搜索子部门内容: 在该部门为拥有者,搜索设置可选:子部门(当前部门及所有子部门文档)
	- 普通用户搜索用户时: 部门设置可见隔离时过滤处理;
	- 文件夹视图设置: 是否显示文件名重命名按钮;
- 移动端优化: 
	- 点击顶部自动滚动到最上面处理(文件管理,分享页面,文件属性对话框;后台;个人中心等);
	- 手势操作优化: 菜单下拉关闭; 右划左侧菜单处理(切换页面后失效问题处理);
	- 文件夹外链分享: 关闭对话框后不自动滚动文件列表	
	- 文件管理: 文件左滑,黑暗模式时背景优化; 下拉刷新.判断下拉事件;title去除站点及power;文件列表左滑颜色问题处理;
	- 工具栏下拉菜单处理: 个人中心菜单,更多应用,多语言等最大高度限制处理,超出自动滚动;
	- 样式优化: 搜索框文字为空,隐藏x按钮;松开手势hover样式不消失问题; 重命名等输入时键盘定位异常情况处理;
	- 其他细节优化: 文件列表模式左滑手势时屏蔽文件列表滚动; 文件属性锁定/解锁后无法再次操作;编辑描述;	
- 后台优化
	- 系统清理缓存优化: 功能同一到后台-服务器管理中; 加入:清理视频转码缓存,清理图片缩略图,清理所有插件缓存;数据库异常数据清理;
	- 部门设置可见范围处理: 设置可见指定部门,协作分享支持从指定部门选取; 
	- 后台任务自动备份任务意外中断情况自动重启处理; 
- 其他优化
	- 速度优化:首次加载树目录速度优化(不自动展开存储挂载); 回收站包含挂载内容; 
	- formMaker: 组件整理, 下拉菜单复合组件处理; 下拉选择点击隐藏触发处理(链式回溯检测);
	- formMaker: 渐变色选择组件; 网络图片选择组件(默认列表,图片搜索)
	- 显示优化: dialog 标题长度不强制;用户菜单,更多应用等弹出菜单自适应高度处理;后台首页任务按钮加入文字(后台任务)
	- 右键菜单释放优化(快捷键绑定取消); 
	- 不支持切换排序的文件列表,加载后允许前端排序;
	- 文件嵌入,不支持预览的内容文件大小优化处理; 
	- markdown编辑,图片为base64时显示支持;
	- 收藏取消收藏虚拟目录,不做错误提示处理;
	- 文档审批: 对话框标题过长处理; 权限申请选择权限>列表权限即可; 文件审批列表-打开文件处理区分(审批临时文件夹;进入所在位置)
	- webdav优化: win10下office打开编辑异常问题兼容; url简化支持; 挂载的远程kod根目录时,文件删除不记录存储回收站.
	- 物理文件写入,默认权限统一为0755; 可以通过setting_user.php 中来配置覆盖.
	- 百度盘、onedrive搜索异常调整
	- 钉钉、企业微信插件增加验证码登录功能

##### bug fixed
- 两个文件夹窗口, 拖放文件,存在同名文件夹时第一次会没有剪切情况处理;
- 个人相册: 指定目录为相册,该文件夹被删除时报错处理;
- 我的协作: 点击进入文件夹,协作者不包含自己时内容展示处理;


## 1.37 版本更新
> **主要新增**: 搜索等细节优化...  
> **发布于: 2023.02.22**    

- 文件管理
	- 搜索优化:物理路径文本文件搜索性能优化;按行展示搜索内容优化(按换行等标记最小化分割);桌面文件夹右键加入搜索;编辑器树目录文件夹右键搜索优化
	- 我的协作/与我协作,进入文件夹地址栏自适应处理;
	- 部门网盘根目录: 右侧属性面板, 加入按部门公共标签筛选入口;
	- 桌面文件:快捷键选择处理;
	- 文件管理文件选择快捷键优化: 最后一个文件按下回到第一个; 第一个文件按上选中最后一个; 图标模式同理;
	- 文件管理自动焦点处理(右键操作,删除等对话框操作后自动回到之前焦点)
	- 外链分享文件夹: 列表模式等配置本地记录(移动端隔离); 文件夹编辑器打开再后退-页面异常问题处理;
	- webdav挂载内容: office编辑文件,首次编辑者自动对文件进行编辑锁定(其他人只读,不可编辑); 直到关闭文件才自动解锁
- 其他优化
	- 登录增加系统服务协议: 企业版在后台开关该功能,可以设置协议文件内容
	- form表单多个内联table构造时释放处理;
	- pdfjs插件,pdf文件预览部分文件报错兼容处理;
	- 数据库主从分离时,客户端同步并发过高时出现同名文件夹情况处理

##### bug fixed
- 树目录新建文件,新建文件夹报错问题处理;
- 后台外链分享管理显示异常
- 部门管理员数据处理: 二级根部门下没有子部门时数据异常,有子部门时没法管理二级根部门


## 1.36 版本更新
> **主要新增**: 协作分享讨论优化;文档审批模块; 文档密级管理...  
> **发布于: 2022.12.6**    

- 文件管理
	- 我的协作优化: 调整为点击进入协作文件夹(不是进入原始文件夹), 文档讨论为协作内容讨论;
	- 外链分享文件夹: 禁止预览时右键处理(隐藏并禁用: 嵌入文件,新页面打开,打开为);文件属性路径复制适配; 禁用了下载-去除新页面打开;
	- 文本文件内容搜索: 展示结果内容按行搜索展示优化;(未开启全文搜索,搜索文本文件处理)
	- 物理路径文本文件搜索性能优化;按行展示搜索内容优化(按换行等标记最小化分割); 
	- 其他: 桌面文件夹右键加入搜索; 编辑器树目录文件夹右键搜索优化
- 文档审批插件(目前为企业版功能)
	- 前端功能:
		- 菜单入口: 文件管理树目录外链分享下(复用文件区域frame-right,自定义内容;创建后缓存控制显示隐藏跟随页面销毁)
		- 审批管理: 列表;排序;所属(待审批,已审批,我发起的); 工具栏(筛选:应用类型,时间范围,审批状态,发起人); 
		- 审批编辑: 类型;权限申请-申请权限(大于读取/小于管理员); 内容审批--发布位置; {审批人(自动),说明,时间}
		- 文件入口: 文件/文件右键--更多--文档审批(权限审批);(权限审批:仅部门空间内容)  
		- 细节: 文档发布(进行中:进入临时只读文件; 已完成:进入目标文件夹);  审批文件夹不存在处理(提示不存在,回收站及系统回收站及不存在);
		- 审批检测, 权限:文档不存在处理; 发布:目标不存在处理; 拒绝处理(描述为文档不存在)
		- 待我审批红点提示; 待我审批数据处理(去重,多步情况处理-只筛选当前需要自己审批的内容); 已审批数据处理;
		- 模板管理: 应用列表(增删改列表,排序; 添加应用: 支持步骤设置); 不在可用范围中,审批应用不可选;
		- 注意及体验优化点: 
			- 权限申请: 可以申请权限的文件文件夹,必须是部门网盘下的内容; 并且自己不是管理者;
			- 文档发布: 发布目录必须是部门文件夹; 可以指定发布文件夹; 或者指定发布可选的父文件夹;
			- 文档发布: 审批过程中文档打开为临时审批目录,只读状态(审批来源文档修改不影响审批中的内容);审批成功点击进入发布文档位置;
	- 后端接口
		- 审批逻辑处理: 同意--下一个审批人;未通过:结束状态(可以重新申请);
		- 权限申请审批结束操作: 权限设置:完成后添加用户权限{应用设置:xx};{申请填写:文件(夹);需要权限} (权限申请)
		- 文档发布审批结束操作:复制文件到发布位置(文件归档,合同审批,公司公共文件发布) (开始:复制到临时文件夹(协作分享,只读);结束:复制并删除;
	- 应用管理: 内置:权限申请,文档发布; 安装处理(数据库安装; 初始化数据)
- 文件密级管理
	- 前端功能:
		- 密级管理者可在文件关联中设置文件文件的密级
		- 文件列表处理(设置密级的文档数据标记, 设置密级文件夹的子内容权限处理)
		- 密级内容展示密级标记; 权限信息展示()
		- 文件权限信息;(加入密级label; 包含子内容; 密级名称,权限名称,密级所设置位置,点击查看密级权限信息)
		- 功能开关:不支持的不显示;没权限/未开启不显示
	- 后端功能
		- 设置: 开启关闭密级管理;(说明:文档拥有者才能设置密级, 部门网盘内容才可以设置;);
		- 密级管理: 名称&颜色;权限;操作(编辑)(子表单,默认初始数据)
		- 操作权限处理: 设置了密级的文件/文件夹; 权限优先级高于用户角色权限(优先检测);所有子内容权限都依赖于此;
- 其他
	- 细节优化: 部门管理员添加用户判断错误(roleID=1不一定为系统管理员);curl日志;
	- 桌面文件:快捷键选择处理;
	- 普通用户: 内部协作分享,权限设置时支持保存当前信息到常用; 选择用户时支持选择常用,以及最近使用;
	- 插件安装时不存在提示;文件历史记录标记显示不根据最后修改时间查询;
	- 安全优化: 后台分享管理,分享文件名防xxs攻击处理; 
	- 其他优化: sdk导出更多内置库, formMaker下拉选择申明式指定是否可清空; 
	- officeViewer插件设置libreOffice时普通用户预览报错问题处理;
	- 扫码登录web及扫码登录App刷新按钮单独放置处理;
	- 首次通过微信QQ注册的账号,修改密码允许原密码为空处理;
	- webdav兼容优化:Windows下用raidrive挂载,wps编辑文件保存时历史版本异常问题处理
	- form表单; checkbox; 自动取消选中键值对支持; 多字段自动显示隐藏依赖处理;
	- 部分php8报错情况处理兼容;

##### bug fixed
- 权限处理: 有删除无下载权限,删除后可在回收站下载问题处理;
- 树目录新建文件,新建文件夹报错问题处理;


## 1.35 版本更新
> **主要新增**: 性能优化,视频转码支持等...  
> **发布于: 2022.10.20**    

- 文件管理
	- 文件上传: 支持单文件暂停和继续
	- 文件右键打开方式: 可以快速设置默认打开方式的应用(快捷设置及取消设置);
	- sdk文件保存增强: 如果在kod文件管理界面打开编辑文件,调用保存后自动通知到所在文件夹变更;
	- 图片编辑插件: tui-image-editor, 方便快速编辑图片文件(旋转,裁剪,调整光效等操作)
	- 图片包含拍摄旋转角度信息时,展示在图片尺寸后面(相册列表,自适应排版时,图片包含方向时自动旋转处理);
	- 图片拍摄位置信息展示(文件属性): 
		- 当有拍摄地址gps时,展示所在地图缩略图
		- 点击可查看地图位置,并标注位置为拍摄的图片; 地图加入3d地球模式;
	- 相册列表: 自适应图片排版(维持高宽比, 当图标大小小于130时维持原来正方形)
	- 音乐播放器优化: 自动记录播放列表,再次打开时保持上次的播放记录;
	- 多选右键菜单权限判断状态异常问题处理(先多选右键,然后点击树目录切换到我所在的部门,再回去多选右键)
	- 拖拽上传及拖拽到桌面: 鼠标样式显示优化(根据是否可拖放自适应鼠标样式)
	- 编辑器,ace组件库更新到最新版; 调整加入;
	- markdown编辑器,快速嵌入文件功能支持(选择文件)
	- 视频播放器优化: 
		- 支持自适应清晰度选择, 切换清晰度及关闭播放器时释放之前播放器;
		- 支持进度条视频预览(需要依赖'文件封面生成'插件,须安装ffmpeg,首次播放视频时自动生成,平均截取300张图)
		- 拖动进度时没hover到视频上也显示时间及预览图;
		- dplayer视频播放记录上次播放位置, 再次打开自动跳转(按path记录最近100个, 最前面5秒或最后5秒时不记录);
	- 外链分享: 首次分享自动设置到期时间(默认关闭,配置文件中开启)
	- 文件夹对应url路径复制: 文件属性面板,当前文件夹路径最后加入复制跳转URL按钮(点击复制,方便发送给其他人快速进入某文件夹)
	- 文件夹路径输入: 支持复制的文件夹访问url;
	- 文件列表模式切换排序模式处理: 展开的子列表也保持同样排序方式更新; 再次刷新时保持展开状态记录;
	- 本地文件大文件复制时进度优化处理支持;
	- 批量重命名: 没有扩展名的文件重命名兼容处理(前面追加和后面追加则直接追加到文件名上);
	- 其他细节: 视频文件包含gps信息时,文件属性显示位置地图缩略图; 文件管理图标模式,图片大小拖动设置大小结束后保存配置; 上传对话框偶尔不显示问题处理;
- 视频转码处理(文件封面生成插件)
	- 转码条件: 视频文件格式,已解析到播放时长,大于20M,非系统文件
	- 任务管理: 转码后进入后台执行,旁路定时获取转码进度,更新到任务; 任务可手动结束,结束后同时结束转码进程;
	- 转码配置: 开启转码,最大并发进程,最小文件大小;(任务列表)
	- 并发管理: 进行中则返回进度; 添加时检测允许中的任务,大于最大限制则直接返回信息;
	- 播放处理: 开启了转码时,播放时请求该文件标清视频(已完成返回标清视频链接;首次触发转码;进行中则获取进度;任务繁忙情况);
	- ffmpeg转码运行错误时输出到日志; 错误检测; 安装帮助优化;
- 后台管理
	- 隐藏插件支持更新(列表不显示,但更新全部时会附带更新)
	- 消息预警: 针对磁盘空间不足,磁盘不可写等情况提前提醒到管理员(内置消息预警插件)
	- 备份管理: 手动备份的内容不自动删除;
	- 角色管理: 新增用户时,默认选中角色权限为角色管理列表中排序第一的角色;
	- 操作日志：增加预览文件类型(默认关闭,配置文件中开启)
- 其他
	- 性能优化: 接口输出自适应gzip压缩,提升访问速度
	- 是否可拖拽放置优化: 系统管理员访,拖拽到不可写的物理路径处理; 右键菜单权限优化处理;
	- 发送到桌面快捷方式,桌面自动更新内容; 对话框iframe中点击自动移动到最上层;右键菜单释放优化处理;
	- 图片内容更新浏览器缓存处理;svg图片编辑保存后快捷键失效问题处理; 编辑文件等插件对话框打开后标题及icon适配处理;
	- 其他优化: php8部分点兼容; drawio流程图导出pdf使用官方服务器处理;sso调用优化; 水印插件水印图按用户区分,自动清理;
	- 其他优化2: 文件列表显示模式切换时,偶尔出现闪动情况处理;
	- 图片预览: 打开大图片可能失败问题处理(两张或3张图片,打开最后一张时偶尔出现)
	- 安装优化: 默认角色排序、mysql默认引擎调整
	- 其他优化: 桌面打开文件夹,删除文件时桌面回收站图标状态更新; 登录页登录框动画载入时模糊效果闪烁问题处理;桌面对话框打开文件夹记录并使用属性面板状态;
	- 其他优化2: 文件夹属性内容数量未更新问题处理;相册模式分组间距加大;列表模式进入新目录自动展开回调未执行问题;
	- 存储安全优化: 物理及io路径文件编辑历史版本,物理及io路径文件回收站存储文件夹隐藏处理;
	- 计划任务定时请求url, php8兼容处理;

##### bug fixed
- 部门公共标签: 由文件添加了标签,移动到其他部门后; 根据标签筛选结果异常情况处理
- 对象存储: 新建文件或文件夹名称为"0"时,显示及相关操作异常情况兼容;
- 物理路径协作分享,部分服务器环境复制粘贴文件,会被剪切处理问题处理;
- 其他: 外链分享文件夹,切换显示模式不生效问题处理; 文件列表内容很多时,按文件大小排序异常情况处理



## 1.34 版本更新
> **主要新增**: 拖拽到桌面下载,独立保存每个文件夹视图设置等...  
> **发布于: 2022.9.7**    

- 文件管理
	- 拖拽文件到桌面自动下载(chrome内核浏览器才支持该特性, 例如:Chrome,edge,360急速等);
		- 拖拽文件到桌面或文件夹自动下载;(兼容之前多选拖拽事件及动画, 及其他自动滚动,自动打开等相关逻辑)
		- 多选或拖拽文件夹自动压缩下载(由于没有进度,无法取消,默认未开启该配置);
		- 后台管理员配置: 拖拽下载开关, 多选拖拽压缩下载开关, 拖拽下载内容大小限制;
		- 跨窗口文件拖拽处理支持(kod到kod:同站点同用户优化为复制操作; 其他情况处理为文件下载);
	- 文件夹外链分享优化
		- 文件拖拽下载支持(同上拖拽下载逻辑)
		- 新增编辑器模式查看: 文件夹右键可以将该文件夹以编辑器模式查看; 方便代码等文本文件快速阅读;
		- markdown文件预览, 默认以预览模式展示(可手动切换到编辑模式)	
	- 视图模式,排序方式配置跟随文件夹
		- 视图模式: 适用于单个文件夹处理(列表模式/图标模式/分栏模式); 图标模式记录图标大小
		- 排序方式: 适用于单个文件夹处理(名称/列席/大小/修改时间;升序降序);配置记录在服务端,每个用户数据相互隔离;
		- 优先级: 指定文件夹配置 > 指定文件夹最近上级文件夹 > 全局默认;
		- 数据记录: 切换视图模式,及排序方式,图标大小时记录配置;(最后200条记录,超出移除)
		- 设置: 视图模式/排序方式:适用于所有文件夹/适用于单个文件夹; 单个时:指定视图模式/排序方式; 应用到所有文件夹;
		- 其他: 桌面/相册独立记录; 已经在分栏模式子内容指定显示模式时不应用;
		- 移动端处理: 排序方式跟随web端, 显示模式独立处理,本地记录(按文件夹记录,逻辑与服务端一致)
	- 复制文件文件夹保留最后修改时间
		- 物理路径及io路径 到 物理路径及io路径; 复制移动时保留最后修改时间(创建时间使用当前时间)
		- kod路径到kod路径; 复制保留最后修改时间(创建时间使用当前时间),移动时保留最后修改及创建时间;
	- 轻应用优化: 
		- 轻应用列表整理优化,去除失效内容;
		- 管理员添加界面简化; 
		- 用户支持自行添加轻应用, 新建菜单添加新建网址;
		- 支持将选中url直接拖入窗口自动创建网址链接(自动处理icon及名称)
		- 复制的url,在kod界面ctrl+v 粘贴自动创建网址快捷方式(等同于将url拖拽到文件夹创建快捷方式)
	- 复制+粘贴上传: 从 Windows 资源管理器或 MacOS Finder 进浏览器, 支持文件夹复制粘贴(之前已支持文件复制粘贴);
	- 搜索结果工具栏显示优化(支持快捷切换文件内容搜索,文件类型,文件大小等筛选);
	- 文件列表切换排序优化: 点击标题切换排序方式时, 切换字段时升序降序维持上一次选择(不自动重置为升序);
	- 协作分享io及物理路径时,支持评论;(协作分享共用一份数据)
	- 文档评论: 加入多选批量操作(复制,删除);
	- 选中大量内容时拖拽性能优化(减少拖放判断计算量);
	- 文件列表-轻应用内容获取缓存优化;
	- 桌面入口丰富: 个人中心,壁纸设置,轻应用,操作日志(管理员)
	- 上传支持暂停/继续(暂停后可手动继续,再次拖拽上传或选择上传等也会自动触发继续上传)
	- 快捷重命名: 鼠标hover到文件名上,显示重命名按钮,点击快捷重命名
	- 其他: 重命名文件时拖拽处理; 搜索文件最大设置为20000条(物理路径相册); 
	- 文件管理对话框打开标签管理,文件嵌入,跟随该对话框关闭而自动关闭;
- 后台管理
	- 分享管理,加入物理路径外链分享内容;
	- 插件管理优化: tab切换url保持,应用详情url保持; 支持前进后退处理;
	- 操作日志,登录日志: 导出时加入ip;
	- 删除用户时: 该用户回收站内容,个人空间内容还原到初始位置,部门内容加入到系统回收站对应部门下
	- 存储挂载新增: 新增xsky UOS对象存储, 深信服EDS对象存储;
	- 数据库备份性能优化(sql查询优化处理;分块增大,减少查询次数)
- webdav 插件更新 
	- 兼容优化: 支持网页端完整调用(跨域CROS支持), 优化兼容super-productivity等程序; 挂载存储检测优化;
	- 挂载存储检测优化; 挂载存储返回数据兼容包含url域名的情况;
	- 挂载IIS搭建的服务器: 挂载识别兼容处理;xml解析兼容问题处理;文件夹重命名报错问题兼容;
- form表单: 
	- 通用表单校验: 支持多个组合,支持计算等规则;输入时错误实时提示(多个判断条件实时更新错误详情)
	- 体验优化: 下拉选择框打开时,页面滚动时自适应跟随位置; 日期菜单,页面滚动时自适应跟随位置
- 其他
	- 移动端优化: 文件列表内容少时,滚动自动显示隐藏搜索栏优化; 下拉刷新样式优化;
	- onlyoffice插件: 文件有编辑权限没有下载权限时,禁用下载相关功能;
	- 全文搜索:搜索结果pdf文档,打开后自动继续搜索对应文字;
	- 插件支持重新设定前后端默认自带正则规则(email,phone等)
	- 系统挂载内容: 界面警告提示(系统存储内容请勿重命名,移动删除等操作,可能导致文件读取异常)
	- 系统图片缩略图文件夹内容过多时,判断是否存在逻辑性能优化	

##### bug fixed
- 文件历史版本,部分文件版本对比时异常(txt等文件,js文件处理);
- 删除文件到回收站后,再上传同名文件异常情况处理;


## 1.33 版本更新
> **主要新增**: 拖拽上传强化,搜索优化等...  
> **发布于: 2022.8.8**    

- 文件管理
	- 搜索优化:搜索结果自动加入工具栏, 方便快速对结果进行二次搜索或者更改搜索条件;
	- 外链分享文件夹: 文件文件夹快捷方式支持打开(仅限在该外链分享的文件夹内部子内容)
	- 拖拽上传增强
		- 根据停留位置拖拽到具体文件夹: 文件夹,列表模式展开时文件的父文件夹,地址栏;树目录,跨窗口处理;
		- 拖拽交互提示: 可拖放的位置高亮展示, 拖拽时tips实时跟随提示,不可上传文件夹自动区分;
		- 拖拽停留自动打开: 文件夹,地址栏,树目录,列表模式收起展开处; 停留超过1s时自动打开对应操作;
		- 拖拽到滚动区域自动上下滚动: 拖拽到文件区域,树目录等有滚动条时,靠近顶部和底部时自动向上向下滚动,便于连贯操作;
	- 拖放优化
		- 拖拽base64图片支持(自动上传); 拖拽url为图片时自动下载处理; 拖拽文本支持则自动新建文件文件;
		- 拖拽url自动创建快捷方式优化: 自动文件名从title中获取,获取不到使用url中文件部分; 自动匹配url图标处理;
	- 操作自动处理焦点元素,确保快捷键响应.(例如右键文件删除时关闭对话框,焦点自动回到原来文件等等情况)
	- markdown:引入相对路径图片; 外链分享文件夹时,相对路径支持中文处理(空格等需要url编码)
	- 编辑器优化: 选择语言时输入支持快捷模糊匹配;保存文件时根据选择的语言自动扩展名处理;方法列表选中后上下拉动自动滚动处理;
	- 文件选择保存组件优化: 保存文件时文件名自动选中; 保存文件组件选中处理(选择文件夹时,文件同一不可选,不可操作);
	- 与我协作内容列表分页优化: 分页数很少时,协作数据被过滤后情况处理;
	- 全文搜索插件支持: 支持office,pdf,ofd,文本文件等内容搜索(目前为付费插件; 售后提供部署支持tika+Elasticsearch);
- webdav 插件更新 
	- 收藏夹中的回收站内容,支持删除,复制,移动;
	- windows下wps编辑文件提示需要登录的问题处理;
- 其他
	- 后端设置: 可以关闭前端文件夹打包压缩下载;
	- 菜单管理: 添加的url菜单设置为嵌入模式时页面打开报错问题处理;
	- PC客户端: 同步开关加入,支持手动关闭同步功能;
	- svg等插件加入到菜单打开方式统一,与轻应用打开方式合并;
	- mysql数据库集群配置时:主从读写分离,多主多从时路由分配处理(写入后,后续读取在写入的服务器进行,确保数据一致性)
	- php8 部分兼容问题调整.
	- 报错优化,所在文件-类-方法-出错信息; 信息加入当前版本号;

##### bug fixed
- 搜索部门全部文件夹时: 再次展开下拉菜单会重置到个人空间问题处理;


## 1.32 版本更新
> **主要新增**: 个人相册功能, 前后端性能优化等   
> **发布于: 2022.7.7**    

- 文件管理
	- 个人相册
		- 列表数据: 扫描个人空间下所有图片,按创建或拍摄日期进行排序;
		- 排列展示: 图片相册排列模式; 支持按年/月/日进行分组(选中后记住选择类型); 支持设置显示图标大小(虚拟列表,性能无压力);
		- 相册设置: 支持自定义相册扫描根目录,文件类型,文件大小等;
		- 目录相册: 选择文件夹以相册模式显示(可添加到收藏夹,创建快捷方式; 可用于部门相册,子相册等);
		- 功能开关: 可在后台管理-基础设置-其他设置,中开启关闭相册功能;
	- 文件封面生成插件: 支持视频,pdf,psd,ai等文件封面图生成及预览(需要自行安装imageMagick,ffmpeg; 支持iOS的heic图片格式预览)	
	- 显示设置(文件显示区域右键-显示选项)
		- 支持设置单击或双击打开文件/文件夹;
		- 图标模式支持显示文件详情(文件夹则显示包含子内容数量,大小; 文件则显示文件大小)
		- 其他快捷设置项: 显示隐藏文件;开启文件勾选;同名文件处理等;
	- 文件列表虚拟列表支持: (vlist,重构文件显示区域及相关操作)
		- 全面采用虚拟列表: 按需绘制显示,极大提高文件内容多时页面性能(一个文件夹下拉取50万条内容,亦非常流程);h5页面性能提升;
		- 选中处理: 快捷键选择:up/down/left/right/pageup/pagedown/home/end;shift组合连选,ctrl点选;快捷搜索;首字母匹配选中;
		- 框选选中: 高性能处理(快捷判断,动态局部diff刷新);超出屏幕自适应滚动
		- 操作处理: 双击/单击打开文件(夹);右键处理; 拖拽处理,拖拽动画;分组收起展开; 重命名处理(维持状态); 新建文件(夹)处理等;
		- 图标模式: 自适应高度(文件名最多三行), 文件有封面时懒加载优化(图标大小调整,自动宽度,滚动条处理)
		- 列表模式: 收起展开处理;快捷键收起展开; 收起展开保持刷新前展开状态;搜索文件内容展示处理;
		- 分栏模式: 子列表处理;左右快捷键处理;保持之前分栏处理;
		- 拖拽处理: 松开完成移动/复制操作; 停留打开文件夹处理(文件夹,列表模式展开按钮,地址栏,树目录) 
		- 新建/重命名: 新建文件(夹)自动插入到排序位置; 新建重命名在虚拟列表中处理, 滚动后状态维持,界面点击时失去焦点,完成后选中处理; 
		- 移动端适配: 移动端列表模式,图标模式,选中,左滑,搜索框,下拉刷新,框选; pc端窄屏模式适配;深色模式处理等...
		- 其他: 分组收起展开,分组标题自动吸附;readme处理,展开折叠自适应高度;图片打开关闭时收缩位置;桌面处理; 选中变化自动显示到屏幕中;
		- 虚拟列表基类导出到sdk;可方便插件使用, VList,VListIcon,VListTree;(分组支持,动态高度,自适应重绘,分组标题吸附,自适应滚动...);
	- 其他优化
		- 搜索优化: 按标签的结果也按搜索条件过滤; 搜索地址栏加入所在路径;内容搜索/批量搜索重置(切目录); 批量搜索限制100条;
		- 地址栏加入刷新按钮(等同于右键刷新);
		- 图片预览PhotoSwipe, 可快速查看文件属性(完整的属性面板);
		- 图片视频等缩略图清除处理: 文件属性-关联信息-有缩略图时调用清空
		- 部门文件夹:包含子部门时,总条数及页数精确处理;
		- 删除用户时:先将该用户回收站内容进行还原; 再删除到系统回收站;
		- 提示优化: 有密码的外链分享复制文件外链打开后提示信息优化; 更新用户使用空间size=null情况; 
		- 其他: 删除&分享权限去除强关联;图片播放-全屏时-背景设置为不透明;
		- 文件属性面板: 开启关闭保持记录; 图片时显示优化; 文件更新时通知自动更新(收藏/置顶/描述修改/标签修改)
		- 地址栏过长时支持鼠标滚动; 横向滚动条上滚动则自动左右滚动处理;
		- 拖拽文件时,靠近顶部或底部时自动滚动处理, 跨窗口支持(文件区域,分栏区域,树目录,文件管理窗口之间相互拖拽自动滚动); 
		- 树目录拖拽是否能放置动作判断处理,前端判断不能拖拽到子目录处理;
		- 协作分享: 普通用户搜索其他用户,是否允许模糊搜索开关(默认关闭);
		- heic 图片内部exif信息获取支持; mov视频文件exif信息解析优化处理;
		- 文件修改时间显示优化: 图片拍摄时间>上传时文件修改时间>自身修改时间(当文件上传后未修改,修改时间等于上传时间)
		- 列表模式展开相互拖拽优化: 列表模式树目录拖动hover到文件处理; 
		- 列表模式,展开文件夹子内容只有一个文件夹时,自动继续展开(最多10层);
		- 文件夹树目录开文件夹子内容只有一个文件夹时,自动继续展开(最多10层);
		- 树目录拖拽优化: 拖拽到文件上自动定位到文件的父文件夹;
- 性能优化
	- 文件创建文件名同名时加锁处理优化(优化对象存储时多次请求检测逻辑)
	- 添加后台任务时, 多次添加优化为批量添加(减少缓存读写频率)
	- 上传等操作更新用户空间大小, 每次实时更新改为延迟限流更新(减少数据库读写操作)
	- 函数调用链路缓存优化: Action/ActionApply/Hook::trigger ...
	- sql查询优化: 查询文件夹子内容优化;部分数据查询进行内存缓存处理;精简合并相同数据查询等;
	- 前端文件列表优化: 采用虚拟列表方式,按需显示, 包括图片自适应懒加载处理; dom优化,去除不再使用的属性,title懒加载处理;
- Windows等触屏操作支持: 
	- 滚动处理: 树目录,文件区域等; 优先级处理,滚动惯性处理,横纵滚动条拖动处理; 
	- 框选拖拽处理: 长按后处理,停顿0.2s内没有移动才开始, 否则按滚动处理;
	- 对话框处理: 拖拽,大小调节; 右键菜单点击等效果处理;
- 其他
	- 角色权限及文件权限: 去除删除&分享权限强关联,可以独立设置;
	- 图片播放-全屏时-背景设置为不透明;
	- 修改部门名称或所在部门, 清空子部门缓存信息(所在部门路径信息等);
	- 文件快速上传时,mysql8.0 表引擎innodb并发插入数据死锁兼容;
	- 图片等文件获取文件详情信息优化更新;异步后台获取,失败情况处理;
	- 触摸屏手势框选偶尔没有结束情况处理, touchmove时元素移除后事件不冒泡情况处理,手动触发事件;
	- webdav兼容调整: 兼容点滴进度,notehelf等;
	- 文件预览等多个对话框, 点击对话框iframe内部时,使所在对话框置顶处理;
	- 内部协作分享与外链分享:搜索处理; PC客户端文件夹下载;
	- 兼容: ie11; ie10; ie9(不再兼容ie8)

##### bug fixed
- 修改部门名称或所在部门后,部门文件夹子部门路径信息没更新情况处理(清空子部门缓存信息).
- markdown粘贴图片,一分钟内文件重名问题处理.
- 部分php8.1服务器环境报错兼容;


## 1.31 版本更新
> **主要新增**: 文件夹下载前端压缩  
> **发布于: 2022.5.17 **   

- 文件管理
	- 下载文件夹前端压缩;(不通过服务器中转压缩,提高下载性能, 降低服务器负载)
		- 存储支持: kod文件夹存储混合存储,本地存储,对象存储等全部支持; 外链分享文件夹下载;
		- 其他情况: PC客户端下载文件夹,依然走本地直接下载; 浏览器支持:chrome50以上;	
		- 中途取消支持(自动取消当前及后续请求, 包含列表获取时取消);
	- 文件保存sdk优化, 保存时显示进度/速度/大小等信息;
	- 跨存储复制等长任务操作,支持手动结束任务;
	- 外链分享文件夹: 搜索结果页刷新后保持搜索结果;
	- 移动端H5兼容: 文件历史版本对比优化; 文件嵌入页面优化; 
- 第三方登录插件
	- 新增facebook绑定登录(客户端需要能访问facebook)
	- 新增google绑定登录(客户端需要能访问google)
- 其他
	- 所在上层部门不可见,下层部门有权限时; 按下层处理;
	- 代理访问时站点url获取兼容优化.

##### bug fixed
- 设置所在部门无权限, 下层没有内容有权限时不构建通路



## 1.30 版本更新
> **主要新增**: 支持kod挂载其他kod服务器存储,物理路径及io路径文件历史版本支持,其他细节优化..  
> **发布于: 2022.5.7 **  

- 文件管理
	- 支持kod挂载其他kod服务器存储(通过挂载kodbox提供的webdav).
	- 文件批量上传,大量小文件时并发性能优化(更新文件夹大小锁定优化).
	- 文件文件夹操作日志优化: 多个相似操作合并显示优化,提示信息优化; 文件编辑平台区分.
- 支持挂载webdav存储;
	- 文件操作支持: 属性;列表;移动;复制;删除;上传;下载.
	- 挂载处理: 后台挂载及管理, 有效性检测.
	- 挂载整合到io: 属性,列表;新建文件夹,重命名,移动,复制,编辑保存,删除; 跨存储间复制移动,进度处理.
	- 删除时回收站处理: 删除到回收站,/.recycle不存在则直接调用删除.
	- 针对kod服务器增强
		- 属性增强: 包含文件夹数,文件数;文件夹大小;读写权限继承;扩展属性等.
		- 列表: 文件/文件夹图标处理; 文件缩略图.
		- 安全及性能优化: 登录优化处理(内部交互保持cookie); 前端上传下载使用临时限时授权链接访问.
		- 跨存储间相互拷贝剪切: i本地存储/对象存储等io路径相互复制剪切; 进度处理(单个文件,多个文件)
		- webdav上传下载优化
			- 后端上传: copy文件; 大文件分片上传支持; 秒传支持;
			- 前端下载: 直传处理;图片缩略图处理(不走当前服务器流量,性能提升,减少后端传输多次网络传输)
			- 前端上传: 秒传支持,分片上传支持; (支持前端上传目标为对象存等跨io自适应前端上传支持) 
- 历史版本优化
	- 文件列表及文件属性: 当文件有历史版本时,自动展示历史版本数量;(io及物理路径,当有历史版本时自适应显示历史版本tab)
	- 历史版本对比: 支持自定义选择任意两个版本进行对比(按住shift或ctrl进行选择), 版本预览支持调整视图宽度.
	- 文本方式打开历史版本: 网络请求优化处理(url请求处理为内部请求, url请求header兼容优化)
- 历史版本支持增强(支持物理路径,oss,webdav,ftp,七牛等io挂载路径...)
	- 历史版本生成: 文件编辑保存;上传覆盖;复制粘贴覆盖,移动粘贴覆盖(排除历史版本回退,{io:xx}路径处理)
	- 目录变更感知: 重命名,文件夹重命名;移动,文件夹移动;文件删除,文件夹删除(回收站处理:删除到/还原/彻底删除);仅限kod内产生的操作;
	- 路径支持: 物理路径; io路径; 物理路径协作分享; io路径协作分享;
	- 历史版本管理: 前端处理; 列表,打开,下载;回退,删除,清空; diff对比
- 后台管理相关
	- 操作日志记录优化处理(后台删除用户or部门记录)
	- 第三方登录绑定: 拆分到独立插件,方便后续扩展
	- 备份优化调整	
- 其他
	- 存储挂载列表优化: 多个同类型存储分组合并(超过3个相同); 图标模式显示空间使用情况;
	- 权限通路处理: 上层所有人无权限;下层xxx用户a无权限,a所在部门编辑器权限; a在xxx无权限-不可见;
	- webdav挂载时虚拟目录(如我的文档,收藏夹)多语言自适应处理;
	- sourceModel内存缓存维护: 重命名,移动,删除,更新,setMeta.
	- 报错提示文字优化,多语言加入(并发失败,数据库操作失败等)
	- 细节优化:外链分享图片页面,点击图片查看大图(缩放等操作); 为编辑文件时空文件不记录历史记录; 外链分享页面下载等突出显示;
	- 文件嵌入视频音乐文件时,取消自动播放;
	- 日期格式设置后,显示月日简写优化处理; 日期转时间兼容时间格式的情况;

##### bug fixed
- 最近文档分组排序异常情况优化.
- PC端打开文件历史版本处理: 只读模式打开,不允许编辑(可另存为).
- 个人中心上传头像失败问题处理;


## 1.29 版本更新
> **主要新增**: 搜索优化; webdav兼容性调整; 安全性优化等..  
> **发布于: 2022.4.8 **  

- 文件管理
	- 文件搜索全文搜索支持(调整数据库后修改配置;mysql5.7以上,配置参数"searchFulltext")
	- 对象存储文件夹搜索优化(属性列表缓存,减少网络请求)
	- 本地文件文件夹,chmod修改权限支持(文件属性)
	- 任务队列处理支持;(图片视频文件详情等操作,加入后台任务队列处理;提升性能)
- 其他
	- 移动端兼容优化.
	- 邮箱加密方式兼容;
	- webdav 文件编辑保存兼容处理(win11下office编辑保存; 企业空间下文件重命名异常问题处理)
	- webdav同步兼容处理(goodSync兼容时间戳;FreeFileSync兼容move,floccus,joplin)
	- 文件输出安全性优化(svg文件过滤处理)
	- App扫码登录支持(未登录App扫描web个人中心二维码登录App; 已登录App扫码web登录界面二维码登录web端)
	- 扫码登录: 目前可用于手机浏览器等扫码登录(App扫码功能下个版本上线,Android会重构会稍晚一点);安全性(5分钟过期,只能使用一次,覆盖)

##### bug fixed
- 后台登录管控,禁用web端登录会对iOS App拦截异常情况处理;
- 修改配置--关闭系统管理员物理路径访问, 系统回收站访问报错问题处理;
- 其他问题修复: 外链分享文件夹,pdf文件嵌入需要登录问题处理; 客户端插件form批量设置值异常问题处理;
- pc客户端: 当程序长期没有任何操作,本地打开文件异常情况处理(登录失效后记住密码自动登录后; 没有更新新的token到客户端问题)


## 1.28 版本更新
> **主要新增**: 对象存储优化,图片缩略图优化..  
> **发布于: 2022.3.10**  

- 文件管理
	- 图片缩略图生成优化
	- 图片预览时支持删除当前图片
	- 对象存储处理优化: 七牛删除文件优化; 其他类似存储读取异常情况报错处理;
	- webdav登录兼容支持中文用户名(PC客户端自动挂载,手动挂载用户名=$$+urlEncode(name));
- 其他
	- markdown预览宽度调整,按百分比处理(自适应缩放)
	- 后台: 存储迁移到默认存储支持, 备份设置保存失败问题处理
	- 客户端下载文件日志记录;
	- sqlite数据库情况,读写锁兼容优化;
	- 服务器兼容性优化;
	- 多语言情况下样式兼容优化.
	- 登陆密码错误锁定优化, 连续输入5次后锁定30s后才能登录;
	- 分享协作内容数据兼容1.12前老数据;

##### bug fixed
- 文件夹跨存储空间复制移动, 有引用文件时不全问题处理;
- 子文件夹将权限获取异常问题处理.
- webdav下wps编辑保存文件异常问题兼容


## 1.27 版本更新
> **主要新增**: 文件历史版本对比查看;权限设置到部门自动包含所有下级成员用户;部门根目录权限设置向下级部门穿透等..  
> **发布于: 2022.2.16**  

- 文件管理
	- 外链分享有效性处理: 当分享者被禁用,没有分享权限,所在文件不再拥有分享权限时自动禁用外链分享;
	- 内部协作分享有效性处理: 当分享者被禁用,没有分享权限,所在文件不再拥有分享权限时自动禁用外链分享;
	- 权限tab展示; (授权情况按钮)
		- 部门成员初始权限; 
		- 权限设置列表:该文件夹下所有指定了权限的内容;
		- 权限快捷操作: 名称(点击进入,路径等信息); 授权对象&对应权限; 取消全选设置/取消所有字内容权限
	- 移动端文件列表模式图标模式: 设置配置独立处理;(获取配置,写入配置---存储在本地;初始化数据指定)
	- 搜索结果缓存优化: 不缓存搜索结果; 避免搜索结果内容删除等操作时情况处理; 批量搜索结果处理优化;
	- 图片预览: 支持旋转方向;旋转方向状态记录在本地(根据url记录旋转信息到localData)
	- 文件夹下载处理优化: 大于限定值,建议使用PC客户端进行下载,文件夹直接下载,无需压缩.
	- 文件外链开关: 默认开启; 企业版默认关闭,可手动开启; 文件MD5开关: 关闭则不计算和显示文件的MD5(不影响秒传)
	- 文件名重复优化: 仅大小写变化认为是同名;
	- 最近文档: 内容分类展示优化;
	- 图片缩略图优化: loading占位图优化,打开时先显示小图; 小图展示列表同时使用懒加载;
	- 文件管理地址栏: 部门文件夹显示部门上级层级部门;
	- 文件历史版本对比:
		- 文本: 行修改diff处理;代码高亮
		- 图片文件预览对比; 其他文件预览对比
	- 权限设置/协作指定部门子成员包含设置:
		- 批量选择组件处理: 去除批量选择子部门逻辑; 调整为批量选择该部门成员用户;
		- 权限设置时选择部门时: 包含该部门成员及所有子部门成员(区别处理;经该部门成员/所有子部门成员);
		- 构建通路: 包含指定了自己所在部门的上级部门时, 到达有权限内容的路径通路构建;
		- 内部协作分享处理: 分享给上层部门,在该部门子部门的成员都能在"分享给我的"中看到该项;
		- 权限逻辑: 指定用户>指定部门(自己所在部门)>指定部门(上级部门)>其他人; (其他人权限处理)
		- 部门子文件夹设置权限给某人或某部门: 公共标签拉取权限处理;
	- 子部门空间穿透;(该部门用户能操作该部门下级部门的文档; 权限同为该用户在该部门的权限)
		- 将部门空间按普通文件夹处理逻辑; 不在某个部门时向上层部门查找直到找到为止; (部门权限/部门根文件夹权限);
		- 后台管理-用户在某个部门: 则该用户可以看到部门子部门文档,权限向上继承;
		- 前台设置-用户在某个部门根目录有权限: 则该用户可以看到部门子部门文档,权限向上继承;
		- 不在部门权限通路处理,无权限处理;
	- 批量覆盖设置用户权限: 
		- 功能范围: 文件夹设置权限,选择用户, 权限选择下拉菜单中批量设置该用户在该文件夹下的权限; 
		- 包含该用户权限的内容: 文件夹及下级所有内容针对该用户设置过权限的内容; 如果有内容这支持批量重置;
		- 部门根目录: 则包含用户在子部门的初始权限覆盖(如果为部门管理员则不处理)
	- 权限来源说明优化:(hover到权限提示信息展示; 查看权限详情内展示)
		- 系统管理员:无视所有权限;
		- 所在位置:继承自文件夹(部门/xxx/xxx;部门根目录);
		- 授权对象:指定自己权限,指定部门权限(部门xxx);其他用户权限
- 其他优化
	- 移动端外链分享显示优化;(分享信息(访问数,举报等),放在下拉菜单中)
	- 音乐视频文件解析显示播放时长优化.
	- 外链分享文件夹: 搜索处理;屏幕自适应优化
	- 外链分享文件属性面板: 分享信息展示(分享时间/过期时间/访问数/下载数;仅内部用户/有密码|无密码)
	- 移动端h5样式优化: 文件选择;sdk引入选择文件;列表模式文件名最多显示两行-垂直居中;
	- 设置账户及昵称: 重复检测处理(昵称和账号: 不存在账号/昵称/email/phone=新设置)
	- 不同国家年月日格式设置: 系统默认Y-m-d
	- 部门根目录: 不允许外链分享/内部协作分享;
	- 后台安全设置: 增加开启关闭外链分享;允许未登录用户访问;允许分享密码为空;
	- 挂载本地路径后,直接访问挂载路径内容,多选文件压缩支持.
	
##### bug fixed
- 部门公共标签: 拥有编辑权限的用户支持给文档设置公共标签(标签信息拉取鉴权过严问题处理)
- 其他: 部门管理员查看操作日志,成员为空处理;
- 用户为多个部门的部门管理员时,后台用户管理,用户部门设置信息异常情况处理 


## 1.26 版本更新
> **主要新增**: 协作分享筛选增强,部门公共标签等...  
> **发布于: 2021.12.28**  

- 文件管理
	- 系统级文件复制(不限文件类型,支持多个), 在kod文件区域ctrl+v粘贴可以自动上传;(保留原始文件名,最后修改时间)
	- 系统截图及各类截图软件的截图在剪贴板中,在kod文件区域ctrl+v粘贴可以自动上传; 编辑器markdown模式粘贴时可直接插入图片(支持多张图片,保留文件名)
	- 批量重命名: 内容选择很多时,并发处理优化;ui进度合并显示处理;
	- 树目录新建文件文件夹, 根据排序方式自动处理插入位置;
	- 编辑器打开未知扩展名文件,自动识别语法高亮并选择处理;
	- 文件批量上传(不同结构同名文件处理,并发锁优化)	
	- 文件夹列表内容支持分组显示;(部门显示子部门时,部门与部门文档进行区分;up/down/shift+up/shift+down快捷键适配,拖拽处理,新建文件位置处理);
	- 外链分享超时提示: 分享状态图标提醒标记;
	- Minio及S3系列对象存储,图片缩略图处理优化(中转传输时,生成的缩略图访问也走中转流量)
	- 协作分享优化
		- 支持设置过期时间, 过期后不再显示该分享;
		- 属性面板: 显示分享来源路径,如果是自己发起的则可以点击进入对应目录(可以快捷编辑该协作分享); 截止时间显示;
	- 与我协作内容之间切换显示模式
		- 显示模式支持: 平铺显示,按组织架构显示,按分享者显示
		- 后台设置全局开关: 是否支持写作内容按组织架构呈现;(默认开启)
		- 按分享者显示: 分享给我的内容按发起者用户归类(显示优化:地址栏数据及用户图标,属性面板展示说明,所在部门显示)
		- 按组织结构分类:
			- 部门文件: 从支持的最上层部门向下构建通路; 到部门一级; 归类该部门内资源协作给我的内容;
			- 个人文件: 从支持的最上层部门向下构建通路; 到部门一级; 用户所属部门;
			- 分组显示: 子部门; 该部门成员的个人空间分享;该部门空间协作分享
			- 外部分享: 归属到用户个人分享中; 用户不在自己的组织架构则放在"与我协作"根一层,
	- 图片文件自动获取exif属性优化(兼容性优化); 图片缩略图生成自动调整图片方向;
	- 我的协作:显示参与者;
	- 个人标签调整
		- 标签设置时,可以快速添加新的标签;
		- 标签筛选,支持按标签聚合筛选; 文档属性面板,点击已设置标签可以快速进入筛选.
	- 部门网盘公共标签
		- 部门标签管理: 仅部门管理员可以设置部门公共标签; 支持设置大类分组, 分组内标签快捷添加(支持快捷添加,拖拽排序);
		- 标签设置: 部门成员对某个文件夹有编辑权限时,可给文件/文件夹设置公共标签;
		- 标签展示: 所有有访问权限的用户都能看到给文档设置的公共标签; 包括属性面板公共标签,文件图标模式公共标签图标,列表模式公共标签;
		- 公共标签筛选: 点击文档属性设置的公共标签自动进入部门标签内容筛选,可以多选标签对打过标签的内容进行聚合筛选
		- 搜索: 部门网盘下文件夹搜索,支持搜索标签名或标签拼音,内容进行整合.
		- 自适应展示: 
			- 部门管理员设置了公共标签信息时,有编辑权限的人才能设置选择标签(文件/文件夹右键设置; 属性面板设置)
			- 普通只读用户: 文档设置了公共标签才自动显示;否则不显示该项.
- 其他优化
	- 鼠标前进后退键: 文件管理前进后退文件夹处理;
	- 鼠标前进后退键: 编辑器光标位置前进后退支持;
	- 移动端接口调用自适应优化(用户,部门等信息获取自适应权限范围处理)
	- 外链分享文件夹: 默认列表模式展示; 排序切换按钮处理; 新页面打开文件针对微信内等情况兼容处理;
	- 协作分享等虚拟目录说明信息优化(树目录,hover到对应文件夹上提示信息优化)
	- 部门空间使用大小实时更新处理;(部门文件删除者清空回收站,重置部门空间使用)
	- 权限组及用户权限: 上传权限可独立设置,不绑定预览权限
	- php8.1 兼容

##### bug fixed
- 物理路径文件删除回收站还原失败问题处理
- 重命名文件/新建文件: 输入框内文字选择右键菜单冲突问题处理;(文件管理,树目录)
- 当默认存储是oss,s3等对象存储时, 且存储模式为保留文件名, 并发上传同文件名覆盖情况处理

## 1.25 版本更新
> **主要新增**: 部门管理员支持,可见性隔离支持;其他细节优化.  
> **发布于: 2021.11.24**  

- 文件管理
	- 文件上传: 记录本地文件最后修改时间; 列表及文件属性显示(仅显示)
	- 文件区域ctrl+V粘贴, 剪贴板图片粘贴自动上传处理(上传后自动选中,通知其他窗口,多窗口自动识别);
	- PC端屏幕宽度调整,或文件管理对话框尺寸调整; 内容展示自适应处理;
- 后台调整
	- 部门管理员角色：(角色拥有部门读写+管理者=部门管理员)
		- 部门管理员身份加入;(部门管理员,能看到并管理子部门,后台其他权限跟随角色身份)
		- 后台权限角色: 有角色编辑权限的处理: 只能添加,删除,修改小于等于自己权限的限定处理; 权限列表过滤大于自己权限的内容;
		- 部门操作限定: 编辑,删除,禁用启用,添加子部门等;   只能操作自己为管理员的部门及下级部门;
		- 用户操作限定: 添加,删除,用户设置部门,禁用启用等; 只能操作自己为管理员的部门下的用户
		- 其他操作限制: 自己为部门管理员的部门不支持删除和编辑;
		- 部门管理员: 操作日志/登陆日志数据为自己所在部门下的数据;
	- 部门可见其他部门支持(适用于子公司,或外部人员部门等情况)
		- 部门设置: 全可见/全不可见/指定可见;
		- 用户获取时权限处理: 内部协作(个人文件夹/部门文件夹); 搜索用户; 文档权限设置(对外授权)
			- 没有所在部门,禁用部门列表,用户搜索等;
			- 文件夹协作: 根据部门协作可见性展示内容(向上回溯; 相互包含合并; 多个支持)
			- 权限设置:   对外授权,根据部门协作可见性展示内容(向上回溯; 相互包含合并; 多个支持)
- 其他优化
	- 编辑器性能优化(worker内存释放处理)
	- 文件夹权限设置交互优化;
	- 对话框大小手动调整过之后, 再调整window大小不再根据之前百分比自适应;
	- SDK 文件夹选择窗口,根据对话框大小自适应界面处理
	- 右键菜单焦点快捷键优化; 支持重复绑定, 自动触发第一个不是隐藏禁用的项
	- 编辑器vim模式,支持w,q,wq!等保存关闭命令操作;
	
##### bug fixed
- 文件列表模式收藏置顶标签等信息显示不全优化


## 1.24 版本更新
> **主要新增**: 多语言优化,PC客户端适配优化等  
> **发布于: 2021.11.11**

- 文件管理
	- 协作分享文件夹: 其他人删除子内容; 进入删除者回收站处理;
	- 协作分享文件夹操作日志: 包含文件路径的信息处理;点击自动跳转;
	- webdav管理: 有文件在回收站中,再上传同名文件会失败情况处理(回收站已存在则先自动重命名)
	- 用户在某个部门:设置了不可见权限时,下层内容有需要此通路时保留通路;
	- FTP存储挂载: 支持设置主动模式,被动模式;
- 其他优化
	- 插件更新及安装服务器优化,从cdn进行下载; 插件更新hash对比优化;
	- 多语言: 文字长度对应界面自适应处理; 内容显示优化;
	- 解压到文件夹选择: 上传者文件夹不能选择处理(write=write||upload => write=>write)
	- iOS原生APP接口调用; 多语言自适应处理;操作日志设备类型识别;
	- adminer插件更新,php8兼容;	
	- iframe跨页面点击事件传递处理(弹出菜单等自动关闭处理; input系列焦点时不传递处理)
	- PC客户端,文件内容下载兼容处理(流程图插件,在线PS插件等)
	- 存储挂载复制移动优化: 复制或移动时返回新文件路径, 保持当前选中;
- 后台管理
	- 部门支持排序: 拖拽排序,右键菜单上移下移处理; 排序后自动对应到文件夹子部门顺序;
	- 操作日志登录日志,ip对应地址库更新; 地址多语言自适应;
	- 系统回收站: 列表模式,展开用户归类内容;多选支持批量移交和还原操作;
	- 危险操作确认框,二次确认处理; 包含删除用户,部门,切换存储,删除存储,删除角色,删除权限等;
	
##### bug fixed
- 自定义壁纸设置后不显示问题
- PC客户端:关闭同步功能处理(不影响其他功能:下载,文件本地编辑)
- 物理路径或io路径文件删除,回收站还原该项或彻底删除该项异常问题修复;


## 1.23 版本更新
> **主要新增**: 安全性优化,插件更新...  
> **发布于: 2021.09.23**

- 文件管理
	- 跨空间文件移动/复制: 上传下载或中转,单文件进度支持; 传输速度显示;
	- 协作分享/外链分享: 文件夹属性,显示子内容个数;
	- 通路权限信息: 点击快速进入有权限的目录位置;
	- 外链分享: 搜索过多分页处理,搜索性能优化; 文件嵌入url优化; 
	- 外链分享文件夹,文件嵌入markdown,图片支持相对路径引用;
	- 用户所在部门为管理员权限(拥有者); 该部门下所有文档权限都是拥有者,优先级最高,覆盖其他人的设置; 
	- 用户权限组优化: 开启了分享权限但没有下载权限,分享后能下载的问题(权限关联, 分享关闭;默认下载也关闭)
	- 删除操作偶尔提示失败问题优化,(获取任务状态,任务未开启时等待处理)
- 编辑器
	- 内容分页: 文本文件,中文截取乱码问题兼容; 
	- 打开压缩过的文件函数列表处理性能优化;
	- 工具:编码转换加入: hex及字符串互转, ansi字符串,编辑/保存;(ansi编码); 方便二进制操作
	- 未知扩展名文件,自动检测编程语言并高亮处理;
	- 拖拽支持: 拖拽kod中文件到编辑器;拖拽本地文件到编辑器-只读打开;
	- hex 16进制预览增强: 多行选中支持; hex区/char区同步: 光标,选中内容,高亮其他等于选择字符; 左右快捷键切换定位到字节; 只读模式处理;
- 后台管理
	- 角色管理: 分享权限依赖上传下载等权限; formMaker表单自动处理多值相互依赖checkAlias
	- 客户端设置
		- 同步设置: 开启关闭备份功能, 指定用户支持备份;
		- 指定扩展名打开优先级(优先本地打开); 用户对文件有下载权限时才生效;
	- 服务器管理:支持数据库表恢复重建操作;(基于备份数据库表文件);
- 其他
	- 部分服务器下载限制了content-length兼容; 列表模式新建/重命名,左右滚动条自动滚动到最左侧; 
	- 右键菜单添加避免重复处理; 客户端"本地打开"优先级提升; markdown预览显示优化;emoji解析复制兼优化;
	- 插件缓存处理: 同一文件生成缓存共用处理;(cad,office...);
	- 授权版激活:   自动开启系统回收站; 自动开启备份数据库内容;
	- pdf预览优化: pdfjs库升级; 优化文件内容拍照图片显示异常的问题; 解决PC端全屏后无法退出问题;
- 插件更新
	- drawio更新:
		- processon兼容: 支持parentId不存在时默认绘制; 旋转角度调整;
		- 搜索网络图标: 加载更多操作优化;
	- svgEditor优化: 
		- 双击进入图层选,选中图层为空时下载文件卡死问题;
		- 部分图形渐变色丢失情况处理: width,height为0时不处理; 
		- 渐变色引用时点击颜色报错处理: 兼容xlink:href引用情况处理;
		- 撤销操作历史记录优化: 
			- 颜色修改支持撤销(底部颜色设置,及颜色板设置)
			- 模糊度调整支持撤销处理;
			- 修改x,y坐标撤销优化处理 (拖拽调整x,y数值避免重复记录)
			- 选中元素对齐方式,多选元素对齐方式;历史记录优化,避免重复调用;
			- 贝塞尔曲线调整: 路径点调整;锚点调整;锚点删除(等支持撤销处理)
			- 文本文字内容修改历史记录;
			- 删除撤销,剪切粘贴: 渐变色引用节点自动加入;(解决删除撤销,剪切粘贴后,渐变色丢失的问题);
			- 导入svg; 撤销报错处理; (添加历史记录,数据校验)
			- 字体处理: 字体设置及映射;
		- 撤销后选中之前选中的元素,便于继续调整其他参数;
		- 其他: 保存重复调用问题处理;

##### bug fixed
- 收藏文件夹后修改收藏的名称, 取消收藏文件夹时报错问题处理;
- 右键新建文件sdk: 新建后打开执行多次问题处理; 文件夹对话框中新建不在该窗口的问题;


## 1.22 版本更新
> **主要新增**: 性能优化等诸多细节优化...  
> **发布于: 2021.08.06**

##### 功能新增及优化
- 文件管理
	- 批量上传: 上传失败的内容,支持批量重新上传;
	- 搜索文件内容,编辑器打开文件,搜索词高亮处理; (定位行支持忽略大小写搜索)
	- 目录权限检测: 插件等调用后端目录权限判断,检测用户角色权限;
	- 文档权限优化: (部门G1有子部门G2,有子用户U1;管理员设置G2下文件权限给U1时,G2下其他内容权限处理)
	- 文档权限说明: 增加权限来源说明(指定用户/部门/其他人; 自己所在的部门; 回溯至部门; 权限通路:所在位置);
	- 图片历史版本: 支持图片快速查看,方便对比变化.
	- 文件标签优化: 标签设置列表优化;文件标签过多情况展示优化(web,h5); 文件标签名称过长情况处理;
- 编辑器
	- 没有扩展名的文件: 默认用编辑器打开;
	- 打开文件: 前缀为脚本语言自动设置为对应语言高亮(#!/usr/bin/node ...)
	- 编辑器markdown: tasklist任务列表,勾选checbox对应修改编辑内容处理
	- markdown预览优化: 显示宽度加大; 内容为空时信息提示; 渲染前后loading加入;
	- 代码文件类及方法匹配优化: js匹配优化(支持es6的class及相关方法; =>函数支持); 
	- 代码文件方法匹配新增: typescrpt方法匹配; css,less,scss支持;
- 其他优化
	- 新建/重命名文件文件夹: 重名情况提示,并保持继续编辑状态;
	- 文件选择读写sdk: 文件选择对话框移动端优化;
	- 用户或部门选择组件全选优化: 选择部门时之展开有子部门的节点; 选择用户&部门时自动按只选择部门处理;
	- 列表模式优化: 列表模式文件名比较长情况下,重命名显示不全的问题; 文件列表模式子文件夹内容拖拽到上层hover处理优化;
	- 框选拖拽优化: 文件夹子内容过多时: 点击选择性能优化; 框选性能优化; 拖拽时性能优化(去除鼠标手势引起浏览器渲染卡顿问题);
	- 文件管理优化: 收藏物理历经文件,不存在时红色提示; 分栏模式非激活分栏框选处理;深色模式编辑器高亮为亮色时默认处理成深色;
	- 其他优化: 减小css大小,减小js打包大小; 样式优化调整; 页面载入顺序调整; 菜单栏子菜单样式及声色模式优化;
	- 插件静态资源: 支持统一部署到CDN: 可配置指定插件;(插件下载服务器迁移到阿里云cdn;加速下载)
	- 插件:文件获取进度读取展示(drawio,svgEditor)
	- 标签对应内容数量优化: 标签对应文件被删除情况数据处理;
	- 右键菜单初始化处理: 右键菜单按需加载(减少页面dom数 document.all); 菜单项选中处理; destroy处理,编辑器菜单hover点击处理;
	- 性能优化: 文件管理选中操作内容按需加载; 高级搜索面板延迟按需加载;
	- 样式优化: 文件选择组件适配深色模式; 用户部门选择组件没有选中内容则默认不勾选全选;H5移动端后台表单显示优化,表单标题;文件列表模式快捷方式显示icon标记;文件多选,没有对应权限时底部菜单按钮不可点处理;下菜单栏图标样式;外链分享文件夹路径显示;外链分享页面关于对话框处理;
	- 压缩包文件预览,文件列表文件名避免二次html编码;
	- 远程下载: 文件大小不校验, 避免长度不一致判断过于严格的问题;
- 后台管理: 分享举报批量管理

##### bug fixed
- 收藏夹收藏文件时显示为文件夹的问题修复;
- 样式处理: 深色模式自定义颜色处理


## 1.21 版本更新
> **主要新增**: 安全优化,用户管理批量操作处理,新增流程图,在线PS,svg编辑插件...  
> **发布于: 2021.07.10**

##### 功能新增及优化
- 文件管理:
	- 文件历史版本: 图片历史版本列表显示图片内容;
	- 远程下载批量下载性能优化,同时执行5个任务;
	- 文件缩略图生成展示优化(针对没有缩略图的文件缓存标记状态;pdf,psd,ai,drawio,pos,mp4,...)
	- 文件打开方式: 所有文件默认加入文件查看(自动二进制查看)
	- 我所在部门: 显示上级部门名称;
	- 收藏夹列表模式: 收藏的部门路径显示及点击跳转处理;
	- 权限设置: 支持选择最近数据,及保存数据;(保存数据组编辑处理)
	- 权限设置/协作分享: 部门选择支持选择所有子部门及成员;(全选,全不选)
	- 权限设置/协作分享: 权限批量设置; 同时作为后续默认权限(针对频繁选择多个时提升效率); 直选用户或部门处理支持;
	- 文档在回收站中: 不支持保存/上传/远程下载/粘贴/移动到此/新建文件/新建文件夹;
	- 从回收站还原, 提示显示所在文件夹,点击可以快速进入所在文件夹;
	- 文件删除优化: 删除文件,再彻底删除父文件夹; 删除的文件从回收站清除(不能再还原);
	- 文件删除优化: 删除文件,再删除父文件夹; 还原父文件夹时子内容保持在回收站; (还原子内容提示)
- 其他
	- 通知推送增强:通知推送,增加强提示和弱提示分类。(弱提示：左下角通知栏显示红点；·强提示：用户登录后直接弹出通知);
	- url参数支持强制进入文件夹选项;(不存在则新建,别名支持)
	- 其他优化: less 编译优化;视频文件获取meta信息读取文件内存限制处理;
	- 服务器兼容支持: 未安装Ctype扩展情况处理;
	- 轻应用: 兼容kodexplorer的文件/文件夹快捷方式(列表icon;打开支持;编辑轻应用);
	- 菜单自动隐藏: iframe页面点击,父页面右键菜单等菜单自动收起;
	- 编辑器: 扩展名及文件图标支持完善; 设置高亮模式,输入搜索匹配内容及渐变上下切换自动以选中模式进行高亮;
	- css编译大小优化;
	- 移动端H5搜索输入时异常处理;
	- 其他: 性能优化-redis缓存读取去除锁定;插件管理页面优化;
- 插件处理
	- pdf预览工具: 支持ai文件打开;
	- 插件增强:自动添加轻应用;
	- 插件增强:加入到页面菜单;(现有插件整理优化)
	- 部分应用不登录可用(drawio流程图,photopea在线PS,svgEditor,泼辣修图)
- 后台管理
	- 用户管理: 多选用户,可以批量操作;(批量设置空间,设置权限组; 添加到部门,迁移到部门,从当前部门移除) 右键和批量操作功能统一;
	- 用户管理: 支持迁移到部门;(批量支持)
	- 用户管理: 修改用户信息时,不支持修改自己的权限组(为避免误操作等情况)
- 前端组件sdk
	- 文档选择(选择文件,文件夹, 单选多选)
	- 文档预览;(对话框模式预览; 嵌入页面方式预览);
	- 文件保存;
		- 文件保存(支持: string,blob,file)
		- 文件选择保存(选择文件则覆盖,也可以直接新建)
		- 文件上传;(支持: 扩展名限制,文件大小限制,多个文件上传,上传中取消上传)
		- 文件新建并写入;
- formMaker: 
	- 文件/文件夹选择默认配置优化处理;
	- 权限设置列表数据增删改查dom优化(性能提升)
	- 权限选择:部门选择支持选择所有子部门及成员;(全选,全不选)
- draw.io绘图插件
	- 基础库整理,整合到kod;(url处理,资源加载处理,嵌入导出等url处理)
	- drawio优化增强: 
		- 样式优化:载入loading,工具栏样式,菜单栏样式, 按钮样式,移动端优化,输入框样式等; 
		- 组件优化:颜色选择组件优化;
		- 菜单图标支持: 工具栏下拉菜单icon,右键菜单icon等加入图标,便于记忆和理解;
		- 界面配置: 紧凑模式,语言自动更随处理; 默认插件处理;去除外部存储导入导出,快捷键说明优化
		- 多语言优化: 部分翻译词调整, 多语言跟随kod自适应;
		- 图形渲染优化: 圆角处理,角度默认值处理(absoluteArcSize:1,arcSize:10)
		- 常用图标优化: 样式优化(花括号,花括号组...);
		- 渲染的默认值: 线条粗细:1.5,线条颜色;文本颜色,文本字体大小,文本字体样式,文本全局间距...
		- 文字字体优化: 字体初始值处理; 字体选择新增中文相关字体;
		- 图标搜索增强: 中文搜索处理; 
		- 网络图标搜索: 支持网络搜索图标(支持alifont,iconsapi接口)
		- 图标拖拽增强: 拖拽图标到编辑器,拖拽时显示具体图标样式;(svg及搜索结果拖拽支持)
	- 插件集成
		- 文件打开处理;(文件选择;url,path;分享页面只读模式);
		- 文件打开保存: 
			- drawio文件编辑;界面保存,ctrl+s保存; 打开所在文件夹
			- 打开文件: 当前文件为空时,支持打开文件
			- 新建文件: 另存为处理;(默认路径,保存后处理);
			- 打开非drawio文件: 另存为处理;(同目录)
		- 文件缩略图: 编辑时生成, 文件列表展示;
		- 文件菜单-打开文件: 从kod中选择drawio文件进行打开; 如果已经有打开文件则新窗口打开;
		- 新建文件集成: 加入新建drawio流程图; (新建文件类型快速整合sdk处理; 新建完成回调处理通知)
		- 静态资源cdn处理配置; 图标网络搜索(阿里icon,iconsapi(本地/中转))
		- 外链分享预览处理;界面及体验优化
	- 文件打开转换: vsd,vsdx; (保存时另存为);
	- processOn 格式预览支持(pos)
		- 文字处理: 大小,字体,颜色,背景色,水平对齐方式,垂直对齐,文字格式...;边距;链接处理
		- 图形绘制: 矩形,菱形,圆形,椭圆;三角形,梯形,扇形,五边形,六边形,八边形,五角星...;圆角处理;
		- 连线处理: 连线样式,粗细,起始点,终止点位置处理;起始终止箭头类型;连线自动位置处理;
		- 层级处理: 父级处理;组合时坐标处理;上下层级处理;(组合时创建父元素,相对坐标重置)
		- 样式调整: 矩形文字左对齐时默认左右边距; 各类不一致情况图形处理: internalStorage:dx,dy;...
		- 图片处理: 搜索的图片及平台图片显示处理;
		- 其他svg图标兼容;(阿里云icon;azure;图标导入工具处理)
- SVG 编辑器
	- 优化增强: 
		- 样式优化:载入loading,工具栏样式等; 
		- 多语言优化: 中文支持, 多语言跟随kod自适应;
		- 编辑区域填充色修改,没有填充则使用半透明背景图片;
	- 插件集成
		- 资源及库整理(精简字体,打包js,css; hook处理);
		- 文件打开保存(文件选择);
		- 文件菜单-打开文件: 从kod中选择文件进行打开; 如果已经有打开文件则新窗口打开;
- photopea
	- 优化增强:
		- 样式优化:载入loading,工具栏样式等;
		- 多语言优化;多语言自适应处理
		- 字体处理优化;
		- 图片搜索优化
	- 插件集成
		- 文件打开,保存(文件选择);
		- 文件菜单处理:(文件打开,文件下载,文件另存为);
		- 保存处理: 支持保存的文件直接保存,不支持保存的处理为下载,并做提示;
		- 打开类型支持: bmp,jpg,jpeg,png,gif,tiff,iff,mpo,svg,ps,psd,psb,pbm,ai,xd,sketch,xcf,raw,emf,webp,ico,dds...
		- 文件菜单-打开文件: 从kod中选择文件进行打开; 如果已经有打开文件则新窗口打开;
		- 多文件编辑保存处理;

##### bug fixed
- 文件列表: 物理路径分享,分享图标状态处理;
- 文件历史版本: 设置为当前版本异常问题处理;
- 安全问题优化: 部分xxs,插件xxs优化;
- 其他问题: 过滤svg过于严格优化; 部分服务器文件列表获取报错兼容;移动端部分手机系统界面滑动异常处理;


## 1.20 版本更新 
> **主要新增**: PC客户端文件夹下载支持;又拍云存储支持;sso单点登录api及sdk模式优化; 深色模式支持 ...  
> **发布于: 2021.05.25**


##### 功能新增及优化 
- 文件管理
	- PC客户端下载管理; (文件夹下载,直接下载并保持文件夹结构,不需要压缩后下载)
		- 文件夹下载调用处理; 批量下载调用下载处理;
		- 下载状态: 下载界面展示,进度显示; 同步管理/下载管理: 同步/下载/桌面等保留;
		- 下载操作处理: 暂停,启动,删除,进入所在位置等;
	- 又拍云存储对接支持;(跨存储之间相互复制移动支持)
	- 百度网盘存储对接支持;(插件形式提供;由于api接口限制: 上传走后端中转,下载时稍大文件走后端中转)
	- ondrive存储对接支持;(插件形式提供;上传下载无限制)
	- 外链分享:
		- 外链分享轻应用: 文件菜单--编辑/打开处理; 轻应用页面预览支持url引入页面;
		- 文件夹: 压缩包打开跳出登陆问题处理; 打开文件夹地址栏自动记住处理;  文件夹展示左侧树目录; 
		- 文件夹子文件预览页面:展示文档路径,可以点击切换跳转;
	- 文件复制剪切: 剪贴板数据页面级数据共享(去除服务器级别跨端数据共享);
	- PC客户端文件本地编辑打开, 其他人锁定了该文件; 用户保存时操作提示, 并自动生成副本;
	- 回收站文件夹复制移动后只有空文件夹问题; 文件夹子内容信息展示;
	- 内部协作分享: 可选择权限必须完全被自己当前拥有的权限涵盖.
	- 编辑保存其他人已经锁定的文件优化; 自动生成副本:文件名@用户名.扩展名;
	- 文件夹readme说明: markdown H2跳转URL处理; 
	- 文件夹列表性能优化: 当子文件夹过多时,优化字内容信息获取(超过2s后不再获取子文件夹数量等优化)
	- 切换页面: 有正在进行中的进行强制提示; 正在上传中;文本保存;  页面切换动画淡入;
	- 其他细节优化: 个人中心关闭回收站,对应树目录不再显示回收站; 文件内容搜索结果展示搜索结果数量; 
	- 空文件夹不显示页数;已删除文件外链不显示处理;鼠标中键点击文件夹打开新窗口,自动最上层;
	- 文档面板: 交流讨论粘贴图片图片alt处理; 打开预览图片自动浏览当前全部图片列表,打开顺序处理(不存时在过滤); 普通用户粘贴图片处理支持;
- 编辑器
	- 查找替换多行支持: 查找支持换行,替换内容也支持粘贴为多行内容(input换成textarea)
	- 树目录: 快捷键操作处理优化;
	- markdown增强: flowchart流程图,uml类图支持; abc五线谱; plantuml支持;
- 后台管理: 系统回收站(企业版支持该功能)
	- 用户彻底删除文件; 自动移动到系统回收站;
	- 用户删除/部门删除; 自动移动到系统回收站;
	- 回收站文档管理: 
		- 数据处理: 地址栏及文件路径处理; 删除前位置记录;
		- 文档管理: 工具栏操作,右键操作等处理;
		- 内容操作: 还原; 移交给(用户部门选择); 彻底删除;
	- 回收站设置: 开关处理; 回收站清理处理; 开关自动添加移除计划任务; 
- 体验优化
	- 深色模式支持: 浅色/深色/自动; 自动跟随系统色彩模式,系统切换时自动更新界面;
	- 深色模式: 切换优化(根据当前模式切换到相反状态); 深色模式背景图片,颜色设置支持;
	- 移动端H5,操作菜单多余两层点击异常消失问题优化; checkbox,radio样式优化; 深色模式样式优化;
	- QQ/微信等首次绑定注册流程同优化
	- 样式优化: 移动端登陆页面显示优化;移动端文件管理地址栏优化;移动端markdown嵌入文件预览自适应处理;
	- 视频播放器自适应视频尺寸;(Dplayer,jPlayer; 全屏后处理,全屏后还原尺寸处理)
	- 轻应用图片加载失败: 使用默认图标 (文件列表,文件属性)
	- 更新插件支持手动更新:下载更新包,解压覆盖到对应插件目录; 下载检测失败--失败提示优化;
	- 右键菜单自动隐藏处理: 对话框标题栏右键菜单开启后,点击最小化等按钮,右键菜单自动隐藏; 任务栏同理;
- 其他优化
	- php8部分特性兼容;(阿里oss对象存储链接; 数组处理强制类型检测: count,array_filter,array_value...)
	- 文本及代码文件扩展名完善: 加入编译器等工具产生的配置文件;
	- 服务器兼容: 服务器请求https时证书校验失败情况兼容;
	- 编辑文件未保存提示处理: 关闭标签,关闭对话框,关闭浏览器情况提示; 移动端兼容;
	- 注册流程优化: 邮箱注册,手机注册流程优化(拆分步骤,图形验证码与短信验证码/邮箱验证码文案等优化);
	- 部分服务器(Apache)入口文件自适应兼容处理;(是否省略index.php自动检测);
	- 用户登录设备最多筛选近3个月数据,最多50条;
	- 任务列表:执行完成多一行的情况处理;
	- sqlite与mysql数据为0时数字与字符串处理, formMaker自动处理;
	- 产品说明:加入kodbox的git地址;(底部信息,对话框产品信息,后台授权处版本信息);kodexplorer中升级为kodbox;
	- 搜索引擎内容支持: 站点sitemap: 最近分享列表;文件夹字内容展示;文件展示;(文本文件内容截取);
	- 开发API,单点登录增强
		- sdk模式接入: 支持和kod相同站点任意子目录接入; 校验最小粒度支持到特定入口;
		- CAS模式接入: 优化校验流程及安全性;校验最小粒度支持到特定入口;
		- 应用权限增强: 新增登陆用户, 管理员登陆; 支持指定用户,部门,角色组合设定;
		- 单点登录自动维持: kod登陆则应用自动登陆,kod退出则应用自动退出; 当前账号不支持的登陆页面提示;
		- 用户基本信息及accessToken 支持;

##### bug修复
- 收藏夹条目名称被覆盖问题;
- 安全问题优化更新;(markdown中允许html,过滤js相关内容; svg文件输出过滤;文件名title特殊字符hover);
- 文件管理对话框最小化再显示后右键菜单错位问题处理;


## 1.19 版本更新 
> **主要新增**: 文件预览组件嵌入支持;文件夹readme展示;外链分享打包下载支持...  
> **发布于: 2021.04.01**  

##### 功能新增及优化 
- 文件管理
	- 文件嵌入: 
		- 支持图片,视频,应用,pdf,office等各类文件快速生成预览组件, 方便嵌入到其他站点或博客
		- 入口: 文件右键菜单,选中文件工具栏下拉菜单,文档属性文件路径后;(匹配下载权限);
		- 文件嵌入设置:嵌入预览; 支持设置组件尺寸,快速复制组件代码;图片不指定宽度;
		- 嵌入文件预览:图片;pdf,ofd;office;cad工程文件;视频;音乐;psd/ai设计文件;文本,代码,markdown;未知文件下载;
	- 外链分享优化:
		- 支持多选文件批量下载; 文件夹打包下载;
		- 外链分享打包下载支持: 后台加入是否开启文件夹打包下载开关, 默认开启,开启后多选时包含文件夹自动压缩后下载;文件属性加入预览和下载外链;
		- 其他优化: 自己的外链分享也支持转存; 文件封面图支持; 图片缩略图处理; 服务端搜索优化,搜索支持设置筛选条件;
	- 文件夹readme说明:
		- 文件夹下包含readme.txt,readme.md,说明.md等文件时自动展示内容,按markdown进行解析;
		- 外链分享文件夹也支持该特性,可方便用于文件夹说明;
		- 收起展开记住状态;
	- 文件锁定逻辑优化: 已经锁定文件不允许再其他人锁定; 自己锁定的图标区分;加锁后文件不能编辑; 加锁的文件其他人不允许回滚版本;
	- PC客户端编辑文件: 打开后文件后其他人锁定,保存文件时优化处理; 文件打开时忽略当前缓存(避免文件已修改但打开的还是老的版本)
	- webdav插件: 粘贴文件为0字节问题兼容;登陆日志; 复制移动兼容处理; 支持移动到收藏的各类IO路径
	- Dplayer播放器插件: flv播放处理,支持magnet扩展名文件内容为磁力链接url的磁力链接直接播放;
	- 其他优化:桌面文件夹及个人文件夹不允许删除移动; 文件夹字内容接口文档不存在时统一优化;文件外链权限,拥有下载和编辑权限才展示
- 个人中心
	- 用户头像上传,支持裁剪头像;
	- 其他优化:壁纸设置支持自定义使用外链图片; 开启关闭动画逻辑影响点调整; 文件树目录-所在部门没有数据时不显示; 登陆设备内容优化;
- 后台管理
	- 对象存支持设置前端或后端上传下载开关;(直传|服务器中转)
	- 存储管理:存储添加提示优化; 存储删除安全性优化;
	- 后台管理:自定义邮件设置支持加密方式设置;
	- 其他优化:备份优化;编辑部门前后端调整;缓存切换异常的情况兼容;收藏夹不存在时颜色区分;收藏夹H5列表内容优化;对象存储Minio空文件夹情况兼容;对象存储移除情况处理;打开文件夹多次打开异常情况优化;
- 体验优化
	- 对话框任务栏: 对话框最小化到任务栏,任务栏标签自适应处理; 桌面支持(文件管理,编辑器),打开隐藏动画;
	- 移动端拖拽手势优化: 根据手势方向优先响应滚动条, 捕获到相应元素后屏蔽其他相应区域; (编辑器手势开启关闭树目录)
	- 前进后退: 忽略对话框打开关闭引起的地址栏变化; (对话框关闭避免重复调用关闭)
	- 手机端多选框选: 手势超出屏幕自动滚动,框选处理为整行选择;组件标题处理; 
	- 载入页面loading及操作loading避免卡顿处理; 右键菜单二级菜单偶尔错位问题优化
	- 鼠标停留元素title展示: 当该元素为菜单焦点或页面焦点时不展示title信息;
	- 拖拽上传桌面拖拽区域优先级低于文件打开窗口; 
	- 样式优化: 删除回滚等确认对话框移动端优化;H5登陆页面横屏模式显示优化;文档动态-删除内容显示优化; 通用文件文件夹选择组件标题处理;Android端H5编辑器打开文件时键盘弹出挡住内容问题优化;登陆日志/操作日志设备类型图标优化;loading图片清晰度优化; 搜索文档类型选择自动对齐;音乐播放器列表删除按钮位置,H5下去除最小化和最大化按钮;
	- windows触屏设备界面适配问题处理;窗口变小时文件hover;文件打开方式应用九宫格左右居中;滑动动作快速滑动灵敏度提升; H5文档日志收起展开样式优化;
	- 文档动态: 多个删除文件样式统一,同时操作动作归类; 新建文件与上传文件区分; 文件夹下多个文件编辑事件显示数据优化整理,显示编辑的文件名; 版本回滚文档动态显示为历史版本切换;
	- 移动端H5: 右滑动打开文件树目录从边缘滑动不响应;文档动态,点击文件或文件夹进入目录提示;全屏幕左滑右滑手势阻止冒泡(禁用系统手势); photoswip图片播放,当图片高宽都没有占满屏幕时左右滑动引起关闭的问题;(gif小图片);文件管理右侧边缘左滑文件树目录菜单显示问题处理; 后台管理,有tab时向右滑动手势打开主菜单处理;移动端框选选中整行只应用在H5上;
- 其他优化
	- QQ,微信,钉钉,webdav等登陆: 后台登陆日志处理,用户记录处理;
	- 细节完善: api访问用户登录退出情况code统一;
	- 插件说明展示: 插件文件夹下包含readme.md则自动在插件详情页展示(可用于版本更新)
	- 批量上传图片时偶尔数据库信息写入冲突问题优化;
	- php8兼容处理;
	- iframe中url不支持cookie读写(不能维持登陆问题);SameSite 处理;
	- 细节优化: 自动清除临时附件; 部分后端环境新建文件加锁文件名过长情况兼容; markdown粘贴图片图片上传位置统一归类到images下;打开方式不同设备端保存覆盖问题优化,本地保存数据和服务端数据进行合并处理;

##### bug修复
- 物理路径文件删除到回收站:选中还原卡顿问题处理; 回收站内容过多时清空报错处理;(数据库字段超出提示;option/meta)
- 部门文档权限: 某文件夹设置了其他人不可见; 下层文件夹指定用户可见---穿透通路; 不可见文件夹下内容可以看到的问题;
- 部门文档权限: 给用户分配上级部门A为查看者,下级部门B为不可见,在部门B中放的文件实际可见的问题;
- PC客户端: 设置默认打开方式; 退出客户端重新打开后没有记住配置问题处理(压缩包处理); 本地打开进度优化
- 其他优化:OSS对象存储上传兼容优化调整;tar.gz解压异常优化;对象存储重命名文件层级异常情况优化;打包下载打包后没有自动开始下载问题处理; 搜索本地文件夹时文件名不显示问题处理;formMaker初始值设置载入组件异步复制处理
- 移动端H5浏览器兼容优化: 文档讨论,移动端点击发送触发两次的问题; 文档讨论,点击按钮触发右键菜单处理;

## 1.18 版本更新 
> **主要新增**: 对象存储性能优化,编辑器支持超大文件,编辑器hex模式支持等;  
> **发布于: 2021.03.08**  

##### 功能新增及优化 
- 文件管理
	- 对象存储(oss,s3..)请求性能优化; 跨空间复制粘贴文件夹性能优化;
	- FTP链接和挂载优化: 中文编码支持优化(gbk/utf8自适应, windows/linux的ftp服务器端自适应编码处理);
	- 文档动态:子文件很多情况优化速度;
	- 文档动态:文件编辑更新日志记录展示编辑来源; (webdav编辑,pc客户端编辑,粘贴覆盖,上传覆盖); 粘贴覆盖时简化文件事件;
	- 收藏夹字内容列表重命名处理: 之重命名收藏内容别名,不修改原始所在内容名称;
	- 图片exif信息处理优化;
	- 多选压缩兼容处理: 各类存储(kod,协作分享,ftp,物理路径,io及各类对象存储)兼容优化; 移动端多选H5,支持压缩;
	- 解压优化: 压缩包预览界面,右键文件解压到支持; 字内容解压优化; 物理路径内部协作分享压缩包解压处理;
- 编辑器: 
	- 打开超大文件支持,轻松打开几百兆的日志文件等场景;(分页处理,URL文件分页处理支持,分页自动记录)
	- markdown插入图片相对路径地址优化,支持含有中文等情况的路径;
	- markdown: 支持直接粘贴图片(来自本地复制的图片或截图的图片, 自动上传到同目录并引用);
	- hex 16进制预览模式
		- 内容显示: 选中16进制或者文本自动框选高亮对应位置;多光标支持;跨行选择处理;(移动端兼容)
		- 选中内容信息: 字符,所在位置,char,二进制;
		- 工具栏切换:切换16进制模式(切换后不支持编辑等配置处理,还原后配置还原); 
		- 二进制文件自动hex模式: 自动处理含有'\0'自动进入16进制预览模式;
		- webdav挂载登陆失败问题处理;挂载后用户桌面文件夹删除检测;
- 其他优化
	- 用户空间占用更新优化; 编辑器文件标签右键打开所在位置处理; 
	- 解压缩,部分php版本服务器报错兼容处理;
	- 文件列表-图标模式: 大小自适应铺满; 
	- 通用上传,文件保存接口优化支持(附件,第三方编辑,blob上传)

##### bug修复
- webdav: 与我协作的文件夹内容异常问题处理;
- 上传组件冲突问题: 打开多个文件管理,在不同文件夹右键上传自适应上传到该出;
- 打开图片,偶尔情况图片不是当前打开的文件问题处理;

## 1.17 版本更新 
> **主要新增**: 文件内部属性获取性能优化,pwa安装支持  
> **发布于: 2021.02.22**  

##### 功能新增及优化 
- 文件管理
	- 文件内部属性获取性能优化
	- 编辑保存文件,空内容保存允许情况兼容
	- 对象存储属性获取性能优化(size,exist,info,isFolder,isFile 缓存处理); 处理(七牛,阿里oss,s3,s3Like,....)
	- webdav挂载登陆失败问题处理;挂载后用户桌面文件夹删除检测;
- 其他优化
	- pwa安装兼容到最新版chrome(配置方式变化);
	- 任务管理: 终止任务信息自动清除, 任务列表做多30个; 任务数据按用户查询区分;(UserOption)
	- 计划任务自动启动,意外停止情况重新触发启动.
	- 兼容优化: 部分服务器绑定对象存储上传完成后大小获取失败情况兼容; 日志写入失败情况忽略;sso联合登陆兼容私有https证书;操作日志,登陆日志筛选今日处理(查询用户处理); empty检测调用时不支持处理;
	- 细节优化: 文件属文件名过长时显示优化处理; 外链分享,内部协作分享底部空间加大,部门选择按钮;h5树目录文件夹右键菜单,去除粘贴; 视频显示时长位置大小优化; 文档属性,含有图片标题的,置顶和收藏按钮;更新文案优化;文档高级属性,中文乱码问题处理;移动端h5重命名样式位置优化;对话框大小调节四个方向角处理; 分享文件夹H5去除文件树目录滑动;没有扩展名的文件图标展示优化; 移动端手势滚动元素拦截;收藏项右键菜单:分享文件夹右键菜单增加更多文件夹文件本身功能;树目录右键菜单去除粘贴; Dplayer视频播放器插件设置界面处理; formMaker的slider滑块样式优化;外链分享视频文件分享页面播放器样式优化;oss对象存储md5信息处理;

##### bug修复
- 移动文件夹时,子内容有在回收站的,该文件夹移动后删除状态保持;(回收站移出则改变删除状态)
- 外链分享文件夹需要登录的情况处理


## 1.16 版本更新 
> **主要新增**: 文件夹复制移动安全性能优化,操作中的读写独占锁与共享锁; 后台增加概览,支持数据库迁移; 其他细节优化 ...   
> **发布于: 2021.02.08**  

##### 功能新增及优化 
- 文件管理
	- 地址栏: 支持展开子文件夹; 展开后hover到地址栏其他路径自动切换展开; 点击进入所在文件夹; 展开内容支持快捷键
	- 复制移动等操作加锁处理:对子内容上层内容复制移动删除操作锁定处理,避免数据错误(读写独占锁与共享锁)
	- 操作进度处理优化: 多选复制/粘贴/解压缩/重命名/删除等操作进度反馈优化;跨存储进操作支持;(kod存储,对象存储等各类存储支持)
	- 离线下载秒传: 秒传下载处理支持(支持下载到各类存储); 匹配simpleHash,kod存储中已存在则秒下载完成.
	- 部门根目录: 分页获取数据显示优化,子部门不算做子文件夹内容;
	- 文件高级属性:
		- 图片:尺寸,分辨率,创作者,拍摄信息等,含有gps的可以直接查看地图(jpg,jpeg,png,gif,bmp,tiff,tif,psd,pcd,svg,efax,webp...)
		- 音频:播放时长,创作者,创作时间,专辑,标题,声道,采样速率等; 音乐封面支持,缓存加速处理;(mp3,wma,wav,ogg,amr,aac,midi...)
		- 视频:播放时长,尺寸,编解码器,音频信息,创作者,制作软件等;(mp4,flv,f4v,wmv,mov,avi,rmvb,mkv,rm,webm,m4v...)
		- pdf文档:页数,页面尺寸,作者,标题,创作者,制作软件等
		- 生成及缓存:支持所有存储类型,动态生成并缓存;(通用IO读写流)
		- 属性展示: 右侧文件信息面板,及文件属性中展示; 内容过多时可以收起与展开; 自动记录收起展开配置
	- 批量重命名: 查找替换支持替换扩展名;(查找替换,替换扩展名开关)
	- 图片预览: 图片缩略图尺寸锁定; 尺寸小于500KB不生成缩略图;图片输出,缩略图输出文件名跟随处理
	- 分享处理: 外链分享取消分享后再次分享外链重新生成; 对应的,只是修改外链分享开关,再次分享后外链地址不变; 两种场景同时支持兼容;
	- 对象存储支持上传下载限速设置;
	- 文档附件: 附件内容不存在,或没有权限访问时处理;(忽略该项,其他有权限内容数据保持)
	- 其他细节点: 文件列表文件0B显示; 用户/部门空间占用计算优化;分享给我的不做隐藏校验处理;对象存储的文件夹收藏文件夹图标自适应优化;
	- 更多细节点: 搜索时必须有两个以上参数,esc退出搜索;与我协作的内容,隐藏/取消隐藏权限处理
	- 快捷键增加: 文件管理alt+up 进入上层文件夹; 窗口:alt+f4关闭当前焦点窗口;
	- 编辑器:树目录支持新建文件文件夹; 批量保存处理; 搜索文件内容为空处理; 深色模式配合全局处理;新建时同名文件自动重命名;
- 体验优化
	- 框选时超出屏幕滚动条自动滚动处理优化; 拖拽到不同位置,实时更新状态性能优化;
	- 快捷键焦点处理: 右键菜单点击后自动恢复到之前焦点; 文件管理快捷键操作效率及完整性优化 (删除文件后,自动使下一个文件设置为焦点)	
	- 耗时操作进度处理: 回收站文件删除,清空回收站loading及进度处理;加入分享操作前后loading处理;
	- 编辑器tab右键进入所在位置,文件管理为对话框则自动最上层, 对话框关闭时自动新建文件管理并选中所在文件;
	- 对话框: 去除标题栏最大化按钮;视频播放,音乐播放优化;  最大化,最小化,关闭按钮显示优化;在最小化和最大化下图标自适应;
	- 部门没有子文件和文件夹但有子部门,树目录展开按钮显示 
	- 样式优化: 文件属性,外链分享,协作分享等对话框居中;聊天气泡及图片圆角; 文档动态内容过长时左右滚动条加入;删除文件时文件名过长删除确认框显示优化;通用提示组件动画优化样式调整; 文件列表模式标题切换宽度优化;不支持文件打开提示进入插件搜索;页面刷新上传对话框闪现问题优化;打开后自动使用户名输入框置为焦点状态;文件树目录展开收起点击事件优化;编辑器数目去除双击;插件卡片宽度调整;
- 移动端H5优化
	- 手势框选多选支持: 多选模式,手势起始位置在勾选区域时可以进行滑动批量框选;手势目标位移跟手处理;
	- 左侧边面板操作手势优化: 文件树目录,后台菜单左滑关闭菜单滑动处理: 响应区域都支持全屏,含滚动条时自适应手势区域处理;
	- 确认对话框优化: 样式显示优化; 确认按钮文字统一优化;(删除类型统一红色处理);上下左右居中;
	- 文件预览:epub移动端预览右侧文字显示不全问题,左右滑动翻页;mht文件移动到预览优化;
	- 文件管理页面长按地址栏进入输入状态
	- 搜索框自适应显示: 搜索框根据页面滚动自适应显示和隐藏; 
	- h5标题栏调整; 面包屑加大; 移动端文件夹菜单去除搜索选项;
	- iOS 浏览器选择相册文件上传: 上传文件内容为0情况处理(夸克浏览器本身问题)
	- 样式优化:文件属性,操作日志时间优化;插件搜索框加大;部门文件夹显示权限类别;后台table滚动条,授权界面,右键菜单,登陆管控table;移动端hover处理,确认对话框; 列表模式: oss等没有修改时间等信息文件名垂直居中;
- 后台功能新增及优化
	- 服务器管理新增服务器信息: 展示服务器cpu,内存,数据库情况; 运行环境相关情况.
	- 数据库迁移切换支持:
		- 服务器信息:加入数据库切换,展示当前数据库情况及使用量情况; 迁移或切换处理,先检测后迁移
		- 迁移支持: mysql,mysql-pdo,sqlite 支持相互切换或迁移;
	- 后台管理-概览: 访问信息, 用户数据/空间使用;图表有时候为空白情况处理;
	- 用户部门选择组件: 只选择用户,部门没有子部门时可以展开;(操作日志:选择目标用户时没有管理员)
	- 其他优化: 任务管理支持结束所有任务;注册后初始化文件夹轻应用不记录操作日志;生成临时文件不记录日志;
	- 各类列表查询优化: table切换查询条件就,当前页数重置为第1页(用户列表,登陆日志,操作日志,分享管理等)
	- 操作日志增强:
		- 筛选:自定义时间支持小时分钟选择;
		- 查看详情: 点击登录地址展示详细信息,ip,地址,UA等信息; 支持查看该用户当前全部操作记录;
		- 文件操作日志文档删除后显示优化: 文档不存在时显示信息优化处理(提前记录);
- 其他优化增强
	- 个人中心: 用量分析,日志操作记录,登陆设备,登陆记录处理(权限处理)
	- webdav: 处理分页,搜索目录访问每页条数1000; 程序更新包不再内置
	- webdav在收藏夹下的目录: 新建文件夹,粘贴文件失败处理; 兼容收藏kod存储,各类IO存储,物理存储的文件夹操作;
	- url显示优化, 自适应去除入口文件后缀
	- 部分服务器报错信息优化: 数据库,redis缓存链异常报错提示优化,追加详情;
	- 数据库插入/更新,长度超出检测提示处理(meta:user,group,source,file;  option:userOption,systemOption...)
	- formMaker的segment显示控制: 支持关联子segment嵌套控制控制;
	- 视频缩略图优化: 对象存储等非本地文档处理优化; 缩略图去除时长展示;
	- IO对象存储文件/文件夹属性获取后,内存缓存/持续缓存策略优化
	- 各类限制配置开关支持: 上传文件大小,分享文件夹文件转存数量限制,解压压缩包大小限制,分享文件大小上限限制...
- 安全性调整;
	- 外链分享文件/文件夹: pdf预览禁用下载对应处理不允许下载和打印;
	- 用户权限处理优化: 控制器对应权限重复时,优先以禁用为准
	- 权限处理: 获取权限列表,角色列表等全局开启的动作,优先级最高,允许访问;
	- 文件列表/文件属性: 文件没有下载权限隐藏md5等相关敏感数据;(秒传md5)
	- 文档权限处理优化: 一个控制器存在于多个权限点时,所有都失败了才算失败;一个成功就算成功;(处理上传者不能新建空文件夹问题);
	- 登陆管控: ip黑名单支持(优先判断), 支持恶意用户屏蔽;
	- 接口调用频次限制: 防恶意请求拦截;(默认关闭,配置文件中开启)
	
##### bug修复
- 文件历史记录: 删除历史记录,再次打开历史记录后右键操作时报错处理;
- 粘贴,重命名,删除等提示操作失败,实际上成功的问题优化;(长任务,连接关闭的情况)
- 与我协作:地址栏最后一项路径点击错误处理;
- PC客户端: 调用本地打开没反应问题处理;(从桌面切换到编辑器再切换到桌面,文件右键本地打开会没反应); 快捷方式打开支持(打开原文件);
- 后台设置登陆后进入[桌面/文件管理 ] 不生效问题处理;
- 后台管理:是否允许注册开启不生效问题处理; 设置菜单-将网站设置为[内嵌页面],打开菜单,出现页面不存在情况处理优化;
- 多选音乐文件加入加入播放列表,播放器不显示问题处理;


## 1.15 版本更新 
> **主要新增**: 移动端H5增加各类手势操作;分享与协作整理优化...   
> **发布于: 2020.12.30**  

##### 功能新增及优化 
- 文件管理
	- 文件夹显示子内容个数;(支持: kod存储,物理路径存储)
	- 文档属性与信息面板统一; 文件属性拥有更全的功能及信息,包括权限设置,历史记录,操作日志,扩展数据等
	- 文档属性: 数据请求优化; md5获取优化; 本地文件加入最近访问时间;快捷操作: 标签管理/设置描述/收藏/置顶处理;
	- 搜索增强: 加入双引号则全词匹配支持,内部不进行空格切分;
	- 批量上传文件夹: 空文件夹新建进度展示,避免过多时界面没有变化;
- 分享与协作优化:
	- 与我协作: 入口优先级提高; 支持选中隐藏,批量隐藏; (对不重要的内容进行整理); 
	- 外链分享与内部协作分享拆分; 文件-外链分享默认开启外链分享; 分享时间显示优化
	- 内部协作分享: 仅文件夹支持内部协作分享;分享物理路径支持上传等处理; 复制内部协作url链接;
	- 自定义分享对象组合;(最近使用)
		- 最近使用:最近分享/权限设置出的用户及部门,按次数排序,总共10个部门在前用户在后;
		- groupAuth 操作菜单(hover): 清空.复制该组合.粘贴组合.保存到常用  (自适应显示)
		- 设置分享对象时: 增加选择,自定义组合优先展示,与企业网盘为同一等级;
		- 保存组合到常用; 点击则自动导入存储的用户及权限组合;hover菜单:编辑/删除;
- 体验优化,移动端H5优化
	- 移动端地址栏搜索栏样式优化, 搜索更方便;
	- 文件列表分页信息优化,少于一页且少于20条不显示分页信息;
	- 文件多选时: 不允许左滑拖拽; 多选底部菜单宽度自适应,显示图标;  
	- 登陆界面优化,输入框,按钮等加大,便于操作;
	- 后台页面优化: 菜单栏样式优化, 界面载入动画处理;
	- 样式优化:树目录行高,属性面板, 对话框标题栏;上传对话框,上传-批量下载,批量重命名,图片打印,批量设置权限...
	- 右键操作菜单优化:快捷键提示提示显示优化;菜单点击hover效果处理,两次点击进入二级菜单优化;(菜单九宫格样式)
	- 手势操作增强:(处理事件冒泡,重叠情况)
		- 操作菜单(文件操作,多选操作等): 下滑手势关闭;
		- 所有模态对话框: 下拉手势关闭对话框;
		- tab菜单手势滑动切换,包含滚动条时自动过滤;	
		- 侧边栏手势支持: 文件管理树目录,后台菜单侧边栏,个人中心侧边栏;在页面右滑可打开侧边栏,左滑关闭;
		- 手势处理: 点击元素允许input,但当前焦点为input时忽略, 点击input切换tab后焦点input的blur处理; 移动端有文字选中则不开始拖拽;
- 其他优化增强
	- php8兼容 
	- 插件中心搜索插件实时处理结果;
	- 多语言移动到个人设置;
	- 文件历史版本合并到属性面板;去除之前单独界面;
	- 拖拽排序组件: 拖拽表格顺序时自动保持单元格宽度; 收藏绑定时没有数据,后续添加数据后无法拖拽问题处理;
	- 文件列表接口: 文件文件夹图标自定义;有则优先使用设定的图标; 
	- formMaker嵌套子表单支持
		- 嵌套子表单: 支持children处理; 多层级复杂组合; 表单项为多个子项的组合值;
		- 子表单数据管理: 添加,修改,删除(删除确认); 拖拽调整顺序;
		- 子表单添加编辑类型:对话框打开添加和编辑; 行内添加和编辑;(为空检测,错误处理)
- 安全性调整;
	- 文件禁用下载权限时, pdf预览界面禁用下载及打印; ofd文件同理;
	- 用户个人中心: 安全管理: 增加历史登陆过的设备及位置(根据ip)
	- 多端登录安全管控: 规则操作,拖拽调整顺序; 规则逻辑处理;
	
##### bug修复 
- 无扩展名文件上传拦截异常处理;
- 单文件文件夹右键设置标签;
- pc客户端: 本地打开,本地编辑;打开方式加入到可选内容中;
- webdav 获取文件列表,数据只能获取3000条情况处理;(webdav 请求数据,获取全量不分页)


## 1.14 版本更新 
> **主要新增**: 搜索增强;物理及挂载存储支持外链分享及内部协作; 物理及挂载存储支持删除回收站等...   
> **发布于: 2020.11.27**  

##### 功能新增及优化
- 文件管理
	- 外链分享:	
		- 支持转存到我的网盘;未登录提示登录/注册;(数量限制处理,空间大小检测)
		- 分享页面优化: 用户栏区分已登录未登录; 自己的分享去除转存;  文件夹分享(单选/多选)右键转存字内容;
		- 分享页面优化增强;分享者信息展示(用户名,头像等)
		- 举报投诉支持, 后端分享举报管理
	- 物理及挂载存储:支持回收站; (物理路径,io路径-ftp/oss/s3/...);(是否移动到回收站跟随当前开关)
		- IO除了DB的文档删除;都统一移动到存储根目录的.recycle;
		- 回收站列表: 追加物理删除的内容;(原文件不存在则自动清空数据条目)
		- 支持还原: 还原删除内容到之前所在位置; 彻底删除处理;
	- 物理及挂载存储: 支持外链分享,内部协作分享(或其他IO存储,仅系统管理员可用)
		- 分享设置: 文件(夹)外链分享,内部协作分享;取消分享;
		- 我的分享,分享给我的: 列表数据;列表分享icon标记;io路径隐藏及处理;
		- 内部协作分享: 列表数据;io路径隐藏及处理;属性面板支持评论;
		- 操作处理: 重命名,删除,拖拽,移动,剪切,获取文件内容,编辑保存;删除自动处理到回收站
		- 搜索支持: 内部协作分享;外链分享;
		- 外链分享:  列表数据; 权限处理,io路径隐藏及处理;允许上传支持;权限控制处理;安全性处理;
	- 搜索优化:
		- 自动搜索内容: 切换目录点击搜索自动搜索当前目录内容; 
		- 搜索结果再次搜索高亮搜索词保持; 针对搜索结果搜索:更换搜索词; 文件名编码转义处理优化; 
		- 不支持搜索的路径前端处理: 本地搜索,只搜索当前目录; 搜索物理路径时父目录为个人根目录;
		- 搜索支持多词合并搜索;(空格分隔); 对结果进行分词高亮;
		- 批量搜索: 多行内容批量搜索,合并搜索结果;(-服务端忽略排序标记 disableSort)
		- 本地文件夹搜索(对象存储,ftp等都支持): 搜索词,类型,修改时间,大小限定,多词合并搜索支持;表单自适应显示;
	- 文件内容搜索
		- 所有类型文件夹: 支持文本文件支持内容搜索;文件类型筛选; 相关数值约束组合条件支持
		- 文本搜索多行结果按行展示; 点击行打开文本编辑器并自动定位到对应位置; (超出10条内容默认收起);强制列表模式
		- 收藏夹收藏搜索结果,搜索了内容时: 搜索词高亮,搜索结果点击打开文本编辑器并自动定位到对应位置
		- 配置开关处理;搜索移动端兼容优化;多语言处理;搜索文件内容,单一结果处理及展示;(最多两行);
	- 属性面板:
		- 内部协作分享,外链分享状态展示,点击进入分享;
		- 快捷方式轻应用展示详情; 文件路径快捷复制
	- 操作及功能
		- 解压rar优化兼容: 解压缩兼容原生alpine系统; mac解压rar兼容到64位
		- 压缩包预览fileView; 解压到处理(目录权限不检测)
		- 下载限速准确性处理;
		- 标签:树目录拖拽调整顺序,文件列表拖拽调整顺序;
		- 收藏夹:树目录拖拽调整顺序,文件列表拖拽调整顺序;(标签在收藏夹中不再支持拖拽调整顺序);
		- 列表性能优化: 目录切换后前一次请求未完成请求自动取消; 回调保持处理;
		- io路径:图标显示优化; io根目录显示存储相关信息; 对象存储文件夹列表,子文件夹默认认为有子内容;
		- 轻应用: 内容优化;https/http对话框打开自适应; 文件列表oexe内容解析错误问题处理;
		- 重命名文件:只修改大小写支持; 重命名避免多次blur引发多次请求处理;(网络请求慢或重命名对象存储时)
		- 系统相关限制: 收藏夹添加数量;标签创建数量;标签中内容最大数;文件名最大长度;文件描述最大;文件版本说明最大长度;
		- 功能限定处理:历史版本个数,大文件上传限制处理(前后端),单次批量上传文件个数上限
		- 拖拽移动/复制性能优化; 两次点击自动重命名优化;
		- 图片文件历史记录回滚:列表缩略图实时更新处理;
		- 文件管理树目录快速隐藏和开启;
		- 虚拟目录中(最近文档,文件类型,标签结果,搜索结果): 多选文件下载权限判断处理;
		- 拖拽移动或复制操作: 拖拽动作界面性能优化;
- 壁纸设置:
	- 管理员: 管理登陆壁纸(增删改); 管理桌面壁纸库(增删改)
	- 个人壁纸设置: 添加随机壁纸;
- 显示优化及移动端H5优化
	- 整体字体大小调整; 列表模式行高加大处理;
	- 诸多显示样式优化:文件管理列表,分享,后台管理,form通用表单组件,插件列表,插件设置等等...
	- 菜单栏显示个数:根据剩余空间自动控制个数;移动端同理;
	- 移动端打开全屏对话框,更新URL; 后退时关闭对话框
	- 快捷键点击打开右键菜单; 已打开则关闭菜单;
	- 文件树目录右键,不重置节点滚动条位置;
	- 移动端:文件夹分享,文件菜单新页面打开兼容支持;搜索文件内容样式处理; 多选文件点击更多不取消选中状态;
	- 编辑器菜单:下拉菜单展开情况下,鼠标移动到其他菜单按钮则自动展开该菜单;
- 其他优化增强
	- php8兼容;
	- cli 模式执行支持;
	- 获取ioFile内容加入缓存机制;(内存缓存)
	- menubar复用:复用处理;kodApp处理;文件管理->后台->文件管理;快速多次切换释放问题处理;
	- formMaker 没有复杂组件情况下初始化完成setValueReset处理;设置值;触发onchange,触发switchItem调用;
	- tree: 展开并选中节点  滚动到可视区
	- 部门搜索: 结果支持展开,展开后滚动到可视区; 允许搜索用户;
	- 禁用注册后端接口处理;
	- adminer 访问获取处理;含有端口处理,允许iframe,H5兼容 
	- 调试日志加入网络请求记录;
	- 二维码生成: 服务器不支持图片处理情况兼容外部api调用;
- 安全性调整;
	- 轻应用: 创建/上传; 禁用非管理员js代码的应用; 网页sandbox;
	- HTML输出,轻应用JS  权限指定开启; 文本编辑器数学公式模式去除js执行支持;
	- 权限优化:拖拽剪切权限逻辑处理优化

##### bug修复
- 标签管理:修改标签异常问题处理;
- 内部协作分享,内容被分页查询过滤为空的问题处理;(删除文档,删除对应分享及内部协作分享)
- 右键压缩包-点击解压打开对话框并关闭后; 双击压缩包预览内容异常问题处理;
- 文件面板: 切换到聊天界面打开表情输入切换标签类型后, 切换所在文件面板数据没更新的问题处理;
- PC客户端点击上传文件夹: 兼容问题暂不支持;功能屏蔽;
- 其他:部门批量设置空间大小异常,设置用户所在部门再次打开没有变化问题;
- 上传文件夹,名称包含空格时部分服务器上传失败情况兼容;


## 1.13 版本更新 
> **主要新增**: 分享管理,用户用量分析,文件编辑锁,文档评论支持图片,安全优化;  
> **发布于: 2020.10.10**    

##### 功能新增及优化
- 文件管理
	- 支持多选批量设置权限;(无权限自动过滤)
	- 文件跨io复制剪切: 进度细节显示优化;
	- 文档动态部分老数据混合情况解析处理;
	- 多选,有音乐文件: 添加到播放列表;
	- 批量重命名:可以拖拽文件文件夹到重命名程序界面;
	- 变更后通知范围优化; 文件变更(重命名,添加标签,收藏,置顶,分享等);通知所在目录, 通知父目录;	
	- 物理路径对象存储等路径,新建/重命名文件夹;自动选中优化;
	- 拖拽优化: 可以拖拽到部门根文件夹; 最近文档,搜索结果,标签内容,文件类型等(支持拖拽移动位置, 批量重命名,批量打印等);
	- 收藏内容: 右键可以进入所在位置;
	- 打开图片优化: 图片列表统一处理; 文件列表,树目录;压缩包内图片打开支持多张图片切换;
	- 压缩文件打开处理; 文件管理-树目录相互切换后,压缩包打开组件自动重新关联;
	- 置顶操作: 权限处理;非source目录不支持置顶操作; 文档面板加入置顶状态,切换状态后自动更新;
	- 编辑器工具: 多行去重,多行排序;
	- 文件编辑锁支持:(锁定后其他其他用户不允许编辑保存,上传新版本等操作)
		- 右键菜单: 手动加锁/解锁(自动切换; 加锁者才能解锁)
		- 内容展示: 文件上图标icon; 属性面板(有编辑权限: 显示加锁状态; 自己加锁---只能自己解锁);
		- 接口处理: 编辑保存/上传覆盖;(报错处理);
	- 属性面板: 
		- 选择文件为图片或有缩略图,则优化显示缩略图;
		- 面板文档标题栏: 收藏/取消收藏; 收藏名变化对应处理;		
		- 分享信息展示; 内部协作对象显示;(内部协作,外链分享); 分享路径不显示;
		- 文档评论增强: 支持添加图片,图片打开预览,支持剪贴板图片粘贴自动上传; (内容允许html,并仅限image,自动过滤处理)
		- 评论发送: ctrl+enter/enter 发送消息切换支持; 切换全局传递状态;服务端自动记录配置;
		- 状态更新: 收藏/取消收藏, 修改标签, 指定取消置顶; 信息自动更新并全局通知;
		- 文档动态: 用户不存在,系统用户用户信息优化;
	- 通用附件存储
		- 通用上传;(扩展名白名单,文件名按日期存储);
		- 临时存储池: 所有上层都自动存储到临时附件区域; 定期清理创建时间超过24h的临时文件;
		- 存储关联对象(文章,聊天,日志等): 文章或内容发布后根据id关联文档,文档转存到附件区; 
		- 根据对象清理附件: 文章删除,则删除对应关联的附件资源;
		- 通用前端上传,编辑保存接口 fileToBlob fileSave;
		- 通知公告支持粘贴图片,上传图片;聊天支持粘贴图片,上传图片;
- 个人中心-用量分析
	- 存储使用量分析: 各类文件使用量分析; 
	- 日志动态;
- 后台管理增强优化
	- 后台-操作日志: 客户端设备类型解析优化; 
	- 后台分享管理
		- 所有人分享列表; 用户,时间,分享内容,分享类型;外链--外链连接; 操作:取消分享;
		- 查询筛选: 全部/外链分享/内部协作分享; 分享者:选择用户; 按时间进行查询;
	- 用量分析-后台:
		- 存储使用量分析: 各类文件使用量分析;
		- 点击用户or部门: 展示对象使用量分析;
		- 用户登陆/占用空间 数据计算处理;(按天统计前一天数据)
- 安全优化
	- CSRF攻击防护完善: 逻辑优化,长期有效;只允许POST的接口检测强化;(下载,预览接口不检测)
	- 移动端APP,pc客户端;忽略CSRF检测;
	- 异常报错情况, 替换隐藏掉程序路径前缀;
	- html提交内容过滤;
	- 禁用参数传入数组的方式;
- 移动端H5优化
	- 移动端列表模式, 左滑手势快速打开菜单;(左滑拖动时屏蔽上下滑动)
	- 文件夹打开,前进后退自动打开对应文件夹
- 其他优化
	- 对话框操作关闭后,恢复之前dom元素焦点;(删除文件,点击关闭或确定后, 焦点定位在文件区,以便继续快捷键操作)
	- 图片批量打印优化: 打印设置新增:不设置--使用打印机设置; 清空搜索结果快捷键:
	- 历史版本:文件列表左键点击触发右键菜单按钮处理;
	- alifont 样式/js/font加载缓存处理;
	- 图标更新;全套替换,界面适配;
		- 图标整理,查询页面;(查询整理优化)
		- 适配调整;右键菜单/文件管理,面板/后台/轻应用/编辑器/html编辑器/播放器/客户端同步/插件;
		- 图标选择组件处理;部分兼容处理;
	- 样式优化-
		- 后台:用户管理搜索框,操作日志过长换行处理,分享管理菜单栏切换自适应,登陆日志设备icon,
		- H5: 搜索面板,右键菜单(图标,勾选,标签设置)图标对齐高宽大小细节优化;
		- 文件管理: 桌面菜单栏/多选图标icon;搜索文件类型图标优化;torrent种子文件图标加入
		- 文本编辑器黑色主题下,关闭按钮不可见问题处理;
		- 外链分享,二维码按钮错位;(chrome/h5/firefox/safari) safari右键菜单;外链分享icon颜色异常问题处理;
		- 个人中心: email/手机/密码等修改提示文字错位处理, 点击后图标标题位置变化处理为不变;
- 系统优化
	- 复制移动等长任务提前创建任务
	- 删除文件,文件历史版本;引用计数处理;
	- 后台用户部门列表数据加载异常情况处理;(操作日志,登陆日志)
	- sqlite 并发锁优化: 
	- 文件清理, 数据处理安全优化;
	- 超时时间优化; 超时配置文档说明;
	- ModelBase数据库缓存清除异常问题优化;
	- formMaker表单生成器组件优化;标签tab支持空格自适应; 对话框渲染,父对象释放后对话框自动关闭;
- webdav: 兼容window下wps编辑office文件,修改保存临时文件替换兼容历史记录保存;
- 后端共享登陆SSO单点登陆
	- 支持插件配置权限目标组合类型; 指定用户/指定部门/指定权限组; 任意组合;
	- 共享代码模式;接口调用模式;
	- adminer: 接口调用模式; 界面自适应; 已登录跳转重定向过多问题处理;

##### bug修复
- 后台设置邮箱,修改密码时保存失败优化处理;
- 收藏IO存储地址, 存储位置被删除收藏夹显示优化处理;
- 菜单栏 鼠标中间点击,url处理;  == 刷新后菜单数量处理;
- 火狐浏览器兼容性调整:-属性面板文件名显示异常;-上传按钮错位;-拖放文件异常;
- 多语言切换,退出登陆,再次登陆后多语言没有保持;
- 编辑器树目录: html文件打开权限错误; 右键文件/文件夹设置标签错误处理;


## 1.12 版本更新 
> **主要新增**: 搜索增强,无权限时权限通路建立,新增通知功能等  
> **发布于: 2020.09.03**  

##### 功能新增及优化
- 文件管理
	- 批量重命名-支持清空单条内容;
	- 标签管理,列表支持拖拽排序;
	- 文档动态数据展示;(动态子内容范围:字内容不超过20000则取所有字内容;否则取两层并截取到20000个)
	- 树目录开关加入: 我所在的部门,我的收藏;
	- 文档属性内容完善: 加入权限类型等,和属性面板内容统一;
	- 文件名特殊字符处理支持(1 2=3%204&5.txt): 对象存储,FTP,物理路径等; 新建,下载,删除,重命名等情况;
	- 权限通路处理
		- 权限处理: 如果设置文件文件夹用户不可达,自动建立从该文件夹到根部门文件夹的通路,该文件夹只读,其他层级内容不可见(后端处理,权限屏蔽)
		- 子部门设置文件夹设置权限,可以选择所有人员和部门
		- 上层文件夹或部门指定设置了目标无权限: 依旧可以到达下层的通路;
		- 部门层级:层级可以点击;(仅通路)
		- 自己所在部门: 上级部门通路建立; (上级部门有通路权限)
		- 通路文件夹: -数据简化,-权限提示, -pageInfo数量处理;权限label处理
		- 子部门设置选择目标：优先本部门; 根据开关选择子部门or其他部门及成员
	- panel面板性能体验优化:目录切换后切换tab(载入新数据前,旧数据还存在,造成闪烁效果) 点击tab切换立即执行不做限流处理; 切换文档动态没有数据处理;
	- 文件夹子内容: 结果全部过滤掉问题处理; (没有权限或隐藏文件(夹),自动向后获取);
	- 分享给我的内容: 面板分享者,分享时间等完善; (分享内容不知添加标签);
	- 分栏模式优化:
		- 创建文件夹,文件; 路径错误问题; (文档搜索,描述处理); 
		- 切换排序后保持之前分栏状态; 
		- 通用调用打开路径: 打开目录在已打开的分栏中处理; 打开部门不再已打开分栏中但是在界面文件夹中;则自动选中并打开对应分栏;
- 文件文件夹置顶(source存储;setMeta权限);
	- 右键菜单:收藏下面添加[ 指定文档/取消置顶 ];
	- 指定内容排序: 不受字段排序影响: 按置顶进行排序,排列在最前面;(topSort:lastTime);
- 搜索增强:
	- 当前层快捷定位: 支持文件名,文件描述,文件标签;
	- 支持文档描述搜索文件;当前层;
	- 支持通过标签搜索文件;
	- 搜索结果,列表模式展开内容不过滤; 
	- 搜索结果:匹配关键词高亮保持,刷新依旧保持; 搜索结果中搜索高亮实时更新;
- 图片批量打印(插件)
	- 多选图片,右键批量打印;(追加到打印列表中)
	- 打印管理界面;列表,可删除;
	- 打印处理;(每张图片分页;图片上下左右居中; 最大宽度,最大高度)
	- 设置: 页面边距:1.5 cm;[0~3];页面方向:纵向/横向; 页眉页脚; 配置自动保存;
	- 可拖拽进行排序;可以从文件区域拖拽到该区域;
	- 拖拽文件到目标区域支持;(js库独立,css独立)
- 开发/api/sdk支持;
	- 存储挂载支持miniIO 自建对象存储;
	- 通用文件文件夹拖拽前端API; 支持拖放的元素进行处理监听等; (批量打印图片,支持多选后拖拽到列表框)
	- 插件获取配置,设置配置前后数据支持在插件中自行拦截并做处理;
	- 轻数据库表数据支持emoji; 字段值过长处理;
- 后台管理增强优化
	- 后台管理首页: 存储空间按使用空间排序,使用数值不匹配问题;
	- 后台列表-可调整顺序的列表支持拖拽排序; 菜单管理; 角色管理, 文档权限管理; 计划任务
	- 后台操作日志;类型筛选,相似类型操作归类;
	- 用户不存在或系统动作时展示: 创建者/修改者/分享者; 文档动态;后台审计日志;
	- 用户部门管理:部门支持搜索(支持拼音,首字母搜索); 智能自动跳转, 自动展开部门层级;
	- 用户部门管理:部门支持批量设置部门空间大小;
	- 自定义菜单: 支持树目录初始路径参数;
	- 角色管理: 支持添加角色描述;
	- 系统自动备份: 支持设置备份内容: 备份数据库+增量文件 或 仅备份数据库;
	- 邮件发送: 兼容支持自定义邮箱服务器:支持自定义端口; 发送邮件内容产品名替换为公司产品名; 短信发送同理;	
- 敏感词管理(插件)
	- 配置: 开启关闭敏感词; 编辑敏感词;
	- 后端拦截:新建文件名/上传文件文件名/文件描述/标签名/历史记录描述/交流讨论等;
	- 拦截后数据处理: 终止请求; 替换敏感词为**;
	- 敏感词default文件; 没有修改一直用default  reset则重置自己的文件
- 通知公告;
	- 后台通知公告管理列表;添加,列表操作:(查看,编辑,删除); 
	- 通知编辑: 标题,富文本html, 发送给指定对象选择; 计划推送/立即推送;
	- 用户接收: 通知列表,点击后阅读通知公告;
- 其他优化
	- 样式调整: 后台相关列表不换行,自动滚动条;用户多选头像位置;权限选择不换行;插件中心搜索框;from-tag字行高;右键菜单边框; 高级搜索form优化
	- 样式调整: 登陆界面描述文字去除; 自定义logo为图片时不显示倒影; 移动端多语言/用户等下拉菜单背景模糊效果处理
	- 移动端样式优化: 地址栏文件夹名过长限制显示,地址栏编辑模式收藏按钮不显示;webdav挂载复制路径换行处理;
	- 文档设置meta key白名单: systemSort,systemLock;meta日志
	- 缓存文件生成,默认覆盖;
	- 菜单：文件夹时菜单选中匹配优先级处理
	- 升级完成重启定时任务;定时任务循环执行 数据获取不从缓
	- 计划任务自动重启, 计划任务页面:手动重启;
	- 计划任务异常终止重新激活
	- 数据库没有数据表,报错提示优化;
- webdav
	- 绑定界面加入入口: 个人空间/我在的部门;
	- webdav上传; 部分客户端上传0字节问题;(winscp,直接上传,没有检测流程的情况处理兼容)
	- webdav上传同名文件处理; 默认自动覆盖; 同名文件已删除在回收站处理; 临时锁文件自动清除;
	- 个人中心webdav入口消失; 重新登陆插件为空的情况处理(form中输入框按回车会触发form内button元素点击事件;引起)
- formMaker 表单生成器组件优化;
	- 自定义表单字段按需加载;
	- 组件设置值延迟完成; 自定义字段加载完成通知; 之后可以setValue;
	- 对象释放,子类子组件自动释放; (兼容包含iframe时;释放子类时dom不存在问题处理); codeEditor/ace 自动释放;
	- ace编辑器更新: 支持移动端选中,复制,粘贴(非https时navigator.clipboard无权限时兼容; https://juejin.im/post/6844904015323463687);
	- htmlEditor富文本编辑器子组件
		- 样式界面优化: 工具栏,菜单栏,右键菜单;工具栏按钮,颜色选择;  图标自定义;工具栏优化;多语言; (工具栏:全功能,简洁版),菜单关联插件;
		- 交互优化:双击图片进行编辑图片; 双击链接进行编辑链接;双击视频-进入编辑;
		- 插件增加优化;
			- 百度地图插入; [plugins/bdmap]
			- todo任务列表; [plugins/checklist]
			- 格式刷;[plugins/formatpainter]
			- 源码查看编辑优化,使用ace;[plugins/codeView]; 编辑器窗口内替换;
			- 公式插入: [plugins/kitymath]; 双击打开编辑;支持latex直接书写;支持颜色字体大小;
			- 插入视频: [plugins/media] 支持插入优酷,腾讯视频,bilibili;
			- 图片选择: 从服务器选择(fileSelect);
			- ie9/ie10/ie11 兼容处理;(js兼容;css样式兼容)  
			- 打开对话框统一处理: 对话框打开位置处理(图片,链接,视频,地图,公式,插入代码,预览;字符,emoji, 源码统计,查找替换,图片编辑)
			- cdn处理: katex公式css加载跨域处理; 百度地图iframe跨域处理; 公式编辑iframe跨域处理;
			- 插入图片:打开文件对话框等情况; zIndex 层级问题处理; 
			- emoji入库前处理;

##### bug修复
- 分享给我的打开子文件夹:路径处理问题;(文档属性,搜索子文件夹显示问题处理,office文件打开处理);
- 用户被删除后用户信息没有实时更新的问题; 清空对应用户缓存;
- file-source表;脏数据,文件不存在,source不存在; file多出处理;
- pc客户端同步,文件失败异常处理;
	- hash校验错误(整数处理)
	- 登陆失败/文档不存在(频繁出现,导致同步上传中断)
- 权限设置组件(后台设置用户到某个部门), 清空最后一个内容后保存,不生效问题;
- 通过用户菜单进入后台,后退不了的问题;(后台管理连接由admin换成admin/index; 避免自动调整中转后无法后退的问题);
- 文件夹打开数据库报错处理兼容;
- 外链分享文件夹需要登录问题处理;

## 1.11 版本更新 
> **主要新增**: 安全相关优化  
> **发布于: 2020.08.05**  

##### 功能新增及优化
- 文件管理
	- 高级搜索: 不限文件类型:搜索文件及文件夹; 任意文件:搜索文件;
	- 用户部门选择组件; 根部门下允许罗列只属于该部门的用户,不显示已禁用用户;
	- 视频播放  最大高度最大宽度由浏览器限制; kodbox/kodexplorer;
- 移动端适配:
	- 后台概览首页: 用户部门使用空间table高度自适应;
	- 样式优化: 备份界面配置及table列表适配优化,角色管理颜色字段换行,文件属性对话框md5不换行;文件选择文件focus状态优化;插件管理搜索处理;
- 其他优化
	- formData 子字段按需加载;
	- 对象存储:保存配置时自动检测是否支持跨域;跨域支持配置后才能前端直传;存储配置时检测header跨域字段;
	- 数据库查询结果: int/float等字段不转换为字符串;
	- sqlite返回数据前端兼容;用户部门选择,点击无效问题处理: 字段值为数值是否加引号问题处理;

##### bug 修复
- php5.5及以下版本报错兼容(不支持在常量中定义数组):
- 下载文件夹最多只能下载其中300个文件: 去除分页处理; 
- 自定义菜单管理: 如果使用相对连接 /abc/ 跳转问题处理; adminer跳转处理;
- 上传大文件失败(0.2M,10线程): hash error!  (分片上传分片小数统一处理)
- 文件编码识别显示;
- 文件通用预览: APP打开HTML文件提示无权限
- laydate.js 删除;
- demo用户,无权限上传头像问题处理;安全优化;
- 新建用户-删除或禁用, 已登录该账户的页面请求报错处理;
- 版本下载更新,没有临时文件夹,下载失败问题处理;


## 1.10 版本更新 
> **文件标签**: 快速,批量给文件文件夹添加标签,更方便快捷的整理归类
> **属性面板**: 快捷展示当前目录,选中内容属性信息(标签,描述说明,空间使用状态等)  
> **文档交流讨论**:高效快捷可沉淀的思维火花碰撞汇集;  
> **文档动态**: 汇集文件文件夹从创建到当前所有修改,分享,编辑等事件流; 完整还原文档的生命周期.  
> **元数据扩展**:无限自由扩展文件属性信息;  
> **系统备份**: 定时增量备份系统数据,守护数据安全.  
> **发布于: 2020.07.31**  

##### 功能新增及优化
- 文件标签
	- 标签管理:列表展示;对标签设置名称,颜色,顺序; 修改添加后实时同步到界面;
	- 文件右键菜单(单选/多选);  添加标签,从标签移除;
	- 标签列表: 打开/重命名/删除/移到头部/移到底部/管理标签/添加到收藏夹/发送到桌面快捷方式;
	- 标签树目录: tag列表内容个数显示; 文件列表标签显示
	- 多选文件拖拽到某个标签: 实现批量快速添加标签; [仅支持个人文档和部门文档; ]
	- 标签数据: 初始化数据,后台标签开关; 多语言;文件分类多语言;
	- 移动端标签管理:标签选择处理;
- 信息面板
	- 面板功能:
		- 开关面板(配置自动保存); 初始化懒加载;
		- 面板宽度自定义拖拽调节(配置自动保存)
		- tab展示:拥有tab根据选中内容权限处理; 无权限功能屏蔽; 无tab则显示属性; 内容切换后tab自动保持;
		- tab切换性能优化;选中文件没有变时不请求服务器; 
		- 移动端适配; 外链分享文件夹去除; 根据权限自动处理; 文件选择框/对话框打开---默认不展开panel;
	- 属性面板: 
		- 属性展示: 无选中--当前文件夹信息; 选中一个--选中内容信息; 选中多个--多个信息; 显示图标,名称,大小等信息;
		- 快捷收藏该内容: 未收藏--收藏,已收藏--取消收藏,自动切换处理; 实时更新;
		- 虚拟目录展示;我的收藏/搜索结果/位置/我的分享/回收站/分享给我的等虚拟目录展示;
		- 部门根目录/个人根目录: 使用空间情况;(磁盘根目录;使用情况)
		- 部门根目录: 显示部门所在层级结构;
		- 所选文档:描述修改;标签管理;
		- 所选文档权限显示;拥有者可以快捷修改权限;		
	- 历史版本:
		- 选中文件时自动展示文件历史版本记录;分页处理;
		- 历史版本快捷操作:彻底删除,打开查看,下载,回滚到此版本; 设置版本描述说明;
		- 上传新版本: 快速给当前文件上传新版本;(操作动作根据自身权限自动判别处理)
		- 权限处理: 有编辑权限则可查看与修改
	- 文档动态:
		- 展示该文件或文件夹历史动态的完整时间轴;(文档创建,重命名,上传,分享,收藏,修改等...)
		- 归类时间段相近的相同事件; 内容过多展开收起;
		- 目标或来源文件,文件夹点击进入所在位置;
		- 数据处理优化: 分页,降序;数据过多性能优化(文件夹-自生及子两层内容动态);
		- 权限处理: 有编辑权限则可查看;后端处理;
	- 元数据扩展:
		- 元数据扩展字段管理可通过配置自由添加管理;内置元数据key;
		- 更新后自动刷新; 界面显示更新性能优化;
		- 文件附件选择: 添加自动合并,自动去重;点击打开文件/进入所在文件/移除条目;(目标文档不存在处理)
		- 权限处理: 有编辑权限则可查看与修改
	- 交流讨论:
		- 所选文档交流讨论信息展示;(最近100条,按聊天模式展示;向上翻页加载更多讨论记录,消息总数更新);
		- 消息列表: 同一人时间相近消息合并:新消息发送,消息更新; (请求过快重复处理,数据接口请求性能优化)
		- 消息解析: 链接自动解析; 回复消息显示; 聊天表情显示;
		- 消息操作: 回复,复制;删除; (支持删除自己的消息,拥有者可以删除所有)
		- 表情组件: qq表情,emoji表情;多分组; 自适应所在位置;
		- 滚动条处理: 滚动条在中间则保持之前滚动条; 删除消息滚动条还原; 自己发送内容滚动条置底;
		- 接口数据: 发消息,回复消息,删除消息,点赞/取消赞; 消息列表拉取,向前拉取,从最后刷新拉取; 关联文档后端权限处理;
		- 聊天内容操作菜单;移动端支持;
		- 聊天富文本输入框:
			- 操作: enter发送,ctrl+enter换行; 自动placehoder
			- 表情: 完整支持qq,微信表情代码([/开心],/憨笑); 支持emoji原生表情;
			- 输入: 支持换行,制表符, 回退可以删除回复内容, 输入/粘贴/删除自适应滚动条
			- 复制粘贴内容解析: 粘贴网页内容自动解析;粘贴复制的消息解析; 复制输入框,消息类别内容解析编码
			- 输入回车符:自动根据光标检测是加入一个还是两个换行符;(新起一个dom则需要加入两个回车);
			- ie兼容:复制粘贴兼容; toText 换行保留;
		- 权限处理: 
			- 有comment权限: 可查看评论(不能添加,回复,删除操作)
			- 有编辑权限: 可添加,回复,删除自己评论
			- 拥有者:可删除任何评论 (可设置权限)
- 文件管理
	- 拖拽文件,通知来源及目标文件目录;实时更新;
	- 高级搜索: 搜索结果二次搜索优化;文件类型显示优化;
	- IO 对象存储支持配置为服务器中转上传,下载;
	- 我所在的部门:列表排序-按部门顺序排列;前端文件夹排序(不进行重排)
	- 部门子部门列表:排序-按部门列表; 前端文件夹排序(不进行重排)
	- 已删除内容分享提示处理
	- 打开新文件夹; 滚动条位置还原;
	- 移动端压缩包预览支持;
	- 收藏夹列表包含对象存储等网络文件夹时速度优化; 不获取具体信息,访问时才获取;
	- 地址栏收藏:未收藏--收藏,已收藏--取消收藏,自动切换处理;
	- 地址输入外链分享文件夹地址;列表支持;(需要密码的暂不支持);
	- 后台设置用户归属部门;用户文件管理左侧我所在部门数据实时更新优化;
	- 新窗口打开文件夹: 设置焦点,设置为最上层; 多个则自动偏移;
	- 历史版本操作: 设置为当前版本,删除版本; 通知文件所在目录变更,界面刷新处理;
	- 协作分享/外链分享; 自动定位所在tab;
	- 文件读写锁优化: 优化处理为系统级加解锁;(自适应为redis或其他内容)
	- 小文件读取缓存加入: < 10kb文件读取加入缓存;(oexe处理)
	- 系统目录:路径显示优化;(地址栏完善);
	- 虚拟目录目录列表请求接口: 返回名称及图标等信息;
	- webdav 支持名称自定义	
	- PC客户端: 登录后自动挂载webdav(记住密码); 执行cmd加密指令
	- pc客户端打开自动执行脚本处理;
	- PC客户端,打开文件支持取消;进度处理频率降低
	- 存储Driver支持:山河智能存储支持;
- 安全相关优化;
	- 客户端 只有预览权限没有下载权限不能本地打开
	- 密码错误6次自动锁定1分钟;
	- 前端xss防护:分享标题;文件名,删除文件提示,历史版本描述,搜索所含目录,地址栏,文件属性标题;描述等过滤处理
	- 后台xss防护:登陆日志,操作日志:ip,用户名,ua,系统,文件名,描述等过滤处理;
	- 外链分享输入密码加密;
- 文件预览打开
    - PDF预览:PDF.js库更新; 样式处理,去除下载打印;多语言自适应
    - 移动端PDF手势缩放
    - ofd文件预览: 渲染增强;移动端支持手势缩放;
	- onlyoffice插件:是否可下载权限调整;
	- 文件编辑前,编辑后下载内容不变,浏览器缓存处理;
	- 永中office;界面样式处理优化;(下一页按钮icon)
	- 水印插件: 更换字体,回填字体物理路径;禁用下载处理;
	- 编辑器文件打开大小限制: 不大于20M; 首次打开大文件loading提示层自动关闭;
	- 文件编辑保存,内容没有变化时接口返回优化处理;
	- 编辑器预览区域: 自动处理保存宽度处理; 未匹配预览方式不显示;
	- 编辑器:数学计算优化处理; 宽度调整自动记录;(自动开启);
- 后台功能增加及优化
	- 统计概览增强: 加入用户数,在线用户,请求量等; 用户量,登陆用户,空间使用走势图
	- 操作日志: 日志类型下拉选择优化完善,支持按用户筛选; 日志数据解析增强(谁在什么时候在什么地方做了什么);文件点击进入所在位置
	- 登陆日志增强: 支持按用户筛选; 日志数据解析增强(谁在什么时候在什么地方做了什么)
	- 存储管理: 添加本地路径支持手动选择目录;
	- 计划任务
		- 计划任务管理; 可自行添加计划任务;(支持内部方法,及url请求)
		- 系统默认计划任务加入
		- 计划任务自动执行；执行日志；
	- 系统备份:(授权版功能)
		- 备份管理: 设置备份目的地, 开启关闭自动备份, 设置每天备份时间点;
		- 备份保留策略: 备份数据存储到目标存储;backup/2020041411/xxx; 保留最近7天的和每个月1号的数据(近12个月);
		- 备份状态及进度: 数据库表,数据库文件,文件增量备份进度情况;
		- 备份列表: 列表信息:[备份节点信息 完成时间,文档大小,数据库大小,备份耗时]; 可删除某条备份;
		- 数据库备份:全量备份[数据库结构--从安装目录取; 数据表数据]; 如果是sqlite则直接拷贝数据库文件;
		- 文档备份:备份目标存储选择,增量备份;说明 (增量,按数据库时间节点进行恢复还原)
- sdk/api及通用组件优化
	- sqlite并发锁优化;每个请求前后加解锁,优化为每次读写前后进行加解锁
	- 通用任务管理模块; 传输类,解压缩类,网络传输类;
	- 调试优化: 参数传递,数据打印;类,资源id或hash加入;
	- 调试优化: 调用栈数据简化(大于50条则截取); 报错,系统报错错误日志记录调用栈;
	- 所有插件: 引用静态资源的统一加入版本号;专属定制插件不允许删除;
	- 登陆后插件列表重新载入执行;插件操作完成;重新载入插件列表;
	- 拖拽调整宽度组件: $.dragResize; (目录树,属性面板,聊天窗口等);可拖拽组件自动保存调整值;(没指定则使用dom的className);
	- 部门子部门: 接口数据请求优化; 统一使用sourceList;
	- 通用类: IO,Model,Controller,实现动态添加方法; 或覆盖protected方法;
	- formMaker通用表单:
		- 文件夹选择:如果为文件夹且单选且有值时,自动打开当前值文件夹;
		- fileSelect 为多个时; 结果处理;更新; setValue 处理;
		- color修改触发更新事件;
		- 下拉菜单:界面显示不足时自适应上下左右位置;下拉菜单/用户部门选择则等;
		- 性能优化: 自动释放form构建的各种控件;
		- 用户部门选择组件:搜索结果hover显示上级部门,及所在部门;统一头像+优先昵称显示;
	- 通用任务管理模块
		- 通用任务管理类;(创建,监听事件,启动/暂停/结束任务) 包含用户,开始时间,任务状态,速度,完成进度等;
		- 文件传输任务:文件/文件夹拷贝; 对象存储重命名;
		- 网络传输任务: curl请求,上传下载进度监听处理; 性能优化延迟提交
		- 长任务结束结果数据,通过进度信息返回; 界面处理;
- 任务管理-耗时操作任务机制
	- 文件复制移动
		- 进度toast显示; 当前过程文件,文件大小,已完成大小; 总完成大小/总大小; 已完成个数/总个数; 中转临时文件名显示优化;
		- 跨存储驱动移动文件(夹);显示各个细节进度状态;(下载情况,完成个数,上传清空等)
		- 对象存储文件夹重命名; 进度细节展示,可以结束任务;
		- 上传到对象存储,大文件分片动作支持;
		- 可以手动随时结束任务, 页面刷新后任务依旧执行;
	- 解压操作
		- 支持所有存储驱动: 进度细节展示,可以结束任务;
		- 支持跨空间解压;(下载,解压,上传; 流程及内部细节完整展示);剩余时间评估
	- 压缩操作
		- 支持所有存储驱动: 进度细节展示,可以结束任务;
		- 支持跨空间压缩;(下载,压缩,上传; 流程及内部细节完整展示);剩余时间评估
	- 管理员-任务管理器
		- 任务列表: 全站所有任务列表集中展示,(名称,用户,进度,开始时间,已执行时间;操作:停止/开始;结束任务) 任务最近列表top30,
		- 任务管理: 列表自动更新; 可以停止/开始/结束任意任务
		- 入口加入: 概览首页,计划任务,备份管理;
	- 用户-任务管理器
		- 任务列表: 自己创建的任务
		- 任务管理: 列表自动更新; 可以停止/开始/结束任意任务
		- 入口加入: 概览首页,计划任务,备份管理;
	- 网络请求任务队列加入
		- AutoCAD插件, 文件解析上传解析处理任务化;
		- 永中office文件预览, 文件解析上传解析处理任务化;
		- GstarCad插件, 文件解析上传解析处理任务化;
- 显示及体验优化
    - 二维码图片加大; 图片可右键操作;
	- 树目录收藏夹: 自动展开已展开,则收藏夹内内容不再自动展开; (列表模式,收藏夹收藏了收藏夹,展开优化处理)
	- 插件列表分类整理;加入专属定制tab;
	- 样式优化:字体大小自适应父元素宽度;图标显示优化;
    - 前端性能优化:document.all dom节点1万个;(svg图标3000;右键菜单3000;日历组件);
    - 自动安装: 安装url参数autoInstall={json}; 则直接自动到第三步输入账号密码;
	- 数字显示统一方法 numberShow; 自动格式化为万,亿为单位;
	- 不可排序内容(收藏夹,我所在的部门):body右键去除排序; 列表模式排序样式去除;
	- gzinflate 不存在提示;php-zlib 扩展;
	- 打开压缩包,手动停止,不构造压缩对话框界面;
	- 左侧主菜单自动收起,最小两个;
	- 样式优化: 图标模式调整尺寸按钮位置优化; 右键菜单超出屏幕滚动条处理; blur模糊样式兼容支持; 文档日志换行处理; 
	- 移动端样式优化:blur模糊样式兼容支持;文件焦点状态样式区分; panel文档动态分页位置;分页输入框样式优化;
	- 后台列表操作,弹出层改为点击出现,位置处理优化;
- 兼容优化
	- IE11 后台用户管理,数据显示异常问题处理;
	- 多语言: meta信息;多语言优化;备份设置提示信息
	- 移动端：菜单去除只剩一个情况,table 操作菜单处理
	- 任务管理,删除任务确认弹出层;
	- 后台概览负值处理: 空间节省
- 移动端/wap兼容优化:
	- Android浏览器下载文件,文件名处理兼容优化;
	- 移动端编辑器resize默认不显示;
	- 后台展示样式兼容优化: 操作日志查看, 编辑器工具栏,markdown帮助说明panel等;
	- 打开pdf,ofd;部分浏览器title文件名优化;
	- psd APP打开 滚动到居中;(用图片播放器打开; fileThumb--不直接打开psd文件) fileView 预览图片[界面内置; ]
	- ofd预览,页面滚动处理;(移动端滚动条位置全屏覆盖)
	- 移动端滚动穿透: 蒙层,panel,边栏,下拉菜单等; 默认内置滚动条; 图片预览滚动(单独处理);
	- 列表模式:文件名最多显示两行,超出...显示;
	- 文件菜单: 点击打开方式-浏览器打开后;再次点击打开为, 菜单会异常消失
	- 弹出层框,滚动穿透处理;pdf预览,页面滚动不了问题,手势缩放问题;
	- UC浏览器: click事件偶尔不执行问题,mouseup,touchend (多选--取消; 左侧树目录点击)
	- UC浏览器: H5 重命名 blur问题处理。新建文件夹后文件菜单点击失效问题

##### bug 修复
- 压缩包预览;树目录列表展示异常;
- sqlit 不支持部分sql情况兼容; (后台,统计首页)
- groupAuth 删除完成时保存,会保留一个的问题处理;
- 普通用户:桌面我的电脑打开提示权限问题处理;
- 外链分享文件夹开启上传: 上传不了问题处理;
- 上传新版本,未完成时上传文件被限制问题;
- 调用通用预览:插件不存在index方法时走前端预览; svg预览: photoSwipePlugin.index method not exists;
- 文件编辑对话框,最小化后,再次点击最小化还原, tab宽度自动调整;
- 授权版追加用户不生效问题处理;
- 弹出层无法关闭问题
- 文档加密;获取扩展名错误问题处理;
- 普通用户去除网络挂载
- 用户选择组件,H5搜索无法focus
- 打开为 内菜单点击后内容会额外追加到一级菜单问题
- 部分移动端浏览器: 无法插入表情兼容处理; 插入表情位置光标异常问题处理;



## 1.09 版本更新 
> 登陆安全及传输安全优化  
> **发布于: 2020.05.12**


##### 功能新增及优化
- 权限及安全相关优化;
	- 用户账号安全优化: 修改密码或账号; 其他已登录的自动退出;
	- 密码错误锁定(防暴力破解): 连续5次错误锁定30s不允许登陆;
	- ip白名单[ip区间; 允许127.0.0.1/自己ip/内网ip段;]
	- 密码强度设置: 不限制/中等强度/高强度;(注册/添加用户/修改密码等处须符合密码规则),有效防止系统弱口令;
	- 后台管理操作日志:支持导出文件;
	- jsonp输出限制: 不允许user/view/options以及各类有权限限制的入口; 允许插件;
	- CAD预览: 主题默认设置;优先2D预览;
- 文件管理
	- 下载时兼容迅雷加速,多线程下载情况(加入accessToken);
	- 多选下载优化:如果选择的都是文件,则不进行压缩,直接全部下载;
	- 离线下载文件名获取优化: 自动获取文件名处理,获取为空时自动构造,按content-type构造扩展名;
- 其他优化
	- 桌面回收站等图标去除快捷方式标记;
	- 整体请求编码处理: 减少一次后端解码; 按默认方式进行;解决含有特殊字符文件夹分享后文件预览失败问题;
	- 外链分享文件夹: 限制下载次数达到上限后错误提示优化;
	- 默认隐藏去除编辑器; iframe载入loading加入;
	- 右键菜单扩展输出到全局,首次进入后台: 对话框标题栏右键支持,用户管理右键菜单支持;
	- 分享页面样式优化; 对话框头部边距过大;用户管理搜索栏
	- 权限说明table增加横向滚动条;
	- 移动端整体字体大小优化;
	- 其他样式细节优化
- 兼容优化
	- UC浏览器ajax请求丢失参数问题处理兼容;
	- webdav挂载失败问题[用户账户体系集成;用户登陆验证优化,优先使用cookie; ]
	- 兼容服务器请求不了https时插件更新问题;
	- QQ登陆处理https问题兼容处理; 绑定QQ微信;已被绑定提示绑定者用户信息; 
	- 部分服务器curl 请求https出错问题兼容;

##### bug 修复
- 上传忽略文件,设置无效
- 列表分栏模式下,文件名和文件的描述说明重叠
- 登录日志,操作日志,近七天数据显示异常
- 分享页面,含有密码情况请求拦截处理优化;


## 1.08 版本更新 
> webdav支持,权限及安全优化;   
> **发布于: 2020.04.30**

##### 功能新增及优化
- 文件管理:
	- 网络挂载加入: 罗列本机磁盘及挂载的存储; (仅管理员可见)
	- 后台管理: 支持自定义文件存储是否加密,或加密的方式;
	- 显示/不显示隐藏文件: 显示隐藏文件: 以.开头的文件自动隐藏(以及管理员指定的文件名)  [个人中心可以进行设置 ]
	- 文档属性:没有编辑权限时,文档描述处理;
	- 文件列表显示: 只读/没有读写权限的用不同颜色进行标记;以便快速辨识;
	- 搜索优化:ctrl+f 搜索进入搜索;快捷匹配时文件名含有空格情况处理;搜索结果可以继续筛选其他条件;
	- 对象存储:文件创建时写入 content-type mime;
	- 存储Driver支持:宏衫对象存储对接;
	- 删除到回收站,同目录同名文件,文件夹处理;(还原)
	- 右键分享:分为内部协作分享,外链分享;
	- PC客户端;右键打开: 本地打开放到右键打开下面;
	- 网络挂载: 只允许管理员;普通用户不显示; 列表模式标题栏自适应; io存储管理;地址栏名称及图标处理;
	- 收藏夹: 普通路径/虚拟路径处理;(收藏文件,扩展名处理); 虚拟路径右键增加:收藏/取消收藏/发送到桌面快捷方式;
- 插件更新优化
	- 插件配置,开启关闭等事件触发点加入;多语言自适应,
	- 图片播放插件:初始图片大小位置处理,关闭时还原位置大小处理;
	- 图片播放:打开时比例处理; 关闭时,当前尺寸比例与原始比例不同时处理
	- 开启了微信同步,钉钉,ad域;用户管理界面提示文字内容; 删除添加等功能屏蔽;
	- cad插件更新;kodbox/kodexplorer 插件都进行更新;
	- 永中office插件更新;kodbox/kodexplorer 插件都进行更新;
	- 文件缩略图插件: 支持ttf图标;支持ttf文件打开预览;
- 移动端优化
	- 编辑器长按复制;
	- 大屏iPad移动端: 文件夹上传去除;多选文字没有隐藏
	- 移动端纯图片列表,重命名处理;
	- 图片相册模式; 凡事图片的都计数; 图片比例大于90%;
	- 所有含tab切换的内容; 支持手势左右滑动切换;
	- 多选时选择一个和多个功能菜单自适应
	- 部分android手机播放音乐没有声音情况兼容;
	- 移动端,树目录不允许拖拽;
- 权限及安全相关优化;
	- 虚拟目录只能列表[除了source/io/shareItem ]
	- parentID 为0的目录不能直接删除;
	- 分享文件夹 shareItem不能直接删除根;
	- 没有编辑权限:右键菜单历史记录显示优化;
	- 设置文件夹只有列表权限: 文件打开提示处理;文件列表显示优化处理;
	- 不可读写hover提示;
	- 没有读权限后端处理:office等文件不能预览;
	- 编辑器:编辑文件保存避免防火墙检测拦截;
	- 角色权限: 设置用户角色没有编辑权限---office可以编辑保存; 设置用户只有下载权限---不能下载; 后端处理;
	- 安全设置: 文件存储加密 全部加密/加密文件名保留扩展名/不加密;  [php/html/html 处理 ]
	- 权限设置为文件列表和上传;打开文件报错提示优化;
	- 分享给我的内容;权限可读写样式处理;
	- 分享给我的:右键文件,文件夹功能完善;
	- 没有预览权限,不生成缩略图;
	- 文档权限顺序: 后台管理列表,设置下拉列表;权限详细说明顺序保持一致;
	- pc端: 本地软件打开:取决于是否有下载权限;(可预览没下载权限不支持本地打开)
- formMaker 表单构造器: 
	- input/number/password/others;[模板简化 ] titleLeft/titleRight attr[] 支持对象方式;
	- 常用动作: 复制,随机字符串,二维码
	- input 加入close按钮; [清空 ] 内容为空时不显示清空按钮;
	- switch 切换/radio切换/checkbox;调用两次change问题处理;
	- form表单ace编辑器输入时输入框样式去除;
	- 个人中心基础配置;优化为formMaker;
	- 统一tab标签切换;
		- 动画效果支持;tab激活状态统一为active [纵向tab菜单; mac风格tab菜单; ]
		- 统一tab 移动端手势切换; 动画及效果处理; 切换前页面动画完成处理;
		- 拖拽按方向处理(左滑右滑);	
- 其他样式及显示优化
	- 上传出错错误提示优化;
	- 分享标题设置;分享展示页面显示自定义标题;
	- 没有设置头像权限,头像可以设置但提示上传失败
	- 树目录:创建快捷方式/发送到桌面快捷方式失败;
	- 重命名含有空格的文档,blur 空格文件名不相等处理;
	- 底部版权信息丢失;
	- 已经登陆:提示立即进入;
	- 进入页面loading样式优化;
	- 系统设置,统计代码编辑器,点击不弹出键盘;
	- 用户选择组件:选择用户,显示用户昵称|账号;
	- 我所在的部门,显示上级部门; 同名时避免混淆;
	- 自动更新;加入VERSION_BUILD,用于快速发布补丁版;
	- 新建文件/文件夹; 按创建时间排序时位置处理;
	- 文件名过长: 文件属性对话框宽度处理; 分享页面处理;
	- 文档: 退出接口; accessToken 获取地址更新;
	- 开发文档调整;
	- 允许选中的文本统一样式处理;
	- 样式优化: oexe 长按图片事件屏蔽; 移动端分享tab错位问题;formMaker radio等样式优化
	- 图片预览去除视频PDF缩略图
	- 移动端:tab页面滑动卡顿优化
- 后台管理优化
	- 支持设置存储是否加密,加密方式;
	- 用户管理,已禁用用户统一管理;
		- 左侧树目录底部加入:已禁用用户;点击用户列表数据为已禁用用户;
		- 点击任何部门,还原数据;
	- 存储管理(支持删除)
		- 强制修改: 已添加存储添加强制修改;点击后提示警告; 确定后不可编辑内容可以编辑;
		- 可以卸载存储: 点击后如果有文件在该存储,则提示迁移到当前默认存储(进入迁移界面,进度,io迁移,数据库更新); 
	- 服务器管理;后台管理加入缓存模式数据库切换;
		- 缓存类型 [文件缓存/redis/memacache ]
		- 配置管理:当前缓存类型, 检测:通过后可点保存; (CacheRedis直接检测) (保存提示:切换成功后需要重新登陆)
		- 配置保存:缓存类型切换后保存配置到setting_user.php (移除老的,追加新的);
- 编辑轻应用:
	- form表单;admin及user复用;
	- 设置图片;选择图片使用外链为结果; 
	- 编辑轻应用;文件位于对象存储跳转的情况;fileOut替换为fileContent; ajax请求;
	- 编辑文件夹快捷方式保存后继续编辑轻应用问题;
	- 文件快捷方式;修改图标后,依然保留快捷方式meta标记;
	- oexe 文件编辑: 高亮模式优化为json;
- 细节优化: 
	- 用户权限设置,上级部门展示; 
	- 选择用户显示昵称/用户名;
	- 离线激活界面显示不全处理
	- 用户选择组件;hover到部门,不显示选择勾; 用户及部门对象选择样式调整; 
	- 文件权限设置:显示自己的所在权限;
- 兼容优化
	- 火狐浏览器,右键点击文件历史记录没有反应
	- 浏览器兼容ie11/ie10/ie9/firefox/chrome/edge: 样式兼容;colorPicker es3转换
	- APP_HOST获取兼容;
	- 文件编辑保存: 防火墙误判兼容处理;

##### bug 修复
- 文件缓存,登陆异常退出问题;(session读写加入并发锁)
- 对话框部分调用,标题不显示问题处理;
- 后端退出,前端清空用户信息,自动跳转到登陆页面;登陆页面登陆状态检测提示处理; 路由更新处理;
- 上传过程中:账号退出;上传列表暂停并提示未登录;
- 不在该部门,在上层部门为管理员的情况;设置给用户时忽略权限数据;
- 文件夹权限设置;首次加载,所属权限初始值异常情况处理;
- 分享文件页面提示权限错误问题; 分享文件去除下载权限,
- 后台菜单管理: 将菜单设置为子菜单--取消设置子菜单; 但是列表还是开着的;
- 桌面:轻应用--添加轻应用---提示没权限; 桌面新建一个文件夹后操作正常;
- 桌面内容不可拖拽问题处理;
- 桌面上传权限提示错误: 选中轻应用;右键桌面区域点击上传;权限判断处理;
- 第三方登陆全部关闭,登陆页QQ登陆没有消失,点击报错;
- 点击上传,重复弹出选择文件框;(treeAction/pathAction;重复初始化上传组件; lightApp允许重复创建)
- office文件分享页面,提示无权限;
- 后台,树目录功能开关设置无效 
- 分享含有密码时,页面报错处理;
- 高级搜索,设置文件大小10MB~100MB显示结果异常

##### webdav基础模块(服务端/客户端实现)
- login :登陆校验认证;
- list: 文件列表;
- mkdir: 新建文件夹;
- mkfile: 新建文件;
- open: 打开文件;
- rename: 重命名;
- move: 移动;
- remove: 删除;
- upload:上传;编辑文件;
- copy
- lock
- unlock
- 数据统一整理;标准化;
- 输入解析处理;标准化;

##### webdav整合到kod权限/虚拟目录/所有存储读写支持;
- 账号体系接入;
- 动作数据分离;类继承处理;
- 虚拟目录处理: 根目录(我的文档;企业网盘;我所在的部门)
- 大文件传输处理;输出range处理;
- 虚拟路径层级向下遍历;
- 对象存储管理  新建文件跑到上层
- windows webdav挂载协议兼容处理;[mkdir处理; 复制粘贴处理;]
- 权限相关处理; 空间不足处理; 无权限是新建文件夹处理; 获取文件夹属性--不存在处理;
- 插件配置;[开启(检测);插件允许用户;提示说明 ]
- 上传优化处理; 文件读写流处理
- 前端访问入口及说明;
- 多语言(webdav插件设置; webdav前端提示)
- webdav 支持指定用户根目录;提示信息优化;
- webdav 使用对象存储时; 下载转发;



## 1.07 版本更新 
> 新增腾讯COS对象存储支持,多选重命名,移动端体验优化等  
> **发布于: 2020.04.03**

##### 功能新增及优化
- 腾讯COS对象存储支持;
- 移动端适配体验优化;
- 多选批量重命名; 
	- 多选右键,或快捷键进行批量重命名;
	- 支持序号自增模式, 追加模式, 查找替换等模式;
	- 多选重命名快捷键支持: 权限检测; doAction 监听;
	- 多语言,多语言英语优化;
- 搜索优化
	- 部门目录,选择范围为全部时搜索当前部门内容;搜索后,选择范围保持;
	- 分享外链文件夹支持搜索; 搜索结果处理;
	- 内部协作文件夹搜索支持; 所在位置处理;搜索结果,权限过滤处理;
	- 不设置搜索类型时,文件/文件夹同时搜索;
- 部门根文件夹,罗列子部门入口:
	- 列表子部门罗列;排列在最前面;
	- 分页处理,排序处理;
	- 右键及操作处理,快捷键操作判断处理;
	- 后端操作处理: 部门根目录不允许删除,剪切,重命名;(pathDelete,cute);
	- 部门根目录操作检测处理,不允许:重命名,删除,复制,剪切,下载,分享
	- 权限类型处理;(继承自上级部门); 没有权限则过滤
	- 操作权限判断处理;向上回溯继承; 其他人权限不影响上层部门用户
	- 后台新增树目录功能开关: 我的文档,企业网盘,我所在的部门,最近文档,文件类型,标签
- 文件预览优化
	- 手机端图片列表展示优化: 全图片且图标模式则优化为相册展示  4张图;
	- epub 移动端访问;阅读适配;
	- 图标模式/列表模式,图片缩略图显示效果优化;移动端适配增强;
	- 透明png图片方格背景
	- 压缩包内文件预览: 插件判断文件权限处理;url则不判断;
	- psd预览插件: psd,ai,mp4等文件icon使用缩略图;(缩略图加载失败自动还原到默认图标)
	- heic 文件预览;缩略图;打开;
	- epub/fileThumb 文件列表生成缩略图处理; 缩略图优化
	- 文件图标样式优化: 图标居中; 视频缩略图优化;
	- autoCad 插件多语言自适应;(只包含中文和英文;自动跟随当前语言)
	- 移动端APP编辑文本文件;显示界面大小兼容处理;
	- markdown预览允许选择,复制;
- 文档权限相关处理;
	- 多选操作: 判断每一个选中内容的权限;取交集部分;
	- 单选,多选权限自动根据选择内容权限进行处理;多选时为所选权限交集; 自动适配到快捷键操作,右键操作;
	- 最近文档,搜索内容  多选快捷键操作处理(复制,剪切,删除)
	- 后端权限包某项被删除,分享&权限设置不显示; 用户权限向上回溯;
	- 回收站内容动作前端拦截: 打开,重命名;
- 体验及移动端兼容优化
	- 分享文件夹操作菜单位置;报错页面移动端样式优化兼容;(404,分享页面:分享不存在过期等)
	- 分享文件夹视频文件播放按钮显示;搜索时地址栏图标处理; 列表模式展开字内容为空不显示空图标信息;
	- 列表模式重命名/新建;闪烁问题;
	- 大屏触屏适配处理(ipad,触屏pc,android pad)
	- 系统根目录: 系统文件夹,用户文件夹,部门文件夹;图标优化处理;
	- pc客户端wap判断处理兼容;
	- 多语言细节完善整理;
	- 主界面loading载入效果;编辑器打开loading处理;
	- 分享页面: 输入密码/过期等情况;底部版权信息显示;
	- 分享文件夹: 点击home,进入home文件夹; 标题栏宽度自适应;
	- 移动端logo图片超出显示优化; 电子书封面loading样式处理优化; input-title-right按钮错位兼容优化;
	- 用户权限列表:删除行按钮位置自适应处理;
	- 文件列表图片,避免移动端长按保存; (移动端浏览器图片长按拦截)
- 文件列表
	- 树目录鼠标hover title内容优化;(同文件列表一致)
	- 移动端分栏模式,自动切换到列表模式处理;
	- 部门根目录(树目录)title显示组织架构层级关系;
	- 部门属性优化,创建时间,修改时间,空间大小加入支持;
	- 分栏模式:
		- 回收站目录,点击文件夹不展开子目录;
		- 删除文件夹后刷新,提示在回收站问题处理;
		- 分栏模式,子文件夹加载失败整体流程处理;
- 授权处理 plateform;
	- 插件形式添加到管理后台;
	- tab多标签统一管理;
	- 授权表单页面数据关联处理,动作处理;
	- 后端接口处理:授权,oem授权;
	- 授权编辑
		- 通过用户名或授权码查找(多于1个则选择)
		- 编辑用户授权: 描述说明,到期时间,授权码,允许内网,插件,短信,用户增加;
	- 插件设置: 授权相关: 授权邮件发送目标: 发送给,抄送给设置;
	- 权限处理及判断;
- 其他优化增强
	- 主程序所有地方多语言整理完善;  sublime中文搜索: [\x{4e00}-\x{9fa5}]+
	- 预览插件中去除下载相关功能;
	- 第三方库更新: ace,photoSwipe,pdfjs;
	- 后端路由,没有权限时错误提示;
	- 动态引入类,CalssBase.define 自动构建类;
	- 访问桌面: 桌面文件夹不存在;自动处理;(desktop/桌面);
	- tips.notify; 错误并关闭时延迟退出;(下载等情况,失败关闭处理);
	- iphone6 ios12 safari 缩放问题; 点击触发到其他地方问题;
	- js文件保护,extenHook 排除;
	- 文档权限数据来源; [目标文件夹/部门; ]
	- 防xxs优化: 文件名称显示,属性,地址栏,重命名,分享,压缩包,历史记录,树目录,hover的name/path...(支持空格显示)

##### bug 修复
- 移动端:重命名,删除时触发backspace快捷键问题处理;
- 网络差的情况:文件列表下拉刷新;文件加载完成,下拉刷新状态恢复;
- 桌面:打开文件夹对话框,resize没有生效问题处理;
- 移动端分享页面,下载按钮保留;
- 我的分享,分享给我的;(文档不存在时数量分页问题处理;以最终source查询结果为最终结果)
- 编辑器移动端(UC)兼容: 点击编辑不能弹出键盘; 搜索框输入时被键盘挡住
- 移动端多选时避免自动定位到最后选中位置;
- 移动端调用文本文件编辑,界面窗口不全屏问题处理;
- 打开文件夹失败,当前文件夹处理为当前列表内容;历史记录删除;


## 1.06 版本更新 
> 移动端H5完美适配,支持多选操作  
> **发布于: 2020.03.14**

- 侧边栏延迟展开
- 地址栏点击:触发到切换输入框问题;
- 进入后台用户管理再返回文件管理  文件选中样式变化
- 上传进度信息展示处理
- 管理员 首次自动添加收藏夹
- 上传限制: 最大文件大小限制; 扩展名限制;
- 权限说明:加入拥有管理权限的人;
- 多选操作;
	- 多选栏进出;事件绑定;样式处理
	- 多选文件选择处理;样式处理;
	- 底部操作列表处理;操作处理;
	- 全选/取消等操作;
	- 多选入口添加到右键菜单
	- 长按进入多选;(去除长按进入右键菜单事件)
	- 桌面多选处理;
	- 不支持多选的目录处理: 分享给我的;我所在的部门;
	- 点击主动触发多选操作菜单
	- 文件选择框:禁用多选操作;
	- 点击操作完成,取消多选状态;
- UC视频播放失败问题
- 运行时extendHook
- 多语言英语适配优化
- 多选等操作屏蔽:分享文件夹,文件文件夹选择组件;
- 样式优化: markdown全屏预览;工具栏重叠对话框标题栏处理; 组织架构展开层盖住菜单展开栏处理;
- UC新建/重命名 处理;(区域点击,右侧设置焦点处理快捷键,在移动端屏蔽)
- UC视频播放关闭问题
- iOS https视频播放问题(fileOut 输出多出内容错误)
- 列表模式:重命名,图标位置错位;


## 1.05 版本更新
> 移动端H5适配  
> **发布于: 2020.03.06**


- 同步修改目录确认是否保存对话框; 关闭也会保存数据;
- 同步文件夹;拖入过多子内容的时候,系统通知丢失情况,通知用户手动启动;
- 上传选择同步文件夹过滤支持: 不允许选择C:/盘
- formMaker 表单验证;不在该tab中的内容校验,并自动定位-当前tab优先;
- 设置tab配置到路由;刷新保持tab选中;
- 路由map支持title: 配置名称; 多级路由自动进行拼接;
- saveFile;同driver 则copy; 指定文件名处理;
- 文件夹外链分享: 右键菜单功能屏蔽处理;
- 重置mime-type;
- 微信分享url地址多出拼接引起错误兼容处理;
- 导入用户: 上传后,部门下拉框选择部分选择不了(被挡住);
- 搜索: 文件大小区间(换算为M); 不选择文档文件夹/文件类型,默认只搜索文件;
- tips.toast 隐藏后没有消失导致界面点击挡住处理;
- 用户管理: 多选用户-批量添加到部门,设置权限没有生效; 
- space 快捷键打开屏蔽;
- 添加到主屏幕 pwa 支持;添加到主屏幕 去除地址栏
- markdown预览;
- 不是分享单页面:音乐播放不全屏;
- 无标题弹框,最小化处理;
- 禁用下载: 分享页面下载按钮隐藏;
- 授权用户: 分享页面:项目主页;
- 登陆:登陆中-按钮loading处理;disabled;
- accessToken错误 提示优化  登录已失效,请重新登录
- 搜索缓存:当创建,删除等操作后自动清空缓存;
- 图片播放,点击蒙层区域;图片关闭处理;
- 分享文件夹:
	- oexe图标处理;
	- 权限处理:去除复制,复制到等功能,屏蔽拖拽; 去除勾选;
	- 树目录刷新;
	- 接口简化:只需要传入path;无需再传入shareID;
- 内部安全优化:
	- 安全打开HTML(sandbox);kodApp.remove('htmlView');普通用户禁用html预览;
	- html/htm 编辑修改处理;打开预览处理;分享处理;
	- 轻应用:打开网页加入sandbox;
- 单文件分享,分享文件单页预览;对象释放处理;
- iframe打开不显示导航栏: 个人中心,打开后台---在进入文件管理;
- bug fix: 桌面-打开文件管理,再打开轻应用打不开的问题处理;
- flash 打开处理; 轻应用添加swf扩展名则以flash方式打开;
- 内部协作分享:拼接sourceID 检测是否归属于该分享;
- 相对路径引用:(js处理;相对指定文件的路径拼接)
	- 文件相对路径下载接口: kod路径; 物理路径; IO路径; 内部分享文件夹;权限处理;
	- 外链分享文件夹: 相对路径处理;
	- markdown:图片相对路径解析处理;
	- Dplayer 字幕处理;
	- markdown图片选择,如果为同父目录;则转换为相对路径;
- 静态资源路径拼接:STATIC_PATH;后面去除多余/;避免阿里云ooss地址访问不了的问题;
- 压缩包查看,点击触发菜单按钮失效问题处理;
- webpack 文件自动加载子文件;路径处理;(cdn支持);
- cdn资源分离,字体样式跨域处理支持;
- 列表模式,文件文件夹重命名图标异常处理;
- 树目录展开处理
- 右键菜单,hover子菜单显示问题处理;
- 移动端适配优化:
	- android 界面整体缩放适配;
	- 微信ios刷新引起代码异常问题(类方法丢失,点击事件不响应等情况); 自动刷新;
	- 菜单,二级菜单下拉菜单位置自适应处理;
	- 右键菜单;二级菜单展开处理;
- 通用错误提示页面;
- 文件夹分享调整:
	- 文件预览支持新页面打开
	- 新页面打开markdown;图片相对路径引用处理;
	- 有密码时移动端音乐视频播放cookie问题;单文件分享同理处理;
	- 文件夹分享,-topbar去除下载;去除多选压缩下载,文件夹下载;
- 上传失败提示优化: server/http; server-414提示上传大小限制; 其他通用限制;
- 服务器报错: 504通用服务器错误处理提示优化[request status code]; 原因;解决方法; 弹出层;
- 系统管理员:侧边栏目录加入物理根目录入口:仅管理员可用
- 菜单管理:加入权限选择;
- 第三方登陆:
	- 微信内打开kod微信登陆优化:微信中直接调用微信jssdk进行登陆(无法扫码) 
	- 企业微信,钉钉内打开:开启了插件则对应自动登陆处理

##### 移动端初步兼容

- 登陆页兼容;
- 后台兼容: 根据宽度自适应左侧菜单;
	- 输入框等样式兼容;
	- table 列表宽度及显示优化
	- 菜单切换固定在左上角;blur效果;
	- formMaker 表单标题内容自适应; inline内容自动换行;
	- 插件编辑:左侧菜单时-则添加菜单 dialog-form-has-menu;
	- 存储管理:添加编辑界面样式优化;
	- formMaker 含有菜单;菜单样式统一优化;[加入到后台的form 菜单统一使用simple]
	- 操作菜单,hover下拉菜单,点击触发; [id宽度 ]
	- 用户管理,部门列表开启与收缩;
- 弹出层统一自动最大化; [formMaker 左对齐 title-left]
- 导航菜单自适应
	- 菜单导航:宽度小于800;自适应到顶部;
	- 导航菜单模块自动收缩到子菜单;
- 个人中心适配
	- 左侧菜单自动隐藏,展开切换;
	- 个人中心内容样式兼容;
- 分享单页面样式适配;
- 文件管理列表:
	- 地址栏处理;
	- 搜索栏处理
	- 去除拖拽相关动作绑定;
	- 双击点击: 打开对象;
	- 拖拽:去除文件拖拽/树目录拖拽绑定; isWindowSmall,isWindowTouch
	- 分享: 界面优化;外链分享界面适配;
	- 树目录:自动隐藏;
	- 属性: 文件属性优化;界面适配;
	- 选择/点击处理: 单击直接打开文件/文件夹; 菜单点击---管理菜单;
	- 弹出层处理: 
		- 文件管理:删除文件/清空回收站; 
		- 个人中心:解绑微信;绑定微信;
		- 后台:菜单删除;用户从部门移除/删除; 删除部门;角色删除;岗位删除;权限删除;io删除;
	- 视频播放优化;
	- 文件管理弹出层自适配[wap ]
	- 菜单展开隐藏动画优化: 文件树目录;个人中心左侧菜单;后台左侧菜单,后台用户管理部门树
	- 列表模式: 去除标题栏, 内容自适应;
	- 地址栏:路径面包屑样式优化;
	- 轻应用菜单自动处理;
	- 分享文件夹页面样式适配
	- 其他优化: 关于弹出层,权限说明弹出层;
	- 登陆界面:样式优化;
	- 工具栏: + 右键菜单功能自适应调出;
	- hover点击样式处理;
	- 移动端滚动条优化;(去除滚动条优化,使用系统滚动条)
	- 下拉刷新:文件区下拉刷新;
	- 编辑器:
		- 左侧树目录自动隐藏;
		- 去除右侧预览窗口; 去除工具栏不重要按钮;
		- 各类操作不自动添加编辑器焦点;
		- 右键菜单优化;
	- 上传框优化;
	- 弹出层统一优化;进出场动画优化;
	- 文件选择组件;(文件管理优化);
	- 桌面:点击处理/右键菜单处理; 
	- 右键菜单优化;
		- 样式优化
		- 进出动画优化
		- 蒙版,取消键处理;
		- hover点击样式效果
		- 点击处理,文件点击处理;(click item-menu触发显示菜单)
		- 事件冲突处理(mousedown,隐藏处理)
		- 二级菜单展开优化;
		- 点击事件处理;
	- 上传:从相册选择,从文件选择;
	- 高级搜索下拉框蒙版层处理;
	- 搜索下拉菜单动画;
	- 类实例化事件:onInitBefore,onInitAfter,onRemove;
	- 历史记录对话框
	- 压缩文件打开对话框;
	- 对话框最大化,取消还原;
	- 树目录右键菜单点击触发;
	- 对话框进出动画优化;ios 动画闪烁问题处理;
	- 文件列表:文件点击样式;点击完成样式;选中样式处理;
	- 列表模式:时间放在大小前面; [移动端特殊处理; ]
	- 新建&重命名文件(文件夹); 列表模式/图标模式样式优化;
	- 列表模式:没有附属信息;标题垂直居中;
- 其他细节
	- 移动端js代码以注入形式整合分离到统一位置;
	- 移动端css样式整理;
	- 桌面文件: 点击,菜单操作等状态样式处理;
	- 自适应菜单展开关闭动画处理; 点击菜单项自动关闭菜单处理;树目录处理;
	- 显示细节优化: 树目录右键菜单按钮显示;下拉刷新图标优化;操作菜单宽度处理;
	- ipad:移动设备兼容: 右键菜单样式(文件菜单处理)
	- alert对话框样式位置优化; 移动端对话框拖拽处理;
	- 分享页面:标题栏统一优化;
	- 分享视频播放,音乐播放优化;视频自动播放;分享图片优化;
	- 后台自适应细节优化:通用表单样式处理;表格样式优化;日志列表样式优化;
	- 编辑器,选择语言超出问题; markdown工具栏不显示问题处理(父元素overflow,子元素position)
	- 高级搜索,用户选择组件被截断问题处理;
- 样式显示适配
	- 菜单横向竖向,自适应展示
	- 样式处理: -下拉菜单;文件hover;文件列表分隔线;
	- 多语言切换,loading;
	- markdown 菜单点击;滚动定位到指定位置;
	- 插件保存后:自动关闭插件设置对话框; 需要保持的通过通用字段配置;
	- 桌面时钟超出用户下拉菜单
	- 分享文件夹,展开菜单底部被挡住问题处理;
	- 编辑器: 暗色主题下,右键菜单样式处理;某个主题下导致界面卡死问题;
	- 触屏大屏幕,右键菜单切换位移大小处理;动画后不显示处理;
	- 微信:下载屏蔽处理;
	- 已登录情况视频播放失败问题;accessToken加入;
	- 非分享单页情况: 音乐视频播放器,最大或最小化按钮保持;
- 复制io存储到source;同内容文件处理;
- 适配调整:
	- chrome pwa 地址栏添加支持;
	- 菜单toggle展开禁止冒泡(ios-uc 会触发展开菜单内的点击事件)
	- 点击菜单栏按钮触发右键:禁止冒泡(导致菜单展开后又关闭)
	- 路径进入前进后退:explorer路由;主对象路径变更地址栏更新;
	- 部分浏览器,视频播放被劫持显示界面处理;
	- 当前文件夹属性/权限;不显示问题处理;



## 1.04 更新优化
> **发布于: 2020.01.15**

- 插件接口功能对外功能增强;(可添加到子菜单,二级菜单)
- 通用文件存取处理;临时文件上传;
- office编辑部分服务器兼容问题处理
- 编辑器,搜索函数列表后,编辑区编辑会引起焦点错位问题修复;  相关快捷键优化;
- 部分服务器下载中文文件乱码问题(windows/php5.3);
- 部分服务器压缩下载;中文情况支持兼容;(windows/php5.3);
- 其他已知问题修复优化;


## 1.03 更新优化:
> **发布于: 2020.01.12**

- 部分服务器使用opcache引起502错误兼容处理;
- lock加解锁处理; 超时处理
- 空间尺寸大小更新; 数值计算准确性处理;
- 非系统管理员管理用户时检测
	1. 修改,删除等写操作不能针对系统管理员;
	2. 添加用户,设置用户; 权限角色不能设置为系统管理员;
- 多语言优化: 权限组-用户配置修改; 系统设置-分片大小描述;
- zip解压缩预览
- 服务器502报错; 文件锁没有解锁导致sqlite 读写失败问题处理;
- 阿里云oss上传报错问题处理 : https站点请求http报错;
- session处理; cookie的key设置到子站点;
- 用户习惯设置数据LocalData隔离:  站点hash + userID + key;
- 登陆link自动连接 如果为host则不添加;
- 登录页面产品名,logo显示优化;
- 支持关闭多语言;设置默认语言; 
- 文件列表分页: 默认显示;
- 菜单管理: 默认菜单不可编辑使用disabled className;


## 1.02 更新优化
> **发布于: 2020.01.10**

- 配置不完整提示; 安装检测加入shell_exec 检测;
- 收藏夹: 目录不存在时红色标记;(io不存在也如此处理);
- 自定义html/css 错误兼容处理; try/catch 报错提示;
- 存储管理;文件夹查看;右键菜单提示pathAction错误处理;
- windows中文编码处理;(中文文件/文件夹)
	- 列表/新建文件夹/新建文件/重命名/移动/复制/修改内容/上传/下载/属性子内容个数及空间;
	- 中文子文件夹:如上操作;
	- 删除中文文件夹包含中文子文件夹;
	- 压缩/查看压缩包内容/解压操作/打开压缩包内问题件/解压子内容
- windows FTP 中文编码处理;(中文文件/文件夹)
	- 列表/新建文件夹/新建文件/重命名/移动/复制/修改内容/上传/下载/属性-子内容个数及空间;
	- 中文子文件夹:如上操作; 
	- 删除中文文件夹包含中文子文件夹;
	- 压缩/查看压缩包内容/解压操作/打开压缩包内问题件/解压子内容
	- 存储设置;ftp添加服务器编码设置; 避免乱码;
- IO相互剪切拷贝
	- 本地含中文拷贝到DB; DB拷贝到本地;(md5为空情况处理)
	- FTP含中文拷贝到DB; DB拷贝到FTP;
	- 本地含中文拷贝到FTP;FTP拷贝到本地;
	- FTP含中文拷贝到OSS; OSS拷贝到FTP;
- zip解压/解压字内容: 当zip文件不在选中状态时处理; 
- 文件管理对话框: kodApp 初始化处理; rightMenu.showBefore/全局事件基于对象内绑定;锁定作用域;
- 文件文件夹: 已存在检测错误:(复制文件,查询结果没有hashSimple 则忽略已存在) 没有计算hashSimple/hashMd5;
- 设置相关优化:
	- 版权信息/powerby等信息设置; 授权与否自动加载;
	- 无壁纸时桌面背景颜色处理; 随机壁纸优化处理; 随机壁纸来源处理;
	- logo设置: 左侧菜单栏logo / 后台管理头部logo/个人设置logo; 
	- 后台主题切换; 黑色模式开关
- fileApi 文件选择时选择文件; 值初始默认进入文件所在父文件夹;不存在时不传入初始文件夹(轻应用选择图标);
- fileView 文件夹图片缩略图报错;
- 历史版本: 当前版本归档时间为文档最后修改时间;  没有用户信息时显示优化;
- 访问不存在地址时地址栏图标处理[统一文件夹 ] 
- 访问不存在目录界面提示; 
- 文件不存在统一优化; 不存在提示;在回收站中也提示;
- PC端同步: 打开云端文件不存在处理;0的处理;
- kod集群模式支持
	- redis集群支持: 配置,自动适配
	- memcache集群支持: 配置,自动适配;
	- mysql集群支持:配置,自动适配; 读写分离;支持一主多从;  DB_RW_SEPARATE/DB_DEPLOY_TYPE
- 用户部门管理:
	- 用户列表: 用户头像显示; 
	- 用户列表: 账号/昵称 确保宽度最窄为100px;
	- 用户编辑/新建: 更多信息: 加入性别,电话,邮箱,
	- 用户编辑: 登陆账号后加入进入该用户文件夹的按钮(同4.4); 参考 admin/storage/index openFolder
	- 部门编辑: 部门名称后加入进入该部门文件夹的按钮; 参考 admin/storage/index openFolder
	- 用户管理: 用户excle xlsx批量导入 
		- excle模板: 账号/姓名/性别/电话/邮箱/密码 
		- 公共:[空间大小/角色/所在部门 ];
- 后台系统设置: 菜单管理;	
- 水印旋转后不完整问题处理;	
- onlyoffice协作编辑处理: 同文件多种方式更新(上传覆盖,本地编辑)
- office编辑历史版本打不开问题处理;
- 本地文件夹driverio; 文件夹复制到DB; 没有复制文件/复制丢失md5问题处理;


---- 

> kodbox 基于kodexplorer完全重构优化.   
[kodexplorer产品更新日志](http://doc.kodcloud.com/#/others-changelog)
